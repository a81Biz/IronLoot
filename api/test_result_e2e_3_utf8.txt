
> iron-loot-api@0.2.3 test:e2e
> jest --config ./test/jest-e2e.json

node.exe : FAIL test/e
2e/orders-flow.e2e-spe
c.ts (12.813 s)
En línea: 1 Carácter: 
1
+ & "C:\Program Files\
nodejs/node.exe" 
"C:\Program 
Files\nodejs/node_mo 
...
+ ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo    
          : NotSpeci  
  fied: (FAIL test/   
 e2e/o...c.ts (12.    
813 s):String) []    
, RemoteException
    + FullyQualifiedE 
   rrorId : NativeCo  
  mmandError
 
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.798Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.821Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.log
      prisma:error 
      Invalid `prisma.
user.create()` 
invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\e2e\orders-flow.e2e-
spec.ts:39:37
      
        36 const 
scheduler = app.get(Au
ctionSchedulerService)
;
        37 
        38 // 1. 
Create Seller & Buyer
      ÔåÆ 39 const 
buyer = await 
prisma.user.create(
      Unique 
constraint failed on 
the fields: (`email`)

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

  ÔùÅ Orders Flow 
(E2E) ÔÇ║ should 
execute the full 
financial flow on 
auction close

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\orders-flow.e2e-sp
ec.ts:39:37

      36 const 
scheduler = app.get(Au
ctionSchedulerService)
;
      37 
      38 // 1. Create 
Seller & Buyer
    ÔåÆ 39 const 
buyer = await 
prisma.user.create(
    Unique constraint 
failed on the fields: 
(`email`)

    [0m [90m 37 
|[39m
     [90m 38 |[39m  
   [90m// 1. Create 
Seller & Buyer[39m
    [31m[1m>[22m[3
9m[90m 39 |[39m     
[36mconst[39m buyer 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 40 |[39m  
     data[33m:[39m {
     [90m 41 |[39m  
       
email[33m:[39m [32m
'buyer_e2e@test.com'[
39m[33m,[39m
     [90m 42 |[39m  
       
username[33m:[39m [
32m'buyer_e2e'[39m[3
3m,[39m[0m

      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:7315)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/orders-flow.e2e-spec
.ts:39:19)

PASS test/e2e/user-pro
file-sync.e2e-spec.ts 
(13.309 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.659Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.683Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.807Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.823Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
574a8892-ab47-4c77-82f
3-e6d6fd92f27f","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"sync-test@example.co
m","username":"syncuse
r"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.840Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"sync-
test@example.com","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.845Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"syncuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.142Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"sync
-test@example.com","us
ername":"syncuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.148Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
574a8892-ab47-4c77-82f
3-e6d6fd92f27f","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"d4778273-0124-4577-
a4f1-2cf406d86b05"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.149Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"sync-t
est@example.com","user
Id":"d4778273-0124-457
7-a4f1-2cf406d86b05"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.234Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.236Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"574a8892-ab47-4c77-82
f3-e6d6fd92f27f","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":430,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.291Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f1db9448-6246-4c87-a5
f0-0667f2228979","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"d477
8273-0124-4577-a4f1-2c
f406d86b05","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.293Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f1db9448-6246-4c87-a5
f0-0667f2228979","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"d47
78273-0124-4577-a4f1-2
cf406d86b05","http":{"
method":"GET","path":"
/"},"data":{"userId":"
d4778273-0124-4577-a4f
1-2cf406d86b05"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.299Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f1db9448-6246-4c87-a5
f0-0667f2228979","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"d
4778273-0124-4577-a4f1
-2cf406d86b05","durati
on":8,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.341Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0045bd3a-8e2b-4787-b6
11-ca15990621a5","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"d477
8273-0124-4577-a4f1-2c
f406d86b05","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.342Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0045bd3a-8e2b-4787-b6
11-ca15990621a5","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"d47
78273-0124-4577-a4f1-2
cf406d86b05","http":{"
method":"GET","path":"
/"},"data":{"userId":"
d4778273-0124-4577-a4f
1-2cf406d86b05"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.344Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0045bd3a-8e2b-4787-b6
11-ca15990621a5","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"d
4778273-0124-4577-a4f1
-2cf406d86b05","durati
on":3,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.357Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
57cbf52b-0c23-4b23-a01
5-48e2711ba6b7","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"d4778
273-0124-4577-a4f1-2cf
406d86b05","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.358Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"57cbf52b-0c23-4b23-a0
15-48e2711ba6b7","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"d477827
3-0124-4577-a4f1-2cf40
6d86b05","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"d4
778273-0124-4577-a4f1-
2cf406d86b05","dto":{"
profile":{"country":"U
S","legalName":"Legal 
Sync Entity"}}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.367Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
57cbf52b-0c23-4b23-a01
5-48e2711ba6b7","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"d4778273-0124-4577
-a4f1-2cf406d86b05","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"d4778273-0124
-4577-a4f1-2cf406d86b0
5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.377Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
57cbf52b-0c23-4b23-a01
5-48e2711ba6b7","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"d4
778273-0124-4577-a4f1-
2cf406d86b05","duratio
n":20,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.398Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d26afd19-3cf3-41b3-8b
f5-e4e659e5bf96","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"d477
8273-0124-4577-a4f1-2c
f406d86b05","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.399Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d26afd19-3cf3-41b3-8b
f5-e4e659e5bf96","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"d47
78273-0124-4577-a4f1-2
cf406d86b05","http":{"
method":"GET","path":"
/"},"data":{"userId":"
d4778273-0124-4577-a4f
1-2cf406d86b05"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.403Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d26afd19-3cf3-41b3-8b
f5-e4e659e5bf96","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"d
4778273-0124-4577-a4f1
-2cf406d86b05","durati
on":5,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

PASS test/e2e/notifica
tions.e2e-spec.ts 
(13.767 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.888Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.913Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.006Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.017Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
95a20ee1-976d-4e51-a19
a-995aa4940f55","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-vqaqar@test.com
","username":"uservqaq
ar"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.040Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
vqaqar@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.055Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"uservqaqar","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.324Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-vqaqar@test.com","use
rname":"uservqaqar"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.329Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
95a20ee1-976d-4e51-a19
a-995aa4940f55","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"d750a057-c60d-4707-
8f48-0b60e7acc5c5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.329Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-v
qaqar@test.com","userI
d":"d750a057-c60d-4707
-8f48-0b60e7acc5c5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.372Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.373Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"95a20ee1-976d-4e51-a1
9a-995aa4940f55","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":367,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.396Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f664b8cc-9742-4d1b-97
9c-1b10133a8f69","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.397Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f664b8cc-9742-4d1b-979
c-1b10133a8f69","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-vqaqar@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.620Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f664b8cc-9742-4d1b-979
c-1b10133a8f69","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"d750a057-c60d-4707-8
f48-0b60e7acc5c5","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"d750a057-c60d-47
07-8f48-0b60e7acc5c5"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.632Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f664b8cc-9742-4d1b-97
9c-1b10133a8f69","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"d750a057-c6
0d-4707-8f48-0b60e7acc
5c5","duration":237,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.656Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b1799145-db8a-4be1-8a
cf-295decdaf0fd","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"d750a057-c60d-47
07-8f48-0b60e7acc5c5",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.661Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b1799145-db8a-4be1-8a
cf-295decdaf0fd","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"d750a057-c60d
-4707-8f48-0b60e7acc5c
5","duration":5,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.683Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"5e3c22fd-e2
b0-499b-a46b-901fc9e7d
4f1","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.694Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3975c367-9bab-4fb4-ab
c7-a0d2dc849dc3","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"d750a057-c60d-47
07-8f48-0b60e7acc5c5",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.697Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3975c367-9bab-4fb4-ab
c7-a0d2dc849dc3","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"d750a057-c60d
-4707-8f48-0b60e7acc5c
5","duration":3,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.712Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"830462c4-cf8e-4dd5-86
74-35b3a4ffa913","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"d750a057-
c60d-4707-8f48-0b60e7a
cc5c5","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.717Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"830462c4-cf8e-4dd5-86
74-35b3a4ffa913","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"d750a0
57-c60d-4707-8f48-0b60
e7acc5c5","duration":5
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.732Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"abdcd826-dc92-4045-92
18-6374871b5ff3","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"d750a057-c60d-47
07-8f48-0b60e7acc5c5",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.736Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"abdcd826-dc92-4045-92
18-6374871b5ff3","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"d750a057-c60d
-4707-8f48-0b60e7acc5c
5","duration":4,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.747Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5cd462dd-a801-49a8-ab
e5-cfee92837565","mess
age":"NotificationsCon
troller.markAsRead() c
alled","context":"Noti
ficationsController","
userId":"d750a057-c60d
-4707-8f48-0b60e7acc5c
5","http":{"method":"P
ATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.753Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5cd462dd-a801-49a8-ab
e5-cfee92837565","mess
age":"NotificationsCon
troller.markAsRead() c
ompleted","context":"N
otificationsController
","userId":"d750a057-c
60d-4707-8f48-0b60e7ac
c5c5","duration":6,"ht
tp":{"method":"PATCH",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.763Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0e9072bc-9b4e-4b28-bb
d9-b1184c7010e3","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"d750a057-
c60d-4707-8f48-0b60e7a
cc5c5","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.767Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0e9072bc-9b4e-4b28-bb
d9-b1184c7010e3","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"d750a0
57-c60d-4707-8f48-0b60
e7acc5c5","duration":5
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.774Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"1a3025c7-9c
ff-4f77-8b96-dd8ce3519
708","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.784Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c23a95fc-5fc2-45be-b8
0c-16fe07460380","mess
age":"NotificationsCon
troller.markAllAsRead(
) called","context":"N
otificationsController
","userId":"d750a057-c
60d-4707-8f48-0b60e7ac
c5c5","http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.789Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c23a95fc-5fc2-45be-b8
0c-16fe07460380","mess
age":"NotificationsCon
troller.markAllAsRead(
) completed","context"
:"NotificationsControl
ler","userId":"d750a05
7-c60d-4707-8f48-0b60e
7acc5c5","duration":5,
"http":{"method":"PATC
H","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.800Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6580bbea-0a5d-4841-ba
e3-25586e8a1c15","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"d750a057-
c60d-4707-8f48-0b60e7a
cc5c5","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.803Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6580bbea-0a5d-4841-ba
e3-25586e8a1c15","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"d750a0
57-c60d-4707-8f48-0b60
e7acc5c5","duration":3
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\no
tifications.e2e-spec.t
s:24:17) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: {
          modelName: 
'User',
          field_name: 
'notifications_user_id
_fkey (index)'
        }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/notifications.e2e-sp
ec.ts:24:17)

PASS test/e2e/profile-
persistence.e2e-spec.t
s (13.849 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.111Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.132Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.219Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.233Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
01c00414-a6c9-4545-ab0
c-db11a8216522","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test_persist_1768245
345175@example.com","u
sername":"user_1768245
345175"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.252Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test_
persist_1768245345175@
example.com","found":f
alse}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.258Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user_176824534
5175","found":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.492Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
_persist_1768245345175
@example.com","usernam
e":"user_1768245345175
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.499Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
01c00414-a6c9-4545-ab0
c-db11a8216522","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"941d83f2-6760-431b-
b7c2-6ef92d530d81"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.499Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test_p
ersist_1768245345175@e
xample.com","userId":"
941d83f2-6760-431b-b7c
2-6ef92d530d81"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.543Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.544Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01c00414-a6c9-4545-ab
0c-db11a8216522","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":325,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.568Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0fa4b746-76a7-4374-aa
9a-2a427b825b4b","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.570Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0fa4b746-76a7-4374-aa9
a-2a427b825b4b","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test_persist_
1768245345175@example.
com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.805Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0fa4b746-76a7-4374-aa9
a-2a427b825b4b","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"941d83f2-6760-431b-b
7c2-6ef92d530d81","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"941d83f2-6760-43
1b-b7c2-6ef92d530d81"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.813Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0fa4b746-76a7-4374-aa
9a-2a427b825b4b","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"941d83f2-67
60-431b-b7c2-6ef92d530
d81","duration":245,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.829Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1542faf6-5421-44b7-af6
e-d83f1f1eb3ad","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"941d8
3f2-6760-431b-b7c2-6ef
92d530d81","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.831Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1542faf6-5421-44b7-af
6e-d83f1f1eb3ad","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"941d83f
2-6760-431b-b7c2-6ef92
d530d81","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"94
1d83f2-6760-431b-b7c2-
6ef92d530d81","dto":{"
displayName":"Persiste
d Name"}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.849Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1542faf6-5421-44b7-af6
e-d83f1f1eb3ad","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"941d83f2-6760-431b
-b7c2-6ef92d530d81","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"941d83f2-6760
-431b-b7c2-6ef92d530d8
1"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.854Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1542faf6-5421-44b7-af6
e-d83f1f1eb3ad","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"94
1d83f2-6760-431b-b7c2-
6ef92d530d81","duratio
n":25,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.881Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"28c06595-9580-4028-b8
23-580ff1f4d97f","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"941d
83f2-6760-431b-b7c2-6e
f92d530d81","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.882Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"28c06595-9580-4028-b8
23-580ff1f4d97f","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"941
d83f2-6760-431b-b7c2-6
ef92d530d81","http":{"
method":"GET","path":"
/"},"data":{"userId":"
941d83f2-6760-431b-b7c
2-6ef92d530d81"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.885Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"28c06595-9580-4028-b8
23-580ff1f4d97f","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"9
41d83f2-6760-431b-b7c2
-6ef92d530d81","durati
on":4,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.897Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6e330ea-f3f4-4576-a6
04-762648822cfb","mess
age":"Refreshing token
","context":"AuthServi
ce","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.907Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6e330ea-f3f4-4576-a6
04-762648822cfb","mess
age":"Token refreshed 
successfully","context
":"AuthService","http"
:{"method":"POST","pat
h":"/"},"data":{"userI
d":"941d83f2-6760-431b
-b7c2-6ef92d530d81"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.916Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"85c9a23a-ce38-409f-91
91-807aa7f301ce","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"941d
83f2-6760-431b-b7c2-6e
f92d530d81","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.917Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"85c9a23a-ce38-409f-91
91-807aa7f301ce","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"941
d83f2-6760-431b-b7c2-6
ef92d530d81","http":{"
method":"GET","path":"
/"},"data":{"userId":"
941d83f2-6760-431b-b7c
2-6ef92d530d81"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.919Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"85c9a23a-ce38-409f-91
91-807aa7f301ce","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"9
41d83f2-6760-431b-b7c2
-6ef92d530d81","durati
on":3,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

FAIL test/e2e/wallet.e
2e-spec.ts (13.824 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.124Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.147Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.log
      Creating test 
user with email: walle
t-test-1768245346184@e
xample.com

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:2
9:15)

    console.log
      Test user 
created: 31b16502-043d
-438b-805a-d6f144c5548
1

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:4
0:15)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.261Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"83a32143-abff-4f94-a2
97-eb8126d94d82","mess
age":"Get wallet balan
ce","context":"WalletC
ontroller","userId":"3
1b16502-043d-438b-805a
-d6f144c55481","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.279Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"83a32143-abff-4f94-a2
97-eb8126d94d82","mess
age":"WalletController
.getBalance() complete
d","context":"WalletCo
ntroller","userId":"31
b16502-043d-438b-805a-
d6f144c55481","duratio
n":19,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.317Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
36566bf2-8a8a-4ce9-93a
7-15e0b41b5725","messa
ge":"WalletController.
deposit() called","con
text":"WalletControlle
r","userId":"31b16502-
043d-438b-805a-d6f144c
55481","http":{"method
":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.829Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
36566bf2-8a8a-4ce9-93a
7-15e0b41b5725","messa
ge":"Deposit 
successful for user [T
OKEN]","context":"Wall
etService","userId":"3
1b16502-043d-438b-805a
-d6f144c55481","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"31b16502-04
3d-438b-805a-d6f144c55
481","amount":100,"ref
erenceId":"PAY-100","n
ewBalance":100}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.835Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
36566bf2-8a8a-4ce9-93a
7-15e0b41b5725","messa
ge":"WalletController.
deposit() completed","
context":"WalletContro
ller","userId":"31b165
02-043d-438b-805a-d6f1
44c55481","duration":5
18,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.870Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
36566bf2-8a8a-4ce9-93a
7-15e0b41b5725","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"31b165
02-043d-438b-805a-d6f1
44c55481","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"PAYMENT_CONFIRMED","e
ntityType":"Payment"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.874Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
45cc453d-88ae-41cf-ba3
a-742ea36014b8","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"31b16502
-043d-438b-805a-d6f144
c55481","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.885Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
45cc453d-88ae-41cf-ba3
a-742ea36014b8","messa
ge":"Withdrawal 
successful for user [T
OKEN]","context":"Wall
etService","userId":"3
1b16502-043d-438b-805a
-d6f144c55481","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"31b16502-04
3d-438b-805a-d6f144c55
481","amount":40,"refe
renceId":"e2e-with-1",
"newBalance":60}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.887Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
45cc453d-88ae-41cf-ba3
a-742ea36014b8","messa
ge":"WalletController.
withdraw() completed",
"context":"WalletContr
oller","userId":"31b16
502-043d-438b-805a-d6f
144c55481","duration":
14,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.901Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fd3b5ef2-353e-4844-a5a
6-aa799f22cae0","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"31b16502
-043d-438b-805a-d6f144
c55481","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.914Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fd3b5ef2-353e-4844-a5a
6-aa799f22cae0","messa
ge":"Insufficient 
balance for transactio
n","context":"Exceptio
nFilter","userId":"31b
16502-043d-438b-805a-d
6f144c55481","http":{"
method":"POST","path":
"/"},"data":{"httpStat
us":400,"isBusinessErr
or":true,"entityType":
"User","entityId":"31b
16502-043d-438b-805a-d
6f144c55481"},"error":
{"code":"INSUFFICIENT_
BALANCE","message":"In
sufficient balance 
for transaction","stac
k":"InsufficientBalanc
eException: 
Insufficient balance 
for transaction\n    
at C:\\DevOps\\Desarro
llos\\IronLoot\\api\\s
rc\\modules\\wallet\\w
allet.service.ts:128:1
5\n    at Proxy._trans
actionWithCallback (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:8000)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.927Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a49aa37c-674d-456b-ae
bc-a25835d1d0e3","mess
age":"Get wallet histo
ry","context":"WalletC
ontroller","userId":"3
1b16502-043d-438b-805a
-d6f144c55481","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.931Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a49aa37c-674d-456b-ae
bc-a25835d1d0e3","mess
age":"WalletController
.getHistory() complete
d","context":"WalletCo
ntroller","userId":"31
b16502-043d-438b-805a-
d6f144c55481","duratio
n":4,"http":{"method":
"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Wallet (e2e) 
ÔÇ║ /wallet/history 
(GET) - Transaction 
History

    expect(received).t
oBeInstanceOf(expected
)

    Expected 
constructor: Array

    Received value 
has no prototype
    Received value: 
undefined

    [0m [90m 112 
|[39m       [33m.[3
9mexpect([35m200[39m
)[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[3
9m[90m 114 |[39m    
 expect(res[33m.[39m
body[33m.[39mhistory
)[33m.[39mtoBeInstan
ceOf([33mArray[39m)
[33m;[39m
     [90m     |[39m 
                      
       
[31m[1m^[22m[39m
     [90m 115 |[39m 
    expect(res[33m.[
39mbody[33m.[39mhist
ory[33m.[39mlength)
[33m.[39mtoBeGreaterT
hanOrEqual([35m2[39m
)[33m;[39m [90m// 
Deposit + 
Withdraw[39m
     [90m 116 |[39m 
  })[33m;[39m
     [90m 117 |[39m 
})[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:1
14:30)

FAIL test/e2e/shipment
s.e2e-spec.ts (14.162 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.721Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.744Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.839Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.851Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a610ac43-eb26-41c1-a3f
5-e89a854816aa","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-foedh2@test.com
","username":"userfoed
h2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.874Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
foedh2@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.878Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userfoedh2","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.143Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-foedh2@test.com","use
rname":"userfoedh2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.150Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a610ac43-eb26-41c1-a3f
5-e89a854816aa","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"d2d07791-e539-48ec-
a9a9-c1bb43bfafc0"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.151Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-f
oedh2@test.com","userI
d":"d2d07791-e539-48ec
-a9a9-c1bb43bfafc0"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.249Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.251Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a610ac43-eb26-41c1-a3
f5-e89a854816aa","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":412,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.302Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5c2fc988-504d-4f40-a6
53-7be20c80c83d","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.304Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5c2fc988-504d-4f40-a65
3-7be20c80c83d","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-foedh2@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.525Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5c2fc988-504d-4f40-a65
3-7be20c80c83d","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"d2d07791-e539-48ec-a
9a9-c1bb43bfafc0","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"d2d07791-e539-48
ec-a9a9-c1bb43bfafc0"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.537Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5c2fc988-504d-4f40-a6
53-7be20c80c83d","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"d2d07791-e5
39-48ec-a9a9-c1bb43bfa
fc0","duration":235,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.544Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.545Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c33de704-e4cd-4b35-a57
9-0e0f97a084b7","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-c75tx@test.com"
,"username":"userc75tx
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.548Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
c75tx@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.550Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userc75tx","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.779Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-c75tx@test.com","user
name":"userc75tx"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.785Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c33de704-e4cd-4b35-a57
9-0e0f97a084b7","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"9e2ddacd-8ba5-4c28-
9ae5-889e2256fe70"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.786Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-c
75tx@test.com","userId
":"9e2ddacd-8ba5-4c28-
9ae5-889e2256fe70"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.798Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.798Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c33de704-e4cd-4b35-a5
79-0e0f97a084b7","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":254,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.810Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fc2dda7d-c181-4295-91
8e-dd1ffee187cf","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.811Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fc2dda7d-c181-4295-918
e-dd1ffee187cf","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-c75tx@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.036Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fc2dda7d-c181-4295-918
e-dd1ffee187cf","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"9e2ddacd-8ba5-4c28-9
ae5-889e2256fe70","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"9e2ddacd-8ba5-4c
28-9ae5-889e2256fe70"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.045Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fc2dda7d-c181-4295-91
8e-dd1ffee187cf","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"9e2ddacd-8b
a5-4c28-9ae5-889e2256f
e70","duration":235,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.063Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
093ec5f2-93ec-4061-a13
d-54a789a61642","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"d2d077
91-e539-48ec-a9a9-c1bb
43bfafc0","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.068Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
093ec5f2-93ec-4061-a13
d-54a789a61642","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
d2d07791-e539-48ec-a9a
9-c1bb43bfafc0","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.101Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
093ec5f2-93ec-4061-a13
d-54a789a61642","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"d2d077
91-e539-48ec-a9a9-c1bb
43bfafc0","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.log
      prisma:error 
      Invalid `any).sh
ipment.findUnique()` 
invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\e2e\shipments.e2e-sp
ec.ts:117:68
      
        114 
        115 
beforeAll(async () => 
{
        116   // eslin
t-disable-next-line @t
ypescript-eslint/no-ex
plicit-any
      ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
                
where: {
                  
orderId: undefined,
              ?   
id?: String,
              ?   
AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
OR?: 
ShipmentWhereInput[],
              ?   
NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
createdAt?: 
DateTimeFilter | 
DateTime,
              ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
              ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
              ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
              ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
              ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
              ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
              ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
              ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
                }
              })
      
      Argument 
`where` of type Shipme
ntWhereUniqueInput 
needs at least one of 
`id` or `orderId` 
arguments. Available 
options are marked 
with ?.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
create a shipment 
when authenticated as 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
fail if user is not 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

FAIL test/e2e/settings
.e2e-spec.ts (14.101 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.318Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.336Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.406Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.417Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5239c05b-b97a-4394-b9e
f-470f6437b998","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-jfw2t@test.com"
,"username":"userjfw2t
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.432Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
jfw2t@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.434Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userjfw2t","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.662Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-jfw2t@test.com","user
name":"userjfw2t"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.671Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5239c05b-b97a-4394-b9e
f-470f6437b998","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"2754ea9c-0324-4f4d-
93e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.672Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-j
fw2t@test.com","userId
":"2754ea9c-0324-4f4d-
93e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.727Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.728Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5239c05b-b97a-4394-b9
ef-470f6437b998","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":323,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.765Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3f2aa634-c121-4f11-92
2d-2aaa94499120","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.767Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3f2aa634-c121-4f11-922
d-2aaa94499120","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-jfw2t@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.997Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3f2aa634-c121-4f11-922
d-2aaa94499120","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"2754ea9c-0324-4f4d-9
3e8-42f9873e96a3","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"2754ea9c-0324-4f
4d-93e8-42f9873e96a3"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.009Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3f2aa634-c121-4f11-92
2d-2aaa94499120","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"2754ea9c-03
24-4f4d-93e8-42f9873e9
6a3","duration":244,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.032Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"775edf82-36cb-47c9-98
98-ac09653c983c","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"2754ea
9c-0324-4f4d-93e8-42f9
873e96a3","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.035Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"775edf82-36cb-47c9-98
98-ac09653c983c","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"275
4ea9c-0324-4f4d-93e8-4
2f9873e96a3","duration
":3,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.048Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
377bb5d5-ec9e-48b2-829
3-37ab9940b471","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.065Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de5c275b-25e5-4487-919
7-6144e30ca3f3","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"2754
ea9c-0324-4f4d-93e8-42
f9873e96a3","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.067Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"de5c275b-25e5-4487-91
97-6144e30ca3f3","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"2
754ea9c-0324-4f4d-93e8
-42f9873e96a3","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"2754ea9c-0324-4f4d
-93e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.097Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de5c275b-25e5-4487-919
7-6144e30ca3f3","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"275
4ea9c-0324-4f4d-93e8-4
2f9873e96a3","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"2754ea9c-0324-4f4d-9
3e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.109Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de5c275b-25e5-4487-919
7-6144e30ca3f3","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"2
754ea9c-0324-4f4d-93e8
-42f9873e96a3","durati
on":44,"http":{"method
":"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.121Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ceb1977e-2229-48e7-9fc
0-6c63702610ef","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"2754
ea9c-0324-4f4d-93e8-42
f9873e96a3","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.123Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ceb1977e-2229-48e7-9f
c0-6c63702610ef","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"2
754ea9c-0324-4f4d-93e8
-42f9873e96a3","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"2754ea9c-0324-4f4d
-93e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.127Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ceb1977e-2229-48e7-9fc
0-6c63702610ef","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"275
4ea9c-0324-4f4d-93e8-4
2f9873e96a3","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"2754ea9c-0324-4f4d-9
3e8-42f9873e96a3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.130Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ceb1977e-2229-48e7-9fc
0-6c63702610ef","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"2
754ea9c-0324-4f4d-93e8
-42f9873e96a3","durati
on":9,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.146Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e9c7013-2c93-4873-99d
a-25af091b731a","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"2754
ea9c-0324-4f4d-93e8-42
f9873e96a3","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.149Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e9c7013-2c93-4873-99d
a-25af091b731a","messa
ge":"[\"property 
invalidKey should not 
exist\"]","context":"E
xceptionFilter","userI
d":"2754ea9c-0324-4f4d
-93e8-42f9873e96a3","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
httpStatus":400,"isBus
inessError":true},"err
or":{"code":"VALIDATIO
N_ERROR","message":"Ba
d Request Exception","
stack":"BadRequestExce
ption: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.162Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2d689b4c-b4af-4de1-b33
b-d0d20c59cbb2","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"2754
ea9c-0324-4f4d-93e8-42
f9873e96a3","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.164Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2d689b4c-b4af-4de1-b33
b-d0d20c59cbb2","messa
ge":"[\"notifications.
email must be a 
boolean value\"]","con
text":"ExceptionFilter
","userId":"2754ea9c-0
324-4f4d-93e8-42f9873e
96a3","http":{"method"
:"PATCH","path":"/"},"
data":{"httpStatus":40
0,"isBusinessError":tr
ue},"error":{"code":"V
ALIDATION_ERROR","mess
age":"Bad Request Exce
ption","stack":"BadReq
uestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.174Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4676a09c-5905-4ec6-a4
c3-370526a6463d","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"2754ea
9c-0324-4f4d-93e8-42f9
873e96a3","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.176Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4676a09c-5905-4ec6-a4
c3-370526a6463d","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"275
4ea9c-0324-4f4d-93e8-4
2f9873e96a3","duration
":2,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update top-level 
settings

    TypeError: Cannot 
read properties of 
undefined (reading 
'email')

    [0m [90m 52 
|[39m       expect(re
sponse[33m.[39mbody
[33m.[39mlanguage)[3
3m.[39mtoBe([32m'en'
[39m)[33m;[39m
     [90m 53 |[39m  
     [90m// Should 
preserve other 
settings[39m
    [31m[1m>[22m[3
9m[90m 54 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
memail)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m
     [90m    |[39m  
                      
                  
[31m[1m^[22m[39m
     [90m 55 |[39m  
   })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m  
   it([32m'should 
update nested 
settings (deep merge)'
[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:54:42)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update nested 
settings (deep merge)

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: 
undefined

    [0m [90m 64 
|[39m
     [90m 65 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
    [31m[1m>[22m[3
9m[90m 66 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
minApp)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m [90m// Should 
preserve sibling[39m
     [90m    |[39m  
                      
                      
   
[31m[1m^[22m[39m
     [90m 67 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mlanguage)[33m.[39m
toBe([32m'en'[39m)[
33m;[39m [90m// 
Should preserve 
parent sibling[39m
     [90m 68 |[39m  
   })[33m;[39m
     [90m 69 
|[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:66:49)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
persist changes

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: "en"
    Received: 
undefined

    [0m [90m 92 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[3
9m[90m 94 |[39m     
  expect(response[33m
.[39mbody[33m.[39ml
anguage)[33m.[39mtoB
e([32m'en'[39m)[33m
;[39m
     [90m    |[39m  
                      
              
[31m[1m^[22m[39m
     [90m 95 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
     [90m 96 |[39m  
   })[33m;[39m
     [90m 97 |[39m  
 })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:94:38)

FAIL test/e2e/auctions
.e2e-spec.ts (14.205 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.798Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.823Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.920Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.941Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e08d36fc-83b1-4934-88c
6-9b21753a9d50","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-21qbl@test.com"
,"username":"user21qbl
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.961Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
21qbl@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.975Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user21qbl","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.252Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-21qbl@test.com","user
name":"user21qbl"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.262Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e08d36fc-83b1-4934-88c
6-9b21753a9d50","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"bb1e5ed6-be4c-4ea2-
a5c2-a4979caeb70b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.263Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-2
1qbl@test.com","userId
":"bb1e5ed6-be4c-4ea2-
a5c2-a4979caeb70b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.335Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.337Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e08d36fc-83b1-4934-88
c6-9b21753a9d50","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":417,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.371Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fb7625a-cc2e-48e8-b4
49-487c313a7eef","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.373Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fb7625a-cc2e-48e8-b44
9-487c313a7eef","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-21qbl@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.599Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fb7625a-cc2e-48e8-b44
9-487c313a7eef","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"bb1e5ed6-be4c-4ea2-a
5c2-a4979caeb70b","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"bb1e5ed6-be4c-4e
a2-a5c2-a4979caeb70b"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.608Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fb7625a-cc2e-48e8-b4
49-487c313a7eef","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"bb1e5ed6-be
4c-4ea2-a5c2-a4979caeb
70b","duration":237,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.614Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.616Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
15dc6642-738a-4d89-8ed
e-523dc7ab497c","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-0j2kmo@test.com
","username":"user0j2k
mo"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.618Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
0j2kmo@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.620Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user0j2kmo","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.857Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-0j2kmo@test.com","use
rname":"user0j2kmo"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.867Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
15dc6642-738a-4d89-8ed
e-523dc7ab497c","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"9884d08f-72f9-4342-
b7b3-3049463d41b4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.867Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-0
j2kmo@test.com","userI
d":"9884d08f-72f9-4342
-b7b3-3049463d41b4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.879Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.880Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"15dc6642-738a-4d89-8e
de-523dc7ab497c","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":266,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.903Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"41f3090b-d835-43f7-83
6b-95c7d03a2ab1","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.904Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
41f3090b-d835-43f7-836
b-95c7d03a2ab1","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-0j2kmo@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.140Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
41f3090b-d835-43f7-836
b-95c7d03a2ab1","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"9884d08f-72f9-4342-b
7b3-3049463d41b4","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"9884d08f-72f9-43
42-b7b3-3049463d41b4"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.153Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"41f3090b-d835-43f7-83
6b-95c7d03a2ab1","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"9884d08f-72
f9-4342-b7b3-3049463d4
1b4","duration":251,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.175Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7697f6a3-b6c5-4708-8d5
a-bdf009d72b7e","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"bb1e5e
d6-be4c-4ea2-a5c2-a497
9caeb70b","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.181Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7697f6a3-b6c5-4708-8d5
a-bdf009d72b7e","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"bb1e5ed
6-be4c-4ea2-a5c2-a4979
caeb70b","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.203Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7697f6a3-b6c5-4708-8d5
a-bdf009d72b7e","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"bb1e5e
d6-be4c-4ea2-a5c2-a497
9caeb70b","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.214Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b20fee4d-f52e-4a7c-ad8
3-67fd012e0c2b","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"9884d0
8f-72f9-4342-b7b3-3049
463d41b4","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.216Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b20fee4d-f52e-4a7c-ad8
3-67fd012e0c2b","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"9884d08
f-72f9-4342-b7b3-30494
63d41b4","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.218Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b20fee4d-f52e-4a7c-ad8
3-67fd012e0c2b","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"9884d0
8f-72f9-4342-b7b3-3049
463d41b4","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.224Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6321e111-6c3d-463f-94
bc-b4b7b190b760","mess
age":"AuctionsControll
er.findAll() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.230Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6321e111-6c3d-463f-94
bc-b4b7b190b760","mess
age":"AuctionsControll
er.findAll() completed
","context":"AuctionsC
ontroller","duration":
7,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.237Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"292eec85-e942-4a47-85
f9-5a283ee028d8","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.238Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
292eec85-e942-4a47-85f
9-5a283ee028d8","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.249Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0b32b9c5-22f9-441b-af2
7-4f0b9c7fd6d8","messa
ge":"AuctionsControlle
r.update() called","co
ntext":"AuctionsContro
ller","userId":"bb1e5e
d6-be4c-4ea2-a5c2-a497
9caeb70b","http":{"met
hod":"PATCH","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.251Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0b32b9c5-22f9-441b-af2
7-4f0b9c7fd6d8","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"b
b1e5ed6-be4c-4ea2-a5c2
-a4979caeb70b","http":
{"method":"PATCH","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Validat
ion failed (uuid is ex
pected)","stack":"BadR
equestException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
1)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.261Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
11830c9e-12d2-4143-a8f
9-4b537ce474d2","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"bb1e5
ed6-be4c-4ea2-a5c2-a49
79caeb70b","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.263Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
11830c9e-12d2-4143-a8f
9-4b537ce474d2","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"b
b1e5ed6-be4c-4ea2-a5c2
-a4979caeb70b","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
allow seller to 
create an auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 47 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 48 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 49 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 50 |[39m
     [90m 51 |[39m  
     expect(response[
33m.[39mbody)[33m.[
39mtoHaveProperty([32
m'id'[39m)[33m;[39m
     [90m 52 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(auctionDto[33m.[39
mtitle)[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:49:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
deny non-seller

    expected 403 
"Forbidden", got 400 
"Bad Request"

    [0m [90m 61 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${buyer.token}`[39m)
     [90m 62 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 63 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 64 |[39m  
   })[33m;[39m
     [90m 65 |[39m  
 })[33m;[39m
     [90m 66 
|[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:63:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should list 
auctions

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: false

    [0m [90m 75 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[3
9m[90m 77 |[39m     
  expect([33mArray[3
9m[33m.[39misArray(r
esponse[33m.[39mbody
))[33m.[39mtoBe([36
mtrue[39m)[33m;[39m
     [90m    |[39m  
                      
                    
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
retrieve auction detai
ls'[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:77:44)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should 
retrieve auction 
details

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 81 
|[39m       
[36mconst[39m 
response [33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 82 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 83 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 84 |[39m
     [90m 85 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mid)[33m.[39mtoBe(a
uctionId)[33m;[39m
     [90m 86 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:83:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions/:id 
(PATCH) ÔÇ║ should 
update auction (Draft)

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 95 |[39m  
       [33m.[39msend
(updateData)
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(updateData[33m.[39
mtitle)[33m;[39m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:96:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ /api/v1/auct
ions/:id/publish 
(POST) ÔÇ║ should 
publish auction

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 105 
|[39m         [33m.
[39mpost([32m`/api/v1
/auctions/${auctionId}
/publish`[39m)
     [90m 106 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer 
${seller.token}`[39m)
    [31m[1m>[22m[3
9m[90m 107 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 108 |[39m
     [90m 109 |[39m 
      expect(response
[33m.[39mbody[33m.[
39mstatus)[33m.[39mt
oBe([32m'PUBLISHED'[
39m)[33m;[39m
     [90m 110 |[39m 
    })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:107:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/payments
.e2e-spec.ts (14.327 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.000Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.022Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.110Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.129Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4a5b8c2f-df1b-4312-a9c
5-dd7eade005ca","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-8crei@test.com"
,"username":"user8crei
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.146Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
8crei@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.149Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user8crei","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.388Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-8crei@test.com","user
name":"user8crei"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.393Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4a5b8c2f-df1b-4312-a9c
5-dd7eade005ca","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"0ae1ecce-2359-4d29-
85e6-092491c1dca1"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.393Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-8
crei@test.com","userId
":"0ae1ecce-2359-4d29-
85e6-092491c1dca1"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.487Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.488Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a5b8c2f-df1b-4312-a9
c5-dd7eade005ca","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":378,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.534Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a7eb5810-3cb1-4466-a8
f1-346a4cba6363","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.536Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a7eb5810-3cb1-4466-a8f
1-346a4cba6363","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-8crei@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.768Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a7eb5810-3cb1-4466-a8f
1-346a4cba6363","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"0ae1ecce-2359-4d29-8
5e6-092491c1dca1","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"0ae1ecce-2359-4d
29-85e6-092491c1dca1"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.779Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a7eb5810-3cb1-4466-a8
f1-346a4cba6363","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"0ae1ecce-23
59-4d29-85e6-092491c1d
ca1","duration":245,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.787Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.788Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e9a619e-5c61-4490-adc
9-9bfd4ddfcde8","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-hd2w9e@test.com
","username":"userhd2w
9e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.791Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
hd2w9e@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.793Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userhd2w9e","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.020Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-hd2w9e@test.com","use
rname":"userhd2w9e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.027Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e9a619e-5c61-4490-adc
9-9bfd4ddfcde8","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"12fd567d-d3c3-4e45-
b302-ea9bb5fe15eb"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.027Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
d2w9e@test.com","userI
d":"12fd567d-d3c3-4e45
-b302-ea9bb5fe15eb"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.037Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.037Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e9a619e-5c61-4490-ad
c9-9bfd4ddfcde8","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":250,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.051Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9008f3ea-465a-4197-b8
d5-df5b830683b5","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.052Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9008f3ea-465a-4197-b8d
5-df5b830683b5","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-hd2w9e@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.272Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9008f3ea-465a-4197-b8d
5-df5b830683b5","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"12fd567d-d3c3-4e45-b
302-ea9bb5fe15eb","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"12fd567d-d3c3-4e
45-b302-ea9bb5fe15eb"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.280Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9008f3ea-465a-4197-b8
d5-df5b830683b5","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"12fd567d-d3
c3-4e45-b302-ea9bb5fe1
5eb","duration":229,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.294Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cac8cd68-b73c-47d1-ae9
f-efaf0e3c85e1","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"0ae1ec
ce-2359-4d29-85e6-0924
91c1dca1","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.297Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cac8cd68-b73c-47d1-ae9
f-efaf0e3c85e1","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
0ae1ecce-2359-4d29-85e
6-092491c1dca1","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.318Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cac8cd68-b73c-47d1-ae9
f-efaf0e3c85e1","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"0ae1ec
ce-2359-4d29-85e6-0924
91c1dca1","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should initiate a 
checkout session 
(MOCK)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should fail if 
order does not exist

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/ratings.
e2e-spec.ts (14.296 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.034Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.057Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.140Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.158Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
96a899fe-6cd0-45f7-874
d-c1a649b96957","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-9ys3eg@test.com
","username":"user9ys3
eg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.176Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
9ys3eg@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.180Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user9ys3eg","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.419Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-9ys3eg@test.com","use
rname":"user9ys3eg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.426Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
96a899fe-6cd0-45f7-874
d-c1a649b96957","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"5e7889be-a942-4263-
9d07-c595ef77d222"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.426Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-9
ys3eg@test.com","userI
d":"5e7889be-a942-4263
-9d07-c595ef77d222"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.487Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.488Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"96a899fe-6cd0-45f7-87
4d-c1a649b96957","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":348,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.524Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3448555b-3663-4e7f-92
50-b78600bfec14","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.526Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3448555b-3663-4e7f-925
0-b78600bfec14","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-9ys3eg@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.754Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3448555b-3663-4e7f-925
0-b78600bfec14","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"5e7889be-a942-4263-9
d07-c595ef77d222","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"5e7889be-a942-42
63-9d07-c595ef77d222"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.764Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3448555b-3663-4e7f-92
50-b78600bfec14","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"5e7889be-a9
42-4263-9d07-c595ef77d
222","duration":240,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.771Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.773Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5ccf3aa1-edce-41f3-b52
4-92c6bc5b143e","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-nqkr4p@test.com
","username":"usernqkr
4p"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.775Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
nqkr4p@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.776Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usernqkr4p","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.010Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-nqkr4p@test.com","use
rname":"usernqkr4p"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.014Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5ccf3aa1-edce-41f3-b52
4-92c6bc5b143e","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"fe877cda-80cb-4f73-
a83c-6801e6de860e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.014Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-n
qkr4p@test.com","userI
d":"fe877cda-80cb-4f73
-a83c-6801e6de860e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.023Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.023Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5ccf3aa1-edce-41f3-b5
24-92c6bc5b143e","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":252,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.046Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"dd18dabb-be87-4c58-8b
0a-bb83ef2e1010","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.047Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
dd18dabb-be87-4c58-8b0
a-bb83ef2e1010","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-nqkr4p@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.270Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
dd18dabb-be87-4c58-8b0
a-bb83ef2e1010","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"fe877cda-80cb-4f73-a
83c-6801e6de860e","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"fe877cda-80cb-4f
73-a83c-6801e6de860e"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.278Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"dd18dabb-be87-4c58-8b
0a-bb83ef2e1010","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"fe877cda-80
cb-4f73-a83c-6801e6de8
60e","duration":233,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.291Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1e9874a9-2948-43a5-af1
1-14cf78705721","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"5e7889
be-a942-4263-9d07-c595
ef77d222","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.295Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1e9874a9-2948-43a5-af1
1-14cf78705721","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
5e7889be-a942-4263-9d0
7-c595ef77d222","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.316Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1e9874a9-2948-43a5-af1
1-14cf78705721","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"5e7889
be-a942-4263-9d07-c595
ef77d222","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
create shipment 
(Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
update shipment to 
DELIVERED (Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Buyer to rate 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Seller to rate 
Buyer

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
prevent duplicate 
rating

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
list ratings for 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/disputes
.e2e-spec.ts (14.298 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.100Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.121Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.203Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.215Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c68e44d4-6046-4f1a-934
a-73b4a7013988","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-qbrwq4@test.com
","username":"userqbrw
q4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.232Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
qbrwq4@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.237Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userqbrwq4","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.474Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-qbrwq4@test.com","use
rname":"userqbrwq4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.478Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c68e44d4-6046-4f1a-934
a-73b4a7013988","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"70187374-0803-4234-
8291-bded7c8d1369"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.478Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-q
brwq4@test.com","userI
d":"70187374-0803-4234
-8291-bded7c8d1369"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.525Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.526Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c68e44d4-6046-4f1a-93
4a-73b4a7013988","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":323,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.571Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"122b5bfb-41f0-4bc2-99
94-4c95a16ff133","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.573Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
122b5bfb-41f0-4bc2-999
4-4c95a16ff133","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-qbrwq4@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.810Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
122b5bfb-41f0-4bc2-999
4-4c95a16ff133","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"70187374-0803-4234-8
291-bded7c8d1369","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"70187374-0803-42
34-8291-bded7c8d1369"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.825Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"122b5bfb-41f0-4bc2-99
94-4c95a16ff133","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"70187374-08
03-4234-8291-bded7c8d1
369","duration":254,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.832Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.833Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d493c871-22ef-4a67-864
0-e29ae16081cc","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-8yktwa@test.com
","username":"user8ykt
wa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.836Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
8yktwa@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.838Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user8yktwa","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.061Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-8yktwa@test.com","use
rname":"user8yktwa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.065Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d493c871-22ef-4a67-864
0-e29ae16081cc","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"b3872f89-0fb4-44a4-
85b9-3372e00340af"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.065Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-8
yktwa@test.com","userI
d":"b3872f89-0fb4-44a4
-85b9-3372e00340af"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.091Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.092Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d493c871-22ef-4a67-86
40-e29ae16081cc","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":260,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.109Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1cc11730-36d6-4c60-a2
ae-e730a804f91a","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.110Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1cc11730-36d6-4c60-a2a
e-e730a804f91a","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-8yktwa@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.326Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1cc11730-36d6-4c60-a2a
e-e730a804f91a","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"b3872f89-0fb4-44a4-8
5b9-3372e00340af","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"b3872f89-0fb4-44
a4-85b9-3372e00340af"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.334Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1cc11730-36d6-4c60-a2
ae-e730a804f91a","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"b3872f89-0f
b4-44a4-85b9-3372e0034
0af","duration":225,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.347Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1808ee50-50be-4392-beb
5-07ed51808370","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"701873
74-0803-4234-8291-bded
7c8d1369","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.350Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1808ee50-50be-4392-beb
5-07ed51808370","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
70187374-0803-4234-829
1-bded7c8d1369","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.372Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1808ee50-50be-4392-beb
5-07ed51808370","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"701873
74-0803-4234-8291-bded
7c8d1369","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to create 
a dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
prevent duplicate 
disputes for same 
order

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Seller to view 
the dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to view 
specific dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

PASS test/e2e/watchlis
t.e2e-spec.ts (14.47 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.160Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.181Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.265Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.280Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3834780f-f7d8-43b3-883
1-ed8a61d61375","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-wqncbg@test.com
","username":"userwqnc
bg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.294Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
wqncbg@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.296Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userwqncbg","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.528Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-wqncbg@test.com","use
rname":"userwqncbg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.534Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3834780f-f7d8-43b3-883
1-ed8a61d61375","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"85e81147-b123-444f-
891b-1eaef8494aa9"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.534Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-w
qncbg@test.com","userI
d":"85e81147-b123-444f
-891b-1eaef8494aa9"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.587Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.589Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3834780f-f7d8-43b3-88
31-ed8a61d61375","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":324,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.618Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f3e9b037-e1eb-4c81-bb
1e-b2b70f66fcc1","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.620Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f3e9b037-e1eb-4c81-bb1
e-b2b70f66fcc1","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-wqncbg@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.855Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f3e9b037-e1eb-4c81-bb1
e-b2b70f66fcc1","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"85e81147-b123-444f-8
91b-1eaef8494aa9","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"85e81147-b123-44
4f-891b-1eaef8494aa9"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.873Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f3e9b037-e1eb-4c81-bb
1e-b2b70f66fcc1","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"85e81147-b1
23-444f-891b-1eaef8494
aa9","duration":255,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.880Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.882Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6bc2d331-62fc-47fe-959
1-c747fd01c9df","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-yzxnpq@test.com
","username":"useryzxn
pq"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.884Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
yzxnpq@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.885Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"useryzxnpq","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.120Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-yzxnpq@test.com","use
rname":"useryzxnpq"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.124Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6bc2d331-62fc-47fe-959
1-c747fd01c9df","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"b6014529-ec15-4e9e-
a7c5-5983dc03ecb4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.124Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-y
zxnpq@test.com","userI
d":"b6014529-ec15-4e9e
-a7c5-5983dc03ecb4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.132Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.133Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bc2d331-62fc-47fe-95
91-c747fd01c9df","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":253,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.168Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cc28d68c-7eb0-4f73-9e
d5-516917f378f1","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.170Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cc28d68c-7eb0-4f73-9ed
5-516917f378f1","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-yzxnpq@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.384Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cc28d68c-7eb0-4f73-9ed
5-516917f378f1","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"b6014529-ec15-4e9e-a
7c5-5983dc03ecb4","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"b6014529-ec15-4e
9e-a7c5-5983dc03ecb4"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.396Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cc28d68c-7eb0-4f73-9e
d5-516917f378f1","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"b6014529-ec
15-4e9e-a7c5-5983dc03e
cb4","duration":228,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.411Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6704b769-36c3-468e-92b
6-ffd7e9248a4a","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"85e811
47-b123-444f-891b-1eae
f8494aa9","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.413Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6704b769-36c3-468e-92
b6-ffd7e9248a4a","mess
age":"Creating auction
","context":"AuctionsS
ervice","userId":"85e8
1147-b123-444f-891b-1e
aef8494aa9","http":{"m
ethod":"POST","path":"
/"},"data":{"userId":"
85e81147-b123-444f-891
b-1eaef8494aa9","title
":"Watchlist Test 
Auction"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.424Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6704b769-36c3-468e-92b
6-ffd7e9248a4a","messa
ge":"Auction created s
uccessfully","context"
:"AuctionsService","us
erId":"85e81147-b123-4
44f-891b-1eaef8494aa9"
,"http":{"method":"POS
T","path":"/"},"data":
{"auctionId":"715410e7
-6191-4002-bc9a-251b7f
09c8dd"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.424Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6704b769-36c3-468e-92b
6-ffd7e9248a4a","messa
ge":"AuctionsControlle
r.create() completed",
"context":"AuctionsCon
troller","userId":"85e
81147-b123-444f-891b-1
eaef8494aa9","duration
":13,"http":{"method":
"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.435Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cff70948-c532-4f14-aba
5-88c8391975f5","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"85e81
147-b123-444f-891b-1ea
ef8494aa9","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.442Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cff70948-c532-4f14-aba
5-88c8391975f5","messa
ge":"Auction published
","context":"AuctionsS
ervice","userId":"85e8
1147-b123-444f-891b-1e
aef8494aa9","http":{"m
ethod":"POST","path":"
/"},"data":{"auctionId
":"715410e7-6191-4002-
bc9a-251b7f09c8dd"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.442Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cff70948-c532-4f14-aba
5-88c8391975f5","messa
ge":"AuctionsControlle
r.publish() completed"
,"context":"AuctionsCo
ntroller","userId":"85
e81147-b123-444f-891b-
1eaef8494aa9","duratio
n":7,"http":{"method":
"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.456Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ab404a9d-7508-4a57-b4
bb-7bc3df8c4cf3","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"b6014529-ec15-4e9e-
a7c5-5983dc03ecb4","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.460Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ab404a9d-7508-4a57-b4
bb-7bc3df8c4cf3","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"b6014529-ec15-4e
9e-a7c5-5983dc03ecb4",
"duration":4,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.469Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e04fc3c0-da9e-4280-a99
f-604ab603ee8e","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.481Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
db333817-7abc-4e87-87a
c-c5eb0d1d1720","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"b6014529-ec15-4e9e
-a7c5-5983dc03ecb4","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.487Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
db333817-7abc-4e87-87a
c-c5eb0d1d1720","messa
ge":"Added to watchlis
t","context":"Watchlis
tService","userId":"b6
014529-ec15-4e9e-a7c5-
5983dc03ecb4","http":{
"method":"POST","path"
:"/"},"data":{"userId"
:"b6014529-ec15-4e9e-a
7c5-5983dc03ecb4","auc
tionId":"715410e7-6191
-4002-bc9a-251b7f09c8d
d"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.488Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
db333817-7abc-4e87-87a
c-c5eb0d1d1720","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"b6014529-ec15-4
e9e-a7c5-5983dc03ecb4"
,"duration":7,"http":{
"method":"POST","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.497Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2b7a50b0-6b7b-411f-a5a
6-f2f0d48f7a27","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"b6014529-ec15-4e9e
-a7c5-5983dc03ecb4","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.500Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2b7a50b0-6b7b-411f-a5
a6-f2f0d48f7a27","mess
age":"Watchlist item 
already exists","conte
xt":"WatchlistService"
,"userId":"b6014529-ec
15-4e9e-a7c5-5983dc03e
cb4","http":{"method":
"POST","path":"/"},"da
ta":{"userId":"b601452
9-ec15-4e9e-a7c5-5983d
c03ecb4","auctionId":"
715410e7-6191-4002-bc9
a-251b7f09c8dd"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.500Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2b7a50b0-6b7b-411f-a5a
6-f2f0d48f7a27","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"b6014529-ec15-4
e9e-a7c5-5983dc03ecb4"
,"duration":3,"http":{
"method":"POST","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.509Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
29324920-0ada-4c3f-992
d-3dd6b32c4a1c","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"b6014529-ec15-4e9e
-a7c5-5983dc03ecb4","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.513Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
29324920-0ada-4c3f-992
d-3dd6b32c4a1c","messa
ge":"Auction not found
","context":"Exception
Filter","userId":"b601
4529-ec15-4e9e-a7c5-59
83dc03ecb4","http":{"m
ethod":"POST","path":"
/"},"data":{"httpStatu
s":404,"isBusinessErro
r":true,"entityType":"
Auction","entityId":"0
0000000-0000-0000-0000
-000000000000"},"error
":{"code":"AUCTION_NOT
_FOUND","message":"Auc
tion not found","stack
":"AuctionNotFoundExce
ption: Auction not 
found\n    at 
WatchlistService.add (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\watchlist\\w
atchlist.service.ts:36
:13)\n    at Watchlist
Controller.addToWatchl
ist (C:\\DevOps\\Desar
rollos\\IronLoot\\api\
\src\\modules\\watchli
st\\watchlist.controll
er.ts:53:5)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.520Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"da16f653-4608-4339-81
e4-3408660712fc","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"b6014529-ec15-4e9e-
a7c5-5983dc03ecb4","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.524Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"da16f653-4608-4339-81
e4-3408660712fc","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"b6014529-ec15-4e
9e-a7c5-5983dc03ecb4",
"duration":4,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.534Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fab11e4-2816-4f45-bcb
3-771a90180dee","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"b6014529-ec15
-4e9e-a7c5-5983dc03ecb
4","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.538Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fab11e4-2816-4f45-bcb
3-771a90180dee","messa
ge":"Removed from watc
hlist","context":"Watc
hlistService","userId"
:"b6014529-ec15-4e9e-a
7c5-5983dc03ecb4","htt
p":{"method":"DELETE",
"path":"/"},"data":{"u
serId":"b6014529-ec15-
4e9e-a7c5-5983dc03ecb4
","auctionId":"715410e
7-6191-4002-bc9a-251b7
f09c8dd"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.538Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fab11e4-2816-4f45-bcb
3-771a90180dee","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"b6014529-e
c15-4e9e-a7c5-5983dc03
ecb4","duration":4,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.546Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
db2dff27-227e-4392-845
b-b33acd8f49f3","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"b6014529-ec15
-4e9e-a7c5-5983dc03ecb
4","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.watchlist.delete(
)` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\watchlist\wat
chlist.service.ts:70:4
1
      
        67 async 
remove(userId: 
string, auctionId: 
string): 
Promise<void> {
        68   // 
Idempotent delete
        69   try {
      ÔåÆ 70     
await this.prisma.watc
hlist.delete(
      An operation 
failed because it 
depends on one or 
more records that 
were required but not 
found. Record to 
delete does not exist.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.552Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"db2dff27-227e-4392-84
5b-b33acd8f49f3","mess
age":"Watchlist item 
did not exist, ignorin
g","context":"Watchlis
tService","userId":"b6
014529-ec15-4e9e-a7c5-
5983dc03ecb4","http":{
"method":"DELETE","pat
h":"/"},"data":{"userI
d":"b6014529-ec15-4e9e
-a7c5-5983dc03ecb4","a
uctionId":"715410e7-61
91-4002-bc9a-251b7f09c
8dd"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.552Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
db2dff27-227e-4392-845
b-b33acd8f49f3","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"b6014529-e
c15-4e9e-a7c5-5983dc03
ecb4","duration":6,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.561Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2618c590-570d-425b-a2
0c-362bff6497b2","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"b6014529-ec15-4e9e-
a7c5-5983dc03ecb4","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.563Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2618c590-570d-425b-a2
0c-362bff6497b2","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"b6014529-ec15-4e
9e-a7c5-5983dc03ecb4",
"duration":2,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\wa
tchlist.e2e-spec.ts:49
:19) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: { 
modelName: 'User', 
field_name: 'auctions_
seller_id_fkey 
(index)' }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/watchlist.e2e-spec.t
s:49:19)

PASS test/e2e/auth.e2e
-spec.ts (14.664 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.110Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.136Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.233Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.248Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6bef7508-d41d-44d2-ac6
3-c43ccbb495f5","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.268Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.271Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.502Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.507Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6bef7508-d41d-44d2-ac6
3-c43ccbb495f5","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"eb1b3a2e-a476-4227-
ab2e-173685e9a37e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.507Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"eb1b3a2e-a476-4227-ab
2e-173685e9a37e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.558Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.560Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6bef7508-d41d-44d2-ac
63-c43ccbb495f5","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":327,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.591Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.593Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
55000d34-226e-46f6-ab4
9-955a70767e40","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.595Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.597Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.827Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.830Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
55000d34-226e-46f6-ab4
9-955a70767e40","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"2fec36f8-50d6-449d-
8d1c-ddc3240e0769"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.830Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"2fec36f8-50d6-449d-8d
1c-ddc3240e0769"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.840Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.840Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"55000d34-226e-46f6-ab
49-955a70767e40","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":249,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.847Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ff85af78-2b5b-47f0-a8
08-8ee36897e6e7","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.848Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ff85af78-2b5b-47f0-a80
8-8ee36897e6e7","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.850Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ff85af78-2b5b-47f0-a8
08-8ee36897e6e7","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
true,"existingId":"2fe
c36f8-50d6-449d-8d1c-d
dc3240e0769"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.850Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ff85af78-2b5b-47f0-a80
8-8ee36897e6e7","messa
ge":"Registration 
failed: email already 
exists","context":"Aut
hService","http":{"met
hod":"POST","path":"/"
},"data":{"email":"tes
t@test-e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:101:16)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.866Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ff85af78-2b5b-47f0-a80
8-8ee36897e6e7","messa
ge":"Email already reg
istered","context":"Ex
ceptionFilter","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":409,"isBusinessE
rror":true},"error":{"
code":"EMAIL_ALREADY_E
XISTS","message":"Emai
l already registered",
"stack":"EmailAlreadyE
xistsException: Email 
already registered\n  
  at 
AuthService.register (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\auth\\auth.s
ervice.ts:103:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.901Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4ba3ee13-9852-4f55-80
a5-a70392454322","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.904Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4ba3ee13-9852-4f55-80a
5-a70392454322","messa
ge":"[\"Invalid email 
format\"]","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":400,"isBusines
sError":true},"error":
{"code":"VALIDATION_ER
ROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.912Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce01dad1-065b-45e4-a9
4e-7376aaa2fdad","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:46.914Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ce01dad1-065b-45e4-a94
e-7376aaa2fdad","messa
ge":"[\"Password must 
include uppercase, 
lowercase and 
number\",\"Password 
must be at least 8 cha
racters\"]","context":
"ExceptionFilter","htt
p":{"method":"POST","p
ath":"/"},"data":{"htt
pStatus":400,"isBusine
ssError":true},"error"
:{"code":"VALIDATION_E
RROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.921Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.923Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7ef26dd5-70bb-4f11-ab8
6-c637a0852477","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.925Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.927Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.163Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.168Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7ef26dd5-70bb-4f11-ab8
6-c637a0852477","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e0ab284b-60a3-4483-
81ec-2085459c7faa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.169Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"e0ab284b-60a3-4483-81
ec-2085459c7faa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.180Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.181Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7ef26dd5-70bb-4f11-ab
86-c637a0852477","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":260,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.190Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e50d4d0c-92cf-473d-b5
24-59d265ced6b8","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.192Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e50d4d0c-92cf-473d-b52
4-59d265ced6b8","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.405Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e50d4d0c-92cf-473d-b52
4-59d265ced6b8","messa
ge":"Email 
verification required"
,"context":"ExceptionF
ilter","http":{"method
":"POST","path":"/"},"
data":{"httpStatus":40
3,"isBusinessError":tr
ue,"entityType":"User"
,"entityId":"e0ab284b-
60a3-4483-81ec-2085459
c7faa"},"error":{"code
":"USER_NOT_VERIFIED",
"message":"Email 
verification required"
,"stack":"UserNotVerif
iedException: Email 
verification 
required\n    at AuthS
ervice.validateUserSta
te (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
src\\modules\\auth\\au
th.service.ts:733:15)\
n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:275:10)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.413Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d1470376-13c2-4a79-92
af-a4e49d5d6928","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.415Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d1470376-13c2-4a79-92a
f-a4e49d5d6928","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.623Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d1470376-13c2-4a79-92a
f-a4e49d5d6928","messa
ge":"Login failed: 
invalid password","con
text":"AuthService","h
ttp":{"method":"POST",
"path":"/"},"data":{"u
serId":"e0ab284b-60a3-
4483-81ec-2085459c7faa
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:243:16)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.627Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d1470376-13c2-4a79-92a
f-a4e49d5d6928","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:255:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.633Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"17c92eaf-a244-435c-a8
4e-ae400df474fc","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.634Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
17c92eaf-a244-435c-a84
e-ae400df474fc","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"nonexistent@t
est-e2e.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.636Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
17c92eaf-a244-435c-a84
e-ae400df474fc","messa
ge":"Login failed: 
user not found","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"ema
il":"nonexistent@test-
e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:234:16)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.636Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
17c92eaf-a244-435c-a84
e-ae400df474fc","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:236:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

FAIL test/e2e/orders.e
2e-spec.ts (14.769 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:46.081Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.103Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.194Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.206Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a86556ab-e3ec-4c56-a2e
8-7e0081c3689a","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-eithnw@test.com
","username":"usereith
nw"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.222Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
eithnw@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.225Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usereithnw","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.464Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-eithnw@test.com","use
rname":"usereithnw"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.468Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a86556ab-e3ec-4c56-a2e
8-7e0081c3689a","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"ee33e312-9049-48b4-
8ae8-9165535e1a32"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.469Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-e
ithnw@test.com","userI
d":"ee33e312-9049-48b4
-8ae8-9165535e1a32"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.509Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.511Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a86556ab-e3ec-4c56-a2
e8-7e0081c3689a","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":317,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.542Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8ee9f77a-2eea-4e59-a8
3f-cd3c3bff7e75","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.545Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8ee9f77a-2eea-4e59-a83
f-cd3c3bff7e75","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-eithnw@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.776Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8ee9f77a-2eea-4e59-a83
f-cd3c3bff7e75","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"ee33e312-9049-48b4-8
ae8-9165535e1a32","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"ee33e312-9049-48
b4-8ae8-9165535e1a32"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.786Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8ee9f77a-2eea-4e59-a8
3f-cd3c3bff7e75","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"ee33e312-90
49-48b4-8ae8-9165535e1
a32","duration":244,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.797Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.799Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c24083da-ca17-47f6-812
a-da2cad7a605a","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-n2snoj@test.com
","username":"usern2sn
oj"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.800Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
n2snoj@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.802Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usern2snoj","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.030Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-n2snoj@test.com","use
rname":"usern2snoj"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.033Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c24083da-ca17-47f6-812
a-da2cad7a605a","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"d766cab6-765f-4391-
917c-5a4ecab1d53f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.033Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-n
2snoj@test.com","userI
d":"d766cab6-765f-4391
-917c-5a4ecab1d53f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.043Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.044Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c24083da-ca17-47f6-81
2a-da2cad7a605a","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":247,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.067Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"49d7f0fc-e3f5-42ce-b9
f6-9f9e23517b70","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.069Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
49d7f0fc-e3f5-42ce-b9f
6-9f9e23517b70","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-n2snoj@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.298Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
49d7f0fc-e3f5-42ce-b9f
6-9f9e23517b70","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"d766cab6-765f-4391-9
17c-5a4ecab1d53f","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"d766cab6-765f-43
91-917c-5a4ecab1d53f"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.307Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"49d7f0fc-e3f5-42ce-b9
f6-9f9e23517b70","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"d766cab6-76
5f-4391-917c-5a4ecab1d
53f","duration":240,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.314Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.315Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e03a37ee-78be-4783-b8e
a-32f1a4550dbc","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-t1t9cc@test.com
","username":"usert1t9
cc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.317Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
t1t9cc@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.319Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usert1t9cc","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.525Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-t1t9cc@test.com","use
rname":"usert1t9cc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.529Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e03a37ee-78be-4783-b8e
a-32f1a4550dbc","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e357cba8-7736-40e2-
a122-9274f0fb8081"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.529Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-t
1t9cc@test.com","userI
d":"e357cba8-7736-40e2
-a122-9274f0fb8081"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.536Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.537Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e03a37ee-78be-4783-b8
ea-32f1a4550dbc","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":223,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.545Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"43927279-bb38-45b7-bc
f9-ad309a2a3b65","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.546Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
43927279-bb38-45b7-bcf
9-ad309a2a3b65","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-t1t9cc@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.751Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
43927279-bb38-45b7-bcf
9-ad309a2a3b65","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"e357cba8-7736-40e2-a
122-9274f0fb8081","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"e357cba8-7736-40
e2-a122-9274f0fb8081"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.758Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"43927279-bb38-45b7-bc
f9-ad309a2a3b65","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"e357cba8-77
36-40e2-a122-9274f0fb8
081","duration":213,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.776Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9b8dae5f-e54a-4310-974
1-0aede6828f1c","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"ee33e3
12-9049-48b4-8ae8-9165
535e1a32","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.779Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9b8dae5f-e54a-4310-974
1-0aede6828f1c","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
ee33e312-9049-48b4-8ae
8-9165535e1a32","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.795Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9b8dae5f-e54a-4310-974
1-0aede6828f1c","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"ee33e3
12-9049-48b4-8ae8-9165
535e1a32","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.804Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bc767713-f04d-492c-a8c
7-ba36a2f710e4","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.815Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
953bb25e-1fca-4be3-b07
5-2fb04a29b23f","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.821Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33216eab-547a-485c-83d
a-2d59dccd0b08","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.830Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ff13c0d4-accd-4ff9-8d
1b-8c2b79a85bad","mess
age":"OrdersController
.findAll() called","co
ntext":"OrdersControll
er","userId":"d766cab6
-765f-4391-917c-5a4eca
b1d53f","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.833Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ff13c0d4-accd-4ff9-8d
1b-8c2b79a85bad","mess
age":"OrdersController
.findAll() completed",
"context":"OrdersContr
oller","userId":"d766c
ab6-765f-4391-917c-5a4
ecab1d53f","duration":
3,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ should 
prepare a closed 
auction with a winner

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:5
0:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
prevent non-winner 
from creating order

    expected 403 
"Forbidden", got 404 
"Not Found"

    [0m [90m 75 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${loser.token}`[39m)
     [90m 76 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 77 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
allow winner to 
create order'[39m[33
m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:7
7:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
allow winner to 
create order

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 83 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 84 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 85 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 86 |[39m
     [90m 87 |[39m  
     expect(res[33m.
[39mbody[33m.[39msta
tus)[33m.[39mtoBe([
32m'PENDING_PAYMENT'[
39m)[33m;[39m
     [90m 88 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:8
5:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
return existing order 
if called again 
(idempotency)

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 95 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m [90m// Or 200, 
depending on 
implementation 
choice. Service 
returns order.[39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:9
6:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Get Orders 
ÔÇ║ should list user 
orders

    expect(received).t
oBeGreaterThanOrEqual(
expected)

    Expected: >= 1
    Received:    0

    [0m [90m 107 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 108 |[39m
    [31m[1m>[22m[3
9m[90m 109 |[39m    
   expect(res[33m.[3
9mbody[33m.[39mlengt
h)[33m.[39mtoBeGreat
erThanOrEqual([35m1[
39m)[33m;[39m
     [90m     |[39m 
                      
        
[31m[1m^[22m[39m
     [90m 110 |[39m 
      expect(res[33m.
[39mbody[[35m0[39m]
[33m.[39mauction)[3
3m.[39mtoBeDefined()
[33m;[39m
     [90m 111 |[39m 
    })[33m;[39m
     [90m 112 |[39m 
  })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:1
09:31)

FAIL test/e2e/bids.e2e
-spec.ts (15.304 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:15:45.687Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.712Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.810Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:45.822Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
42e326df-42fd-4bc1-b95
e-49e8bc5b1dcf","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-bpwmc@test.com"
,"username":"userbpwmc
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.842Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
bpwmc@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:45.846Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userbpwmc","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.128Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-bpwmc@test.com","user
name":"userbpwmc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.144Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
42e326df-42fd-4bc1-b95
e-49e8bc5b1dcf","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e29bd31b-586d-4f54-
b09e-086157c3f81a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.144Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-b
pwmc@test.com","userId
":"e29bd31b-586d-4f54-
b09e-086157c3f81a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.226Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.228Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"42e326df-42fd-4bc1-b9
5e-49e8bc5b1dcf","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":418,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.281Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"901bdc0c-1d91-4837-a0
48-4f5adff2e446","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.282Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
901bdc0c-1d91-4837-a04
8-4f5adff2e446","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-bpwmc@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.508Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
901bdc0c-1d91-4837-a04
8-4f5adff2e446","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"e29bd31b-586d-4f54-b
09e-086157c3f81a","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"e29bd31b-586d-4f
54-b09e-086157c3f81a"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.520Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"901bdc0c-1d91-4837-a0
48-4f5adff2e446","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"e29bd31b-58
6d-4f54-b09e-086157c3f
81a","duration":239,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.528Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.529Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0289ae85-fc85-4f54-951
5-c6830df832ea","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-pnzqs@test.com"
,"username":"userpnzqs
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.531Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
pnzqs@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.533Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userpnzqs","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.762Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-pnzqs@test.com","user
name":"userpnzqs"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.767Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0289ae85-fc85-4f54-951
5-c6830df832ea","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"3e190778-16b1-485d-
b172-ec59f181aca4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.767Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-p
nzqs@test.com","userId
":"3e190778-16b1-485d-
b172-ec59f181aca4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:46.778Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.779Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0289ae85-fc85-4f54-95
15-c6830df832ea","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":251,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:46.792Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05328de8-d3ef-4449-bc
52-dc21bed5d9d8","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:46.793Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
05328de8-d3ef-4449-bc5
2-dc21bed5d9d8","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-pnzqs@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.030Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
05328de8-d3ef-4449-bc5
2-dc21bed5d9d8","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"3e190778-16b1-485d-b
172-ec59f181aca4","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"3e190778-16b1-48
5d-b172-ec59f181aca4"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.039Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05328de8-d3ef-4449-bc
52-dc21bed5d9d8","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"3e190778-16
b1-485d-b172-ec59f181a
ca4","duration":247,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.045Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.046Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fadf636-51ad-4bfe-838
7-1421b768af91","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-dtmit@test.com"
,"username":"userdtmit
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.048Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
dtmit@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.050Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userdtmit","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.278Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-dtmit@test.com","user
name":"userdtmit"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.282Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fadf636-51ad-4bfe-838
7-1421b768af91","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"94d0c362-2e22-447f-
a81c-6510dad70f98"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.282Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-d
tmit@test.com","userId
":"94d0c362-2e22-447f-
a81c-6510dad70f98"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:15:47.293Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.293Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fadf636-51ad-4bfe-83
87-1421b768af91","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":248,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.301Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"39112db2-0081-440b-8d
65-05c916401fa0","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.302Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
39112db2-0081-440b-8d6
5-05c916401fa0","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-dtmit@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.511Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
39112db2-0081-440b-8d6
5-05c916401fa0","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"94d0c362-2e22-447f-a
81c-6510dad70f98","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"94d0c362-2e22-44
7f-a81c-6510dad70f98"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.518Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"39112db2-0081-440b-8d
65-05c916401fa0","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"94d0c362-2e
22-447f-a81c-6510dad70
f98","duration":217,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.535Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cf4fcaca-552d-4c21-ac1
4-cfd4ad190f1f","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"e29bd3
1b-586d-4f54-b09e-0861
57c3f81a","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.540Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cf4fcaca-552d-4c21-ac1
4-cfd4ad190f1f","messa
ge":"[\"Date must be 
in the future\"]","con
text":"ExceptionFilter
","userId":"e29bd31b-5
86d-4f54-b09e-086157c3
f81a","http":{"method"
:"POST","path":"/"},"d
ata":{"httpStatus":400
,"isBusinessError":tru
e},"error":{"code":"VA
LIDATION_ERROR","messa
ge":"Bad Request Excep
tion","stack":"BadRequ
estException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.558Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cf4fcaca-552d-4c21-ac1
4-cfd4ad190f1f","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"e29bd3
1b-586d-4f54-b09e-0861
57c3f81a","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:15:47.567Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
72b0b09e-0517-481e-a82
7-b6482e7c71e4","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"3e190778-16b
1-485d-b172-ec59f181ac
a4","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.787Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
72b0b09e-0517-481e-a82
7-b6482e7c71e4","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"3e1907
78-16b1-485d-b172-ec59
f181aca4","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.788Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
72b0b09e-0517-481e-a82
7-b6482e7c71e4","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"3
e190778-16b1-485d-b172
-ec59f181aca4","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:47.796Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a3ef9852-3f4e-4129-b6
20-c95218a9b811","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.797Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a3ef9852-3f4e-4129-b62
0-c95218a9b811","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:47.809Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
158dc4d6-3f72-4148-98f
4-f7401a99502a","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"94d0c362-2e2
2-447f-a81c-6510dad70f
98","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.992Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
158dc4d6-3f72-4148-98f
4-f7401a99502a","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"94d0c3
62-2e22-447f-a81c-6510
dad70f98","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:160)\n    
at zp (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:951)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:826)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:15:47.994Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
158dc4d6-3f72-4148-98f
4-f7401a99502a","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"9
4d0c362-2e22-447f-a81c
-6510dad70f98","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:48.002Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4707f585-716e-45e4-aae
6-1c435f082970","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"e29bd31b-586
d-4f54-b09e-086157c3f8
1a","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:48.171Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4707f585-716e-45e4-aae
6-1c435f082970","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"e29bd3
1b-586d-4f54-b09e-0861
57c3f81a","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:15:48.172Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4707f585-716e-45e4-aae
6-1c435f082970","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"e
29bd31b-586d-4f54-b09e
-086157c3f81a","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:15:48.181Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
369401c7-1c22-4f14-803
5-0ede19a0a52d","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"94d0c362-2e2
2-447f-a81c-6510dad70f
98","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:48.359Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
369401c7-1c22-4f14-803
5-0ede19a0a52d","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"94d0c3
62-2e22-447f-a81c-6510
dad70f98","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:15:48.361Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
369401c7-1c22-4f14-803
5-0ede19a0a52d","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"9
4d0c362-2e22-447f-a81c
-6510dad70f98","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:15:48.367Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"963b60d7-5eb1-40c5-ae
f0-2c0e58d176b1","mess
age":"BidsController.g
etBids() called","cont
ext":"BidsController",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:15:48.368Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
963b60d7-5eb1-40c5-aef
0-2c0e58d176b1","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

  ÔùÅ Bids Module 
(e2e) ÔÇ║ should 
prepare an active 
auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:50:
8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
valid bid

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 73 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder1
.token}`[39m)
     [90m 74 |[39m  
       
[33m.[39msend({ 
amount[33m:[39m 
bidAmount })
    [31m[1m>[22m[3
9m[90m 75 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 76 |[39m
     [90m 77 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mamount))
[33m.[39mtoBe(bidAmo
unt)[33m;[39m
     [90m 78 |[39m  
     expect(res[33m.
[39mbody[33m.[39mbid
derId)[33m.[39mtoBe(
bidder1[33m.[39mid)
[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:75:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should update 
auction current price

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 82 
|[39m       
[36mconst[39m res 
[33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 83 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 84 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 85 |[39m
     [90m 86 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mcurrentP
rice))[33m.[39mtoBe(
[35m105[39m)[33m;[
39m
     [90m 87 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:84:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
higher bid from 
another user

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 110 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder2
.token}`[39m)
     [90m 111 |[39m 
        
[33m.[39msend({ 
amount[33m:[39m 
[35m110[39m })
    [31m[1m>[22m[3
9m[90m 112 |[39m    
     [33m.[39mexpect
([35m201[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 113 |[39m 
    })[33m;[39m
     [90m 114 |[39m 
  })[33m;[39m
     [90m 115 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:112
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Get Bids 
ÔÇ║ should list bids 
history

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 119 
|[39m         [33m.
[39m[36mget[39m([32
m`/api/v1/auctions/${a
uctionId}/bids`[39m)
     [90m 120 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer ${bid
der1.token}`[39m)
    [31m[1m>[22m[3
9m[90m 121 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 122 |[39m
     [90m 123 |[39m 
      expect([33mArra
y[39m[33m.[39misArr
ay(res[33m.[39mbody)
)[33m.[39mtoBe([36m
true[39m)[33m;[39m
     [90m 124 |[39m 
      expect(res[33m.
[39mbody[33m.[39mle
ngth)[33m.[39mtoBe(
[35m2[39m)[33m;[39m
[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:121
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

Test Suites: 10 
failed, 5 passed, 15 
total
Tests:       37 
failed, 40 passed, 77 
total
Snapshots:   0 total
Time:        16.402 
s, estimated 23 s
Ran all test suites.
