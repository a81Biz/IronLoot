
> iron-loot-api@0.2.3 test:e2e
> jest --config ./test/jest-e2e.json

node.exe : FAIL test/e
2e/orders-flow.e2e-spe
c.ts (13.052 s)
En línea: 1 Carácter: 
1
+ & "C:\Program Files\
nodejs/node.exe" 
"C:\Program 
Files\nodejs/node_mo 
...
+ ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo    
          : NotSpeci  
  fied: (FAIL test/   
 e2e/o...c.ts (13.    
052 s):String) []    
, RemoteException
    + FullyQualifiedE 
   rrorId : NativeCo  
  mmandError
 
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.589Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.613Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

  ÔùÅ Orders Flow 
(E2E) ÔÇ║ should 
execute the full 
financial flow on 
auction close

    Nest could not 
find AuctionSchedulerS
ervice element (this 
provider does not 
exist in the current 
context)

    [0m [90m 33 
|[39m   
it([32m'should 
execute the full 
financial flow on 
auction close'[39m[3
3m,[39m 
[36masync[39m () 
[33m=>[39m {
     [90m 34 |[39m  
   [90m// const 
walletService = app.ge
t('WalletService'); 
// Unused[39m
    [31m[1m>[22m[3
9m[90m 35 |[39m     
[36mconst[39m 
scheduler [33m=[39m 
app[33m.[39m[36mget
[39m([32m'AuctionSch
edulerService'[39m)[
33m;[39m
     [90m    |[39m  
                      
   
[31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m  
   [90m// 1. Create 
Seller & Buyer[39m
     [90m 38 |[39m  
   [36mconst[39m 
buyer [33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({[0m

      at 
InstanceLinksHost.get 
(../node_modules/@nest
js/core/injector/insta
nce-links-host.js:15:1
9)
      at Proxy.find (.
./node_modules/@nestjs
/core/injector/abstrac
t-instance-resolver.js
:8:60)
      at Proxy.get (..
/node_modules/@nestjs/
core/nest-application-
context.js:70:20)
      at 
Object.<anonymous> (e2
e/orders-flow.e2e-spec
.ts:35:27)

PASS test/e2e/user-pro
file-sync.e2e-spec.ts 
(13.172 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.057Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.081Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.206Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.222Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a0fff2dc-5519-4c03-967
5-26473e6dfed3","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"sync-test@example.co
m","username":"syncuse
r"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.236Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"sync-
test@example.com","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.241Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"syncuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.523Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"sync
-test@example.com","us
ername":"syncuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.541Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a0fff2dc-5519-4c03-967
5-26473e6dfed3","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"b0cdef57-4a73-45c3-
a723-23f602f4d026"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.542Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"sync-t
est@example.com","user
Id":"b0cdef57-4a73-45c
3-a723-23f602f4d026"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:45.641Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.642Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0fff2dc-5519-4c03-96
75-26473e6dfed3","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":437,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.710Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce82cd03-1d57-49be-8d
aa-453805c5b88c","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"b0cd
ef57-4a73-45c3-a723-23
f602f4d026","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.711Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce82cd03-1d57-49be-8d
aa-453805c5b88c","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"b0c
def57-4a73-45c3-a723-2
3f602f4d026","http":{"
method":"GET","path":"
/"},"data":{"userId":"
b0cdef57-4a73-45c3-a72
3-23f602f4d026"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.719Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce82cd03-1d57-49be-8d
aa-453805c5b88c","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"b
0cdef57-4a73-45c3-a723
-23f602f4d026","durati
on":9,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.758Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce11b523-8472-42f8-b2
7c-84875695f1eb","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"b0cd
ef57-4a73-45c3-a723-23
f602f4d026","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.760Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce11b523-8472-42f8-b2
7c-84875695f1eb","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"b0c
def57-4a73-45c3-a723-2
3f602f4d026","http":{"
method":"GET","path":"
/"},"data":{"userId":"
b0cdef57-4a73-45c3-a72
3-23f602f4d026"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.762Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ce11b523-8472-42f8-b2
7c-84875695f1eb","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"b
0cdef57-4a73-45c3-a723
-23f602f4d026","durati
on":4,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.779Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
371ec4a0-1afa-4b29-b23
9-9286cb3a16af","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"b0cde
f57-4a73-45c3-a723-23f
602f4d026","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.782Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"371ec4a0-1afa-4b29-b2
39-9286cb3a16af","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"b0cdef5
7-4a73-45c3-a723-23f60
2f4d026","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"b0
cdef57-4a73-45c3-a723-
23f602f4d026","dto":{"
profile":{"country":"U
S","legalName":"Legal 
Sync Entity"}}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.808Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
371ec4a0-1afa-4b29-b23
9-9286cb3a16af","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"b0cdef57-4a73-45c3
-a723-23f602f4d026","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"b0cdef57-4a73
-45c3-a723-23f602f4d02
6"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.812Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
371ec4a0-1afa-4b29-b23
9-9286cb3a16af","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"b0
cdef57-4a73-45c3-a723-
23f602f4d026","duratio
n":33,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:45.841Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
371ec4a0-1afa-4b29-b23
9-9286cb3a16af","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"b0cdef
57-4a73-45c3-a723-23f6
02f4d026","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"USER_PROFILE_UPDATED
","entityType":"User"}
,"error":{"message":"\
nInvalid `this.prisma.
auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.864Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea29f015-04d8-46e1-bf
b3-8f7b56cccabd","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"b0cd
ef57-4a73-45c3-a723-23
f602f4d026","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.865Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea29f015-04d8-46e1-bf
b3-8f7b56cccabd","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"b0c
def57-4a73-45c3-a723-2
3f602f4d026","http":{"
method":"GET","path":"
/"},"data":{"userId":"
b0cdef57-4a73-45c3-a72
3-23f602f4d026"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.868Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea29f015-04d8-46e1-bf
b3-8f7b56cccabd","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"b
0cdef57-4a73-45c3-a723
-23f602f4d026","durati
on":4,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

FAIL test/e2e/wallet.e
2e-spec.ts (13.42 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.048Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.072Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.log
      Creating test 
user with email: walle
t-test-1768245225110@e
xample.com

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:2
9:15)

    console.log
      Test user 
created: 908a15fd-bb45
-4d04-9bd9-f55bc0f6bf9
7

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:4
0:15)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.190Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"753dda97-e4e9-4f45-b2
f8-881e3568f25e","mess
age":"Get wallet balan
ce","context":"WalletC
ontroller","userId":"9
08a15fd-bb45-4d04-9bd9
-f55bc0f6bf97","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.210Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"753dda97-e4e9-4f45-b2
f8-881e3568f25e","mess
age":"WalletController
.getBalance() complete
d","context":"WalletCo
ntroller","userId":"90
8a15fd-bb45-4d04-9bd9-
f55bc0f6bf97","duratio
n":20,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.261Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d53a1df4-a851-48b5-b69
c-d53c47773bf3","messa
ge":"WalletController.
deposit() called","con
text":"WalletControlle
r","userId":"908a15fd-
bb45-4d04-9bd9-f55bc0f
6bf97","http":{"method
":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.779Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d53a1df4-a851-48b5-b69
c-d53c47773bf3","messa
ge":"Deposit 
successful for user [T
OKEN]","context":"Wall
etService","userId":"9
08a15fd-bb45-4d04-9bd9
-f55bc0f6bf97","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"908a15fd-bb
45-4d04-9bd9-f55bc0f6b
f97","amount":100,"ref
erenceId":"PAY-100","n
ewBalance":100}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.785Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d53a1df4-a851-48b5-b69
c-d53c47773bf3","messa
ge":"WalletController.
deposit() completed","
context":"WalletContro
ller","userId":"908a15
fd-bb45-4d04-9bd9-f55b
c0f6bf97","duration":5
24,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:45.820Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d53a1df4-a851-48b5-b69
c-d53c47773bf3","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"908a15
fd-bb45-4d04-9bd9-f55b
c0f6bf97","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"PAYMENT_CONFIRMED","e
ntityType":"Payment"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.835Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bfdb3370-d648-45cd-bc3
3-9ae304444449","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"908a15fd
-bb45-4d04-9bd9-f55bc0
f6bf97","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.854Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bfdb3370-d648-45cd-bc3
3-9ae304444449","messa
ge":"Withdrawal 
successful for user [T
OKEN]","context":"Wall
etService","userId":"9
08a15fd-bb45-4d04-9bd9
-f55bc0f6bf97","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"908a15fd-bb
45-4d04-9bd9-f55bc0f6b
f97","amount":40,"refe
renceId":"e2e-with-1",
"newBalance":60}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.857Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bfdb3370-d648-45cd-bc3
3-9ae304444449","messa
ge":"WalletController.
withdraw() completed",
"context":"WalletContr
oller","userId":"908a1
5fd-bb45-4d04-9bd9-f55
bc0f6bf97","duration":
22,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.873Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6cbd3163-3210-4bb3-87f
b-9173222f9fda","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"908a15fd
-bb45-4d04-9bd9-f55bc0
f6bf97","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:45.884Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6cbd3163-3210-4bb3-87f
b-9173222f9fda","messa
ge":"Insufficient 
balance for transactio
n","context":"Exceptio
nFilter","userId":"908
a15fd-bb45-4d04-9bd9-f
55bc0f6bf97","http":{"
method":"POST","path":
"/"},"data":{"httpStat
us":400,"isBusinessErr
or":true,"entityType":
"User","entityId":"908
a15fd-bb45-4d04-9bd9-f
55bc0f6bf97"},"error":
{"code":"INSUFFICIENT_
BALANCE","message":"In
sufficient balance 
for transaction","stac
k":"InsufficientBalanc
eException: 
Insufficient balance 
for transaction\n    
at C:\\DevOps\\Desarro
llos\\IronLoot\\api\\s
rc\\modules\\wallet\\w
allet.service.ts:128:1
5\n    at Proxy._trans
actionWithCallback (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:8000)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.905Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7592d111-2a0a-4bc7-bf
93-a7bd4d2b8f53","mess
age":"Get wallet histo
ry","context":"WalletC
ontroller","userId":"9
08a15fd-bb45-4d04-9bd9
-f55bc0f6bf97","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.911Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7592d111-2a0a-4bc7-bf
93-a7bd4d2b8f53","mess
age":"WalletController
.getHistory() complete
d","context":"WalletCo
ntroller","userId":"90
8a15fd-bb45-4d04-9bd9-
f55bc0f6bf97","duratio
n":6,"http":{"method":
"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Wallet (e2e) 
ÔÇ║ /wallet/history 
(GET) - Transaction 
History

    expect(received).t
oBeInstanceOf(expected
)

    Expected 
constructor: Array

    Received value 
has no prototype
    Received value: 
undefined

    [0m [90m 112 
|[39m       [33m.[3
9mexpect([35m200[39m
)[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[3
9m[90m 114 |[39m    
 expect(res[33m.[39m
body[33m.[39mhistory
)[33m.[39mtoBeInstan
ceOf([33mArray[39m)
[33m;[39m
     [90m     |[39m 
                      
       
[31m[1m^[22m[39m
     [90m 115 |[39m 
    expect(res[33m.[
39mbody[33m.[39mhist
ory[33m.[39mlength)
[33m.[39mtoBeGreaterT
hanOrEqual([35m2[39m
)[33m;[39m [90m// 
Deposit + 
Withdraw[39m
     [90m 116 |[39m 
  })[33m;[39m
     [90m 117 |[39m 
})[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:1
14:30)

FAIL test/e2e/settings
.e2e-spec.ts (13.597 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.068Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.090Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.184Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.200Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0aec6953-b203-4c06-927
d-677cb1d5941d","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-24rhmq@test.com
","username":"user24rh
mq"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.221Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
24rhmq@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.225Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user24rhmq","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.510Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-24rhmq@test.com","use
rname":"user24rhmq"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.524Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0aec6953-b203-4c06-927
d-677cb1d5941d","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"b40c6291-b1bb-48a2-
83d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.524Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-2
4rhmq@test.com","userI
d":"b40c6291-b1bb-48a2
-83d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:45.619Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.620Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0aec6953-b203-4c06-92
7d-677cb1d5941d","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":436,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.670Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e84d80e0-5ef5-41c1-bb
88-f8a874e510dc","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.672Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e84d80e0-5ef5-41c1-bb8
8-f8a874e510dc","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-24rhmq@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.931Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e84d80e0-5ef5-41c1-bb8
8-f8a874e510dc","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"b40c6291-b1bb-48a2-8
3d8-9621e433311a","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"b40c6291-b1bb-48
a2-83d8-9621e433311a"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.962Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e84d80e0-5ef5-41c1-bb
88-f8a874e510dc","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"b40c6291-b1
bb-48a2-83d8-9621e4333
11a","duration":292,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.987Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f02e54d3-8ea9-4467-90
b6-05d1ee66d758","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"b40c62
91-b1bb-48a2-83d8-9621
e433311a","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.991Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f02e54d3-8ea9-4467-90
b6-05d1ee66d758","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"b40
c6291-b1bb-48a2-83d8-9
621e433311a","duration
":4,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.003Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
83bab26f-39fa-48f6-9e1
c-5c2ea5fd6709","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:46.019Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0bb29b16-9c1c-48dc-acf
e-5e2531e3cc25","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"b40c
6291-b1bb-48a2-83d8-96
21e433311a","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.021Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0bb29b16-9c1c-48dc-ac
fe-5e2531e3cc25","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"b
40c6291-b1bb-48a2-83d8
-9621e433311a","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"b40c6291-b1bb-48a2
-83d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.035Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0bb29b16-9c1c-48dc-acf
e-5e2531e3cc25","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"b40
c6291-b1bb-48a2-83d8-9
621e433311a","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"b40c6291-b1bb-48a2-8
3d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.039Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0bb29b16-9c1c-48dc-acf
e-5e2531e3cc25","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"b
40c6291-b1bb-48a2-83d8
-9621e433311a","durati
on":20,"http":{"method
":"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.056Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de583ef4-4166-47c4-8d7
c-0e80b8bacf68","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"b40c
6291-b1bb-48a2-83d8-96
21e433311a","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.058Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"de583ef4-4166-47c4-8d
7c-0e80b8bacf68","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"b
40c6291-b1bb-48a2-83d8
-9621e433311a","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"b40c6291-b1bb-48a2
-83d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.065Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de583ef4-4166-47c4-8d7
c-0e80b8bacf68","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"b40
c6291-b1bb-48a2-83d8-9
621e433311a","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"b40c6291-b1bb-48a2-8
3d8-9621e433311a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.075Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
de583ef4-4166-47c4-8d7
c-0e80b8bacf68","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"b
40c6291-b1bb-48a2-83d8
-9621e433311a","durati
on":19,"http":{"method
":"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.091Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
94e2272c-9b6f-4abc-b43
0-0ef2fa31cfd3","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"b40c
6291-b1bb-48a2-83d8-96
21e433311a","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.094Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
94e2272c-9b6f-4abc-b43
0-0ef2fa31cfd3","messa
ge":"[\"property 
invalidKey should not 
exist\"]","context":"E
xceptionFilter","userI
d":"b40c6291-b1bb-48a2
-83d8-9621e433311a","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
httpStatus":400,"isBus
inessError":true},"err
or":{"code":"VALIDATIO
N_ERROR","message":"Ba
d Request Exception","
stack":"BadRequestExce
ption: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:46.107Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9191bc7d-92a4-4d08-8be
4-2032bc5ef756","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"b40c
6291-b1bb-48a2-83d8-96
21e433311a","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.109Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9191bc7d-92a4-4d08-8be
4-2032bc5ef756","messa
ge":"[\"notifications.
email must be a 
boolean value\"]","con
text":"ExceptionFilter
","userId":"b40c6291-b
1bb-48a2-83d8-9621e433
311a","http":{"method"
:"PATCH","path":"/"},"
data":{"httpStatus":40
0,"isBusinessError":tr
ue},"error":{"code":"V
ALIDATION_ERROR","mess
age":"Bad Request Exce
ption","stack":"BadReq
uestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.127Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7b0c6a77-7c96-40a1-b8
44-0bf5df302c0e","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"b40c62
91-b1bb-48a2-83d8-9621
e433311a","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.128Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7b0c6a77-7c96-40a1-b8
44-0bf5df302c0e","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"b40
c6291-b1bb-48a2-83d8-9
621e433311a","duration
":1,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update top-level 
settings

    TypeError: Cannot 
read properties of 
undefined (reading 
'email')

    [0m [90m 52 
|[39m       expect(re
sponse[33m.[39mbody
[33m.[39mlanguage)[3
3m.[39mtoBe([32m'en'
[39m)[33m;[39m
     [90m 53 |[39m  
     [90m// Should 
preserve other 
settings[39m
    [31m[1m>[22m[3
9m[90m 54 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
memail)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m
     [90m    |[39m  
                      
                  
[31m[1m^[22m[39m
     [90m 55 |[39m  
   })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m  
   it([32m'should 
update nested 
settings (deep merge)'
[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:54:42)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update nested 
settings (deep merge)

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: 
undefined

    [0m [90m 64 
|[39m
     [90m 65 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
    [31m[1m>[22m[3
9m[90m 66 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
minApp)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m [90m// Should 
preserve sibling[39m
     [90m    |[39m  
                      
                      
   
[31m[1m^[22m[39m
     [90m 67 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mlanguage)[33m.[39m
toBe([32m'en'[39m)[
33m;[39m [90m// 
Should preserve 
parent sibling[39m
     [90m 68 |[39m  
   })[33m;[39m
     [90m 69 
|[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:66:49)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
persist changes

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: "en"
    Received: 
undefined

    [0m [90m 92 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[3
9m[90m 94 |[39m     
  expect(response[33m
.[39mbody[33m.[39ml
anguage)[33m.[39mtoB
e([32m'en'[39m)[33m
;[39m
     [90m    |[39m  
                      
              
[31m[1m^[22m[39m
     [90m 95 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
     [90m 96 |[39m  
   })[33m;[39m
     [90m 97 |[39m  
 })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:94:38)

PASS test/e2e/profile-
persistence.e2e-spec.t
s (13.715 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.511Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.533Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.626Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.638Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ee44dfc8-2b62-48ff-857
8-458e1757a9b2","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test_persist_1768245
224610@example.com","u
sername":"user_1768245
224610"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.667Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test_
persist_1768245224610@
example.com","found":f
alse}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.672Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user_176824522
4610","found":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.946Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
_persist_1768245224610
@example.com","usernam
e":"user_1768245224610
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.953Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ee44dfc8-2b62-48ff-857
8-458e1757a9b2","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"ae14c0aa-3ce4-4a2c-
9074-f809d2bacdca"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.953Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test_p
ersist_1768245224610@e
xample.com","userId":"
ae14c0aa-3ce4-4a2c-907
4-f809d2bacdca"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.007Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.008Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee44dfc8-2b62-48ff-85
78-458e1757a9b2","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":382,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.040Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"45effd83-5c33-47c4-a9
4c-2bbd8b0bcc94","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.042Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
45effd83-5c33-47c4-a94
c-2bbd8b0bcc94","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test_persist_
1768245224610@example.
com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.271Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
45effd83-5c33-47c4-a94
c-2bbd8b0bcc94","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"ae14c0aa-3ce4-4a2c-9
074-f809d2bacdca","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"ae14c0aa-3ce4-4a
2c-9074-f809d2bacdca"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.283Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"45effd83-5c33-47c4-a9
4c-2bbd8b0bcc94","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"ae14c0aa-3c
e4-4a2c-9074-f809d2bac
dca","duration":243,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.298Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9bbcb680-f652-40d2-9f5
4-1ad7b1df9849","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"ae14c
0aa-3ce4-4a2c-9074-f80
9d2bacdca","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.300Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9bbcb680-f652-40d2-9f
54-1ad7b1df9849","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"ae14c0a
a-3ce4-4a2c-9074-f809d
2bacdca","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"ae
14c0aa-3ce4-4a2c-9074-
f809d2bacdca","dto":{"
displayName":"Persiste
d Name"}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.311Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9bbcb680-f652-40d2-9f5
4-1ad7b1df9849","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"ae14c0aa-3ce4-4a2c
-9074-f809d2bacdca","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"ae14c0aa-3ce4
-4a2c-9074-f809d2bacdc
a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.314Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9bbcb680-f652-40d2-9f5
4-1ad7b1df9849","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"ae
14c0aa-3ce4-4a2c-9074-
f809d2bacdca","duratio
n":16,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.325Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"21e82156-85fd-41c9-90
d8-18da6e1c80cc","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"ae14
c0aa-3ce4-4a2c-9074-f8
09d2bacdca","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.326Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"21e82156-85fd-41c9-90
d8-18da6e1c80cc","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"ae1
4c0aa-3ce4-4a2c-9074-f
809d2bacdca","http":{"
method":"GET","path":"
/"},"data":{"userId":"
ae14c0aa-3ce4-4a2c-907
4-f809d2bacdca"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.347Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9bbcb680-f652-40d2-9f5
4-1ad7b1df9849","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"ae14c0
aa-3ce4-4a2c-9074-f809
d2bacdca","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"USER_PROFILE_UPDATED
","entityType":"User"}
,"error":{"message":"\
nInvalid `this.prisma.
auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.347Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"21e82156-85fd-41c9-90
d8-18da6e1c80cc","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"a
e14c0aa-3ce4-4a2c-9074
-f809d2bacdca","durati
on":22,"http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.356Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"13bbbf19-8c57-4a1a-bd
08-b28450893ac1","mess
age":"Refreshing token
","context":"AuthServi
ce","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.366Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"13bbbf19-8c57-4a1a-bd
08-b28450893ac1","mess
age":"Token refreshed 
successfully","context
":"AuthService","http"
:{"method":"POST","pat
h":"/"},"data":{"userI
d":"ae14c0aa-3ce4-4a2c
-9074-f809d2bacdca"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.377Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"77846202-8d29-4db3-82
c8-ae667fa8bc63","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"ae14
c0aa-3ce4-4a2c-9074-f8
09d2bacdca","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.378Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"77846202-8d29-4db3-82
c8-ae667fa8bc63","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"ae1
4c0aa-3ce4-4a2c-9074-f
809d2bacdca","http":{"
method":"GET","path":"
/"},"data":{"userId":"
ae14c0aa-3ce4-4a2c-907
4-f809d2bacdca"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.379Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"77846202-8d29-4db3-82
c8-ae667fa8bc63","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"a
e14c0aa-3ce4-4a2c-9074
-f809d2bacdca","durati
on":2,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

PASS test/e2e/notifica
tions.e2e-spec.ts 
(13.975 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.635Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.664Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.747Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.761Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0eeea7b3-cfef-46e8-b82
a-5c12bef161d2","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-205p7l@test.com
","username":"user205p
7l"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.777Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
205p7l@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.779Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user205p7l","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.044Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-205p7l@test.com","use
rname":"user205p7l"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.049Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0eeea7b3-cfef-46e8-b82
a-5c12bef161d2","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e3452393-c150-49a2-
ae6c-c39a4f7e576f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.050Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-2
05p7l@test.com","userI
d":"e3452393-c150-49a2
-ae6c-c39a4f7e576f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.098Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.100Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0eeea7b3-cfef-46e8-b8
2a-5c12bef161d2","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":352,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.125Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d0f4395f-3ccb-4e01-b5
01-cd544cda6e86","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.127Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d0f4395f-3ccb-4e01-b50
1-cd544cda6e86","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-205p7l@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.343Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d0f4395f-3ccb-4e01-b50
1-cd544cda6e86","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"e3452393-c150-49a2-a
e6c-c39a4f7e576f","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"e3452393-c150-49
a2-ae6c-c39a4f7e576f"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.356Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d0f4395f-3ccb-4e01-b5
01-cd544cda6e86","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"e3452393-c1
50-49a2-ae6c-c39a4f7e5
76f","duration":231,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.379Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8e92bfa-b261-4d71-88
f6-811e2c416344","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"e3452393-c150-49
a2-ae6c-c39a4f7e576f",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.383Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8e92bfa-b261-4d71-88
f6-811e2c416344","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"e3452393-c150
-49a2-ae6c-c39a4f7e576
f","duration":4,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.405Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"ce4ea565-f6
d9-4893-af49-24a87c510
f62","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.417Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2e6c935c-18e2-4734-ba
c1-6b3a3eb0e4b4","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"e3452393-c150-49
a2-ae6c-c39a4f7e576f",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.420Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2e6c935c-18e2-4734-ba
c1-6b3a3eb0e4b4","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"e3452393-c150
-49a2-ae6c-c39a4f7e576
f","duration":3,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.432Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"71d211dd-fac2-46fb-8a
71-354bd43aaa28","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"e3452393-
c150-49a2-ae6c-c39a4f7
e576f","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.436Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"71d211dd-fac2-46fb-8a
71-354bd43aaa28","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"e34523
93-c150-49a2-ae6c-c39a
4f7e576f","duration":4
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.446Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e389a52b-b9e4-4c76-9d
14-d41e89b9ebde","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"e3452393-c150-49
a2-ae6c-c39a4f7e576f",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.448Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e389a52b-b9e4-4c76-9d
14-d41e89b9ebde","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"e3452393-c150
-49a2-ae6c-c39a4f7e576
f","duration":2,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.457Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8f64775f-1b93-4e2d-bc
a2-117813cc80ad","mess
age":"NotificationsCon
troller.markAsRead() c
alled","context":"Noti
ficationsController","
userId":"e3452393-c150
-49a2-ae6c-c39a4f7e576
f","http":{"method":"P
ATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.463Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8f64775f-1b93-4e2d-bc
a2-117813cc80ad","mess
age":"NotificationsCon
troller.markAsRead() c
ompleted","context":"N
otificationsController
","userId":"e3452393-c
150-49a2-ae6c-c39a4f7e
576f","duration":6,"ht
tp":{"method":"PATCH",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.471Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9b442e10-4797-47fa-92
16-c3533c57732d","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"e3452393-
c150-49a2-ae6c-c39a4f7
e576f","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.473Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9b442e10-4797-47fa-92
16-c3533c57732d","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"e34523
93-c150-49a2-ae6c-c39a
4f7e576f","duration":2
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.479Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"0d9702e2-ed
39-499a-a0e2-010e4b51f
f90","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.487Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"527df7d7-bfa6-47b1-a4
2a-96b186bd66bb","mess
age":"NotificationsCon
troller.markAllAsRead(
) called","context":"N
otificationsController
","userId":"e3452393-c
150-49a2-ae6c-c39a4f7e
576f","http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.492Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"527df7d7-bfa6-47b1-a4
2a-96b186bd66bb","mess
age":"NotificationsCon
troller.markAllAsRead(
) completed","context"
:"NotificationsControl
ler","userId":"e345239
3-c150-49a2-ae6c-c39a4
f7e576f","duration":5,
"http":{"method":"PATC
H","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.501Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e74e7695-5931-42df-8f
0b-e1b933c73fcc","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"e3452393-
c150-49a2-ae6c-c39a4f7
e576f","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.503Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e74e7695-5931-42df-8f
0b-e1b933c73fcc","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"e34523
93-c150-49a2-ae6c-c39a
4f7e576f","duration":2
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\no
tifications.e2e-spec.t
s:24:17) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: {
          modelName: 
'User',
          field_name: 
'notifications_user_id
_fkey (index)'
        }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/notifications.e2e-sp
ec.ts:24:17)

FAIL test/e2e/payments
.e2e-spec.ts (14.279 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.437Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.463Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.547Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.562Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f80d4d33-378b-4e11-9c4
7-5569018336dd","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-oekdvuw@test.co
m","username":"useroek
dvuw"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.588Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
oekdvuw@test.com","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.597Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"useroekdvuw","
found":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.885Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-oekdvuw@test.com","us
ername":"useroekdvuw"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.897Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f80d4d33-378b-4e11-9c4
7-5569018336dd","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"7cabbcab-6e90-4f1b-
bf5d-58a185e0029d"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.897Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-o
ekdvuw@test.com","user
Id":"7cabbcab-6e90-4f1
b-bf5d-58a185e0029d"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:45.976Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.977Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f80d4d33-378b-4e11-9c
47-5569018336dd","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":431,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.029Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"67c755e5-9a5f-4bcd-92
4b-8be3c32a50e0","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.032Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
67c755e5-9a5f-4bcd-924
b-8be3c32a50e0","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-oekdvuw@
test.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.258Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
67c755e5-9a5f-4bcd-924
b-8be3c32a50e0","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"7cabbcab-6e90-4f1b-b
f5d-58a185e0029d","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"7cabbcab-6e90-4f
1b-bf5d-58a185e0029d"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.268Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"67c755e5-9a5f-4bcd-92
4b-8be3c32a50e0","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"7cabbcab-6e
90-4f1b-bf5d-58a185e00
29d","duration":239,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.274Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.275Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e597d13-dd55-475c-8d3
1-5888f0d47226","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-hdttwn@test.com
","username":"userhdtt
wn"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.277Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
hdttwn@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.278Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userhdttwn","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.496Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-hdttwn@test.com","use
rname":"userhdttwn"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.500Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5e597d13-dd55-475c-8d3
1-5888f0d47226","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"f349289e-ba7d-4834-
b534-bc0aca285ac4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.500Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
dttwn@test.com","userI
d":"f349289e-ba7d-4834
-b534-bc0aca285ac4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.517Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.517Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5e597d13-dd55-475c-8d
31-5888f0d47226","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":243,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.530Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"29891b97-fcdb-49fd-bd
0f-16cd3fd442ec","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.532Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
29891b97-fcdb-49fd-bd0
f-16cd3fd442ec","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-hdttwn@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.740Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
29891b97-fcdb-49fd-bd0
f-16cd3fd442ec","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"f349289e-ba7d-4834-b
534-bc0aca285ac4","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"f349289e-ba7d-48
34-b534-bc0aca285ac4"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.750Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"29891b97-fcdb-49fd-bd
0f-16cd3fd442ec","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"f349289e-ba
7d-4834-b534-bc0aca285
ac4","duration":220,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.764Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b6a18a58-3e68-48d6-b08
0-f06e6f3e8389","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"7cabbc
ab-6e90-4f1b-bf5d-58a1
85e0029d","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.768Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b6a18a58-3e68-48d6-b08
0-f06e6f3e8389","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
7cabbcab-6e90-4f1b-bf5
d-58a185e0029d","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.789Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b6a18a58-3e68-48d6-b08
0-f06e6f3e8389","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"7cabbc
ab-6e90-4f1b-bf5d-58a1
85e0029d","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should initiate a 
checkout session 
(MOCK)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should fail if 
order does not exist

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/shipment
s.e2e-spec.ts (14.399 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.557Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.589Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.707Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.724Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
01f4bc52-9df9-44fd-9db
0-4ef0f3738aef","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-hzuuh4@test.com
","username":"userhzuu
h4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.746Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
hzuuh4@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.750Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userhzuuh4","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.009Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-hzuuh4@test.com","use
rname":"userhzuuh4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.015Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
01f4bc52-9df9-44fd-9db
0-4ef0f3738aef","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"a9289bdb-47f8-4b97-
831a-3f11c086bf2f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.016Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
zuuh4@test.com","userI
d":"a9289bdb-47f8-4b97
-831a-3f11c086bf2f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.064Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.065Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"01f4bc52-9df9-44fd-9d
b0-4ef0f3738aef","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":358,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.113Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bcf00a5e-8cd3-4f56-b0
15-a1176967c577","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.116Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bcf00a5e-8cd3-4f56-b01
5-a1176967c577","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-hzuuh4@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.339Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bcf00a5e-8cd3-4f56-b01
5-a1176967c577","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"a9289bdb-47f8-4b97-8
31a-3f11c086bf2f","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"a9289bdb-47f8-4b
97-831a-3f11c086bf2f"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.352Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bcf00a5e-8cd3-4f56-b0
15-a1176967c577","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"a9289bdb-47
f8-4b97-831a-3f11c086b
f2f","duration":239,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.358Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.359Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5366007d-5d3d-40ad-978
7-a2a94a5aa879","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-pqibx4p@test.co
m","username":"userpqi
bx4p"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.362Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
pqibx4p@test.com","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.364Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userpqibx4p","
found":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.580Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-pqibx4p@test.com","us
ername":"userpqibx4p"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.585Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5366007d-5d3d-40ad-978
7-a2a94a5aa879","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"9db5090e-1605-48ba-
837e-7e7ca59a7476"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.585Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-p
qibx4p@test.com","user
Id":"9db5090e-1605-48b
a-837e-7e7ca59a7476"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.593Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.593Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5366007d-5d3d-40ad-97
87-a2a94a5aa879","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":235,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.604Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6ceacefb-da44-4830-9f
74-08bb4dd8f3f9","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.605Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ceacefb-da44-4830-9f7
4-08bb4dd8f3f9","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-pqibx4p@
test.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.819Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ceacefb-da44-4830-9f7
4-08bb4dd8f3f9","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"9db5090e-1605-48ba-8
37e-7e7ca59a7476","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"9db5090e-1605-48
ba-837e-7e7ca59a7476"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.826Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6ceacefb-da44-4830-9f
74-08bb4dd8f3f9","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"9db5090e-16
05-48ba-837e-7e7ca59a7
476","duration":222,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.840Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fe6e44c-c2ea-47ff-972
1-b25e4a9504ec","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"a9289b
db-47f8-4b97-831a-3f11
c086bf2f","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.845Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fe6e44c-c2ea-47ff-972
1-b25e4a9504ec","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
a9289bdb-47f8-4b97-831
a-3f11c086bf2f","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.867Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4fe6e44c-c2ea-47ff-972
1-b25e4a9504ec","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"a9289b
db-47f8-4b97-831a-3f11
c086bf2f","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.log
      prisma:error 
      Invalid `any).sh
ipment.findUnique()` 
invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\e2e\shipments.e2e-sp
ec.ts:117:68
      
        114 
        115 
beforeAll(async () => 
{
        116   // eslin
t-disable-next-line @t
ypescript-eslint/no-ex
plicit-any
      ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
                
where: {
                  
orderId: undefined,
              ?   
id?: String,
              ?   
AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
OR?: 
ShipmentWhereInput[],
              ?   
NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
createdAt?: 
DateTimeFilter | 
DateTime,
              ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
              ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
              ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
              ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
              ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
              ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
              ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
              ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
                }
              })
      
      Argument 
`where` of type Shipme
ntWhereUniqueInput 
needs at least one of 
`id` or `orderId` 
arguments. Available 
options are marked 
with ?.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
create a shipment 
when authenticated as 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
fail if user is not 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

FAIL test/e2e/disputes
.e2e-spec.ts (14.408 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.633Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.655Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.732Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.754Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ec938888-b35b-4c78-814
d-92c63f085cc6","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-pf80b4@test.com
","username":"userpf80
b4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.770Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
pf80b4@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.773Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userpf80b4","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.038Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-pf80b4@test.com","use
rname":"userpf80b4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.043Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ec938888-b35b-4c78-814
d-92c63f085cc6","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e7d90484-2ef4-49c1-
9a40-c723dc14f5ba"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.044Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-p
f80b4@test.com","userI
d":"e7d90484-2ef4-49c1
-9a40-c723dc14f5ba"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.090Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.091Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ec938888-b35b-4c78-81
4d-92c63f085cc6","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":359,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.126Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5f10923b-f56c-455a-81
cf-97cdecbfa8fc","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.128Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5f10923b-f56c-455a-81c
f-97cdecbfa8fc","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-pf80b4@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.348Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5f10923b-f56c-455a-81c
f-97cdecbfa8fc","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"e7d90484-2ef4-49c1-9
a40-c723dc14f5ba","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"e7d90484-2ef4-49
c1-9a40-c723dc14f5ba"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.357Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5f10923b-f56c-455a-81
cf-97cdecbfa8fc","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"e7d90484-2e
f4-49c1-9a40-c723dc14f
5ba","duration":231,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.365Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.367Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
24fe2ed3-7eb6-4b11-b52
8-4aaea282dcd3","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-hw1t4@test.com"
,"username":"userhw1t4
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.369Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
hw1t4@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.370Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userhw1t4","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.588Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-hw1t4@test.com","user
name":"userhw1t4"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.592Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
24fe2ed3-7eb6-4b11-b52
8-4aaea282dcd3","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"872f8157-9739-4afa-
8254-61f045aeb2ef"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.593Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
w1t4@test.com","userId
":"872f8157-9739-4afa-
8254-61f045aeb2ef"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.601Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.601Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"24fe2ed3-7eb6-4b11-b5
28-4aaea282dcd3","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":236,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.622Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"46a3a79c-e4ec-4837-a5
b5-ed93dd3a297e","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.623Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
46a3a79c-e4ec-4837-a5b
5-ed93dd3a297e","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-hw1t4@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.839Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
46a3a79c-e4ec-4837-a5b
5-ed93dd3a297e","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"872f8157-9739-4afa-8
254-61f045aeb2ef","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"872f8157-9739-4a
fa-8254-61f045aeb2ef"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.852Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"46a3a79c-e4ec-4837-a5
b5-ed93dd3a297e","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"872f8157-97
39-4afa-8254-61f045aeb
2ef","duration":230,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.869Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5d1793b9-0365-40ba-8d2
5-96c675e141f2","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"e7d904
84-2ef4-49c1-9a40-c723
dc14f5ba","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.873Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5d1793b9-0365-40ba-8d2
5-96c675e141f2","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
e7d90484-2ef4-49c1-9a4
0-c723dc14f5ba","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.893Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5d1793b9-0365-40ba-8d2
5-96c675e141f2","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"e7d904
84-2ef4-49c1-9a40-c723
dc14f5ba","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to create 
a dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
prevent duplicate 
disputes for same 
order

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Seller to view 
the dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to view 
specific dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

PASS test/e2e/watchlis
t.e2e-spec.ts (14.339 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.451Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.473Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.584Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.597Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fbd5424f-be7d-4ff5-bd6
0-c2c4bc34482b","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-rmss3@test.com"
,"username":"userrmss3
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.628Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
rmss3@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.635Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userrmss3","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.905Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-rmss3@test.com","user
name":"userrmss3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.912Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fbd5424f-be7d-4ff5-bd6
0-c2c4bc34482b","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"6e68d596-15ab-4a17-
b377-666470b025fc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.912Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-r
mss3@test.com","userId
":"6e68d596-15ab-4a17-
b377-666470b025fc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:45.995Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.997Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fbd5424f-be7d-4ff5-bd
60-c2c4bc34482b","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":413,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.050Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"316a35e2-1398-425f-aa
e9-47d59378a365","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.052Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
316a35e2-1398-425f-aae
9-47d59378a365","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-rmss3@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.281Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
316a35e2-1398-425f-aae
9-47d59378a365","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"6e68d596-15ab-4a17-b
377-666470b025fc","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"6e68d596-15ab-4a
17-b377-666470b025fc"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.293Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"316a35e2-1398-425f-aa
e9-47d59378a365","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"6e68d596-15
ab-4a17-b377-666470b02
5fc","duration":243,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.300Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.301Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ac23c8fd-c860-42aa-aaf
4-ce8249fb43d4","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-t7gjbg@test.com
","username":"usert7gj
bg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.304Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
t7gjbg@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.306Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usert7gjbg","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.525Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-t7gjbg@test.com","use
rname":"usert7gjbg"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.530Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ac23c8fd-c860-42aa-aaf
4-ce8249fb43d4","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"0305c957-0b3c-45ef-
8de0-387b049f45f3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.530Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-t
7gjbg@test.com","userI
d":"0305c957-0b3c-45ef
-8de0-387b049f45f3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.539Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.539Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ac23c8fd-c860-42aa-aa
f4-ce8249fb43d4","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":239,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.551Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"69277f0d-d381-4c90-b5
bc-73ebc67822df","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.552Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
69277f0d-d381-4c90-b5b
c-73ebc67822df","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-t7gjbg@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.761Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
69277f0d-d381-4c90-b5b
c-73ebc67822df","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"0305c957-0b3c-45ef-8
de0-387b049f45f3","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"0305c957-0b3c-45
ef-8de0-387b049f45f3"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.769Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"69277f0d-d381-4c90-b5
bc-73ebc67822df","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"0305c957-0b
3c-45ef-8de0-387b049f4
5f3","duration":218,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.785Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7b9c39c-5ab0-4da4-a8e
3-1dfbe2d87150","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"6e68d5
96-15ab-4a17-b377-6664
70b025fc","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.788Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b7b9c39c-5ab0-4da4-a8
e3-1dfbe2d87150","mess
age":"Creating auction
","context":"AuctionsS
ervice","userId":"6e68
d596-15ab-4a17-b377-66
6470b025fc","http":{"m
ethod":"POST","path":"
/"},"data":{"userId":"
6e68d596-15ab-4a17-b37
7-666470b025fc","title
":"Watchlist Test 
Auction"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.797Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7b9c39c-5ab0-4da4-a8e
3-1dfbe2d87150","messa
ge":"Auction created s
uccessfully","context"
:"AuctionsService","us
erId":"6e68d596-15ab-4
a17-b377-666470b025fc"
,"http":{"method":"POS
T","path":"/"},"data":
{"auctionId":"d3ec67c6
-fe39-45f5-b4e0-3531c7
a95f9c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.797Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7b9c39c-5ab0-4da4-a8e
3-1dfbe2d87150","messa
ge":"AuctionsControlle
r.create() completed",
"context":"AuctionsCon
troller","userId":"6e6
8d596-15ab-4a17-b377-6
66470b025fc","duration
":12,"http":{"method":
"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.807Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8429c750-2963-47ca-a82
3-131c47016aca","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"6e68d
596-15ab-4a17-b377-666
470b025fc","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.812Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8429c750-2963-47ca-a82
3-131c47016aca","messa
ge":"Auction published
","context":"AuctionsS
ervice","userId":"6e68
d596-15ab-4a17-b377-66
6470b025fc","http":{"m
ethod":"POST","path":"
/"},"data":{"auctionId
":"d3ec67c6-fe39-45f5-
b4e0-3531c7a95f9c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.813Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8429c750-2963-47ca-a82
3-131c47016aca","messa
ge":"AuctionsControlle
r.publish() completed"
,"context":"AuctionsCo
ntroller","userId":"6e
68d596-15ab-4a17-b377-
666470b025fc","duratio
n":6,"http":{"method":
"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.840Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8429c750-2963-47ca-a82
3-131c47016aca","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"6e68d5
96-15ab-4a17-b377-6664
70b025fc","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_PUBLISHED","e
ntityType":"Auction"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.849Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8984c21f-5270-47ed-8e
8b-57051f2c7d02","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"0305c957-0b3c-45ef-
8de0-387b049f45f3","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.853Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8984c21f-5270-47ed-8e
8b-57051f2c7d02","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"0305c957-0b3c-45
ef-8de0-387b049f45f3",
"duration":4,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.867Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
351d1a9f-c469-4b08-99d
3-012dd9b3ea0d","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:46.879Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0151afee-1fb3-4480-81f
3-9f1ef424714b","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"0305c957-0b3c-45ef
-8de0-387b049f45f3","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.890Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0151afee-1fb3-4480-81f
3-9f1ef424714b","messa
ge":"Added to watchlis
t","context":"Watchlis
tService","userId":"03
05c957-0b3c-45ef-8de0-
387b049f45f3","http":{
"method":"POST","path"
:"/"},"data":{"userId"
:"0305c957-0b3c-45ef-8
de0-387b049f45f3","auc
tionId":"d3ec67c6-fe39
-45f5-b4e0-3531c7a95f9
c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.891Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0151afee-1fb3-4480-81f
3-9f1ef424714b","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"0305c957-0b3c-4
5ef-8de0-387b049f45f3"
,"duration":12,"http":
{"method":"POST","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.901Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d5428ded-5845-4ea4-b44
4-6dc459bb2d82","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"0305c957-0b3c-45ef
-8de0-387b049f45f3","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.905Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d5428ded-5845-4ea4-b4
44-6dc459bb2d82","mess
age":"Watchlist item 
already exists","conte
xt":"WatchlistService"
,"userId":"0305c957-0b
3c-45ef-8de0-387b049f4
5f3","http":{"method":
"POST","path":"/"},"da
ta":{"userId":"0305c95
7-0b3c-45ef-8de0-387b0
49f45f3","auctionId":"
d3ec67c6-fe39-45f5-b4e
0-3531c7a95f9c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.906Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d5428ded-5845-4ea4-b44
4-6dc459bb2d82","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"0305c957-0b3c-4
5ef-8de0-387b049f45f3"
,"duration":5,"http":{
"method":"POST","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.927Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ec35b843-04fe-4339-960
9-3be3933c3ec9","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"0305c957-0b3c-45ef
-8de0-387b049f45f3","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.932Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ec35b843-04fe-4339-960
9-3be3933c3ec9","messa
ge":"Auction not found
","context":"Exception
Filter","userId":"0305
c957-0b3c-45ef-8de0-38
7b049f45f3","http":{"m
ethod":"POST","path":"
/"},"data":{"httpStatu
s":404,"isBusinessErro
r":true,"entityType":"
Auction","entityId":"0
0000000-0000-0000-0000
-000000000000"},"error
":{"code":"AUCTION_NOT
_FOUND","message":"Auc
tion not found","stack
":"AuctionNotFoundExce
ption: Auction not 
found\n    at 
WatchlistService.add (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\watchlist\\w
atchlist.service.ts:36
:13)\n    at Watchlist
Controller.addToWatchl
ist (C:\\DevOps\\Desar
rollos\\IronLoot\\api\
\src\\modules\\watchli
st\\watchlist.controll
er.ts:53:5)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.942Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a753003d-a9b4-4b3f-9e
ea-ca52c261dd9c","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"0305c957-0b3c-45ef-
8de0-387b049f45f3","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.946Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a753003d-a9b4-4b3f-9e
ea-ca52c261dd9c","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"0305c957-0b3c-45
ef-8de0-387b049f45f3",
"duration":4,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.959Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c23f4aa8-67a1-4ea1-919
f-b7e9753aa783","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"0305c957-0b3c
-45ef-8de0-387b049f45f
3","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.964Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c23f4aa8-67a1-4ea1-919
f-b7e9753aa783","messa
ge":"Removed from watc
hlist","context":"Watc
hlistService","userId"
:"0305c957-0b3c-45ef-8
de0-387b049f45f3","htt
p":{"method":"DELETE",
"path":"/"},"data":{"u
serId":"0305c957-0b3c-
45ef-8de0-387b049f45f3
","auctionId":"d3ec67c
6-fe39-45f5-b4e0-3531c
7a95f9c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.964Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c23f4aa8-67a1-4ea1-919
f-b7e9753aa783","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"0305c957-0
b3c-45ef-8de0-387b049f
45f3","duration":5,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.975Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
51b46b9c-98cb-4b0c-8f2
6-007d292bc91b","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"0305c957-0b3c
-45ef-8de0-387b049f45f
3","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.watchlist.delete(
)` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\watchlist\wat
chlist.service.ts:70:4
1
      
        67 async 
remove(userId: 
string, auctionId: 
string): 
Promise<void> {
        68   // 
Idempotent delete
        69   try {
      ÔåÆ 70     
await this.prisma.watc
hlist.delete(
      An operation 
failed because it 
depends on one or 
more records that 
were required but not 
found. Record to 
delete does not exist.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.979Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"51b46b9c-98cb-4b0c-8f
26-007d292bc91b","mess
age":"Watchlist item 
did not exist, ignorin
g","context":"Watchlis
tService","userId":"03
05c957-0b3c-45ef-8de0-
387b049f45f3","http":{
"method":"DELETE","pat
h":"/"},"data":{"userI
d":"0305c957-0b3c-45ef
-8de0-387b049f45f3","a
uctionId":"d3ec67c6-fe
39-45f5-b4e0-3531c7a95
f9c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.979Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
51b46b9c-98cb-4b0c-8f2
6-007d292bc91b","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"0305c957-0
b3c-45ef-8de0-387b049f
45f3","duration":4,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.988Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f701b699-ff4e-4567-a6
57-474ec078ee0a","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"0305c957-0b3c-45ef-
8de0-387b049f45f3","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.991Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f701b699-ff4e-4567-a6
57-474ec078ee0a","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"0305c957-0b3c-45
ef-8de0-387b049f45f3",
"duration":3,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\wa
tchlist.e2e-spec.ts:49
:19) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: { 
modelName: 'User', 
field_name: 'auctions_
seller_id_fkey 
(index)' }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/watchlist.e2e-spec.t
s:49:19)

FAIL test/e2e/auctions
.e2e-spec.ts (14.501 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.635Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.659Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.750Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.762Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2eb5663-8172-44b0-bcc
7-c290546eca64","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-wa2doc@test.com
","username":"userwa2d
oc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.779Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
wa2doc@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.781Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userwa2doc","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.059Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-wa2doc@test.com","use
rname":"userwa2doc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.064Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2eb5663-8172-44b0-bcc
7-c290546eca64","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"0d3d1f25-45c1-4baa-
aa7a-70d7407ddbe2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.064Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-w
a2doc@test.com","userI
d":"0d3d1f25-45c1-4baa
-aa7a-70d7407ddbe2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.127Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.128Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2eb5663-8172-44b0-bc
c7-c290546eca64","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":378,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.161Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a22e8f8-8f49-43a4-82
86-60b80308c4f7","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.163Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4a22e8f8-8f49-43a4-828
6-60b80308c4f7","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-wa2doc@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.379Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4a22e8f8-8f49-43a4-828
6-60b80308c4f7","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"0d3d1f25-45c1-4baa-a
a7a-70d7407ddbe2","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"0d3d1f25-45c1-4b
aa-aa7a-70d7407ddbe2"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.388Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4a22e8f8-8f49-43a4-82
86-60b80308c4f7","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"0d3d1f25-45
c1-4baa-aa7a-70d7407dd
be2","duration":227,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.395Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.396Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e22d02a2-76d1-4366-914
2-d3b45cbc25d4","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-6j1f0m@test.com
","username":"user6j1f
0m"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.397Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
6j1f0m@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.399Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user6j1f0m","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.612Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-6j1f0m@test.com","use
rname":"user6j1f0m"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.617Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e22d02a2-76d1-4366-914
2-d3b45cbc25d4","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"65b67bda-a37d-49d9-
9cda-6e74905d1f67"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.617Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-6
j1f0m@test.com","userI
d":"65b67bda-a37d-49d9
-9cda-6e74905d1f67"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.625Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.625Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e22d02a2-76d1-4366-91
42-d3b45cbc25d4","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":230,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.644Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fe8abea-4a0c-4fe3-b6
3c-9c43f83677a9","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.645Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fe8abea-4a0c-4fe3-b63
c-9c43f83677a9","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-6j1f0m@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.860Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3fe8abea-4a0c-4fe3-b63
c-9c43f83677a9","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"65b67bda-a37d-49d9-9
cda-6e74905d1f67","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"65b67bda-a37d-49
d9-9cda-6e74905d1f67"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.870Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3fe8abea-4a0c-4fe3-b6
3c-9c43f83677a9","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"65b67bda-a3
7d-49d9-9cda-6e74905d1
f67","duration":226,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.891Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58fab9a8-ae37-4ee5-998
9-29e979ebaf32","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"0d3d1f
25-45c1-4baa-aa7a-70d7
407ddbe2","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.896Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58fab9a8-ae37-4ee5-998
9-29e979ebaf32","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"0d3d1f2
5-45c1-4baa-aa7a-70d74
07ddbe2","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.917Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58fab9a8-ae37-4ee5-998
9-29e979ebaf32","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"0d3d1f
25-45c1-4baa-aa7a-70d7
407ddbe2","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.928Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ee50917-8aab-4d76-903
8-7cda1b12b566","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"65b67b
da-a37d-49d9-9cda-6e74
905d1f67","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.930Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ee50917-8aab-4d76-903
8-7cda1b12b566","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"65b67bd
a-a37d-49d9-9cda-6e749
05d1f67","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.937Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ee50917-8aab-4d76-903
8-7cda1b12b566","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"65b67b
da-a37d-49d9-9cda-6e74
905d1f67","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.943Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"80ce1e2f-f089-47ef-95
03-1d0f39493b25","mess
age":"AuctionsControll
er.findAll() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.951Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"80ce1e2f-f089-47ef-95
03-1d0f39493b25","mess
age":"AuctionsControll
er.findAll() completed
","context":"AuctionsC
ontroller","duration":
8,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.962Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"69c1f097-cec4-4dcf-8e
f1-bd9b4efff7f6","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.964Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
69c1f097-cec4-4dcf-8ef
1-bd9b4efff7f6","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:46.978Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
356bec96-6ceb-4f21-a52
b-cdd30f6f9242","messa
ge":"AuctionsControlle
r.update() called","co
ntext":"AuctionsContro
ller","userId":"0d3d1f
25-45c1-4baa-aa7a-70d7
407ddbe2","http":{"met
hod":"PATCH","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.979Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
356bec96-6ceb-4f21-a52
b-cdd30f6f9242","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"0
d3d1f25-45c1-4baa-aa7a
-70d7407ddbe2","http":
{"method":"PATCH","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Validat
ion failed (uuid is ex
pected)","stack":"BadR
equestException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
1)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.985Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
356bec96-6ceb-4f21-a52
b-cdd30f6f9242","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"0d3d1f
25-45c1-4baa-aa7a-70d7
407ddbe2","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"AUCTION_UPDATED","en
tityType":"Auction"},"
error":{"message":"\nI
nvalid `this.prisma.au
ditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.992Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
02c4c166-a994-4a02-850
2-cff079b25dd3","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"0d3d1
f25-45c1-4baa-aa7a-70d
7407ddbe2","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.993Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
02c4c166-a994-4a02-850
2-cff079b25dd3","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"0
d3d1f25-45c1-4baa-aa7a
-70d7407ddbe2","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.996Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
02c4c166-a994-4a02-850
2-cff079b25dd3","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"0d3d1f
25-45c1-4baa-aa7a-70d7
407ddbe2","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_PUBLISHED","e
ntityType":"Auction"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
allow seller to 
create an auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 47 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 48 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 49 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 50 |[39m
     [90m 51 |[39m  
     expect(response[
33m.[39mbody)[33m.[
39mtoHaveProperty([32
m'id'[39m)[33m;[39m
     [90m 52 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(auctionDto[33m.[39
mtitle)[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:49:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
deny non-seller

    expected 403 
"Forbidden", got 400 
"Bad Request"

    [0m [90m 61 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${buyer.token}`[39m)
     [90m 62 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 63 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 64 |[39m  
   })[33m;[39m
     [90m 65 |[39m  
 })[33m;[39m
     [90m 66 
|[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:63:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should list 
auctions

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: false

    [0m [90m 75 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[3
9m[90m 77 |[39m     
  expect([33mArray[3
9m[33m.[39misArray(r
esponse[33m.[39mbody
))[33m.[39mtoBe([36
mtrue[39m)[33m;[39m
     [90m    |[39m  
                      
                    
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
retrieve auction detai
ls'[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:77:44)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should 
retrieve auction 
details

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 81 
|[39m       
[36mconst[39m 
response [33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 82 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 83 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 84 |[39m
     [90m 85 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mid)[33m.[39mtoBe(a
uctionId)[33m;[39m
     [90m 86 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:83:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions/:id 
(PATCH) ÔÇ║ should 
update auction (Draft)

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 95 |[39m  
       [33m.[39msend
(updateData)
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(updateData[33m.[39
mtitle)[33m;[39m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:96:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ /api/v1/auct
ions/:id/publish 
(POST) ÔÇ║ should 
publish auction

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 105 
|[39m         [33m.
[39mpost([32m`/api/v1
/auctions/${auctionId}
/publish`[39m)
     [90m 106 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer 
${seller.token}`[39m)
    [31m[1m>[22m[3
9m[90m 107 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 108 |[39m
     [90m 109 |[39m 
      expect(response
[33m.[39mbody[33m.[
39mstatus)[33m.[39mt
oBe([32m'PUBLISHED'[
39m)[33m;[39m
     [90m 110 |[39m 
    })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:107:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/ratings.
e2e-spec.ts (14.516 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.728Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.751Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.837Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.854Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1a703d93-28ea-4146-822
3-46b5ab6e47e8","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-xho23f@test.com
","username":"userxho2
3f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.869Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
xho23f@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.871Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userxho23f","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.136Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-xho23f@test.com","use
rname":"userxho23f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.143Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1a703d93-28ea-4146-822
3-46b5ab6e47e8","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"32946cf0-7c1c-43a1-
be7f-e7bf7aeca767"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.143Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-x
ho23f@test.com","userI
d":"32946cf0-7c1c-43a1
-be7f-e7bf7aeca767"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.184Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.185Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1a703d93-28ea-4146-82
23-46b5ab6e47e8","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":348,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.230Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"58fb2d8d-7008-48b9-a1
8b-0dccc21f6e28","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.232Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58fb2d8d-7008-48b9-a18
b-0dccc21f6e28","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-xho23f@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.453Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58fb2d8d-7008-48b9-a18
b-0dccc21f6e28","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"32946cf0-7c1c-43a1-b
e7f-e7bf7aeca767","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"32946cf0-7c1c-43
a1-be7f-e7bf7aeca767"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.464Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"58fb2d8d-7008-48b9-a1
8b-0dccc21f6e28","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"32946cf0-7c
1c-43a1-be7f-e7bf7aeca
767","duration":234,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.471Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.472Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bfd7e65e-3cae-4fdf-814
5-68312e5d8350","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-6xn79o@test.com
","username":"user6xn7
9o"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.474Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
6xn79o@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.475Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user6xn79o","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.687Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-6xn79o@test.com","use
rname":"user6xn79o"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.690Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bfd7e65e-3cae-4fdf-814
5-68312e5d8350","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"0f879baf-f5ed-41c0-
8871-3a6f6f068c93"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.691Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-6
xn79o@test.com","userI
d":"0f879baf-f5ed-41c0
-8871-3a6f6f068c93"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.699Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.699Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bfd7e65e-3cae-4fdf-81
45-68312e5d8350","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":228,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.712Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f39cb889-fcde-453f-83
51-d2b850965e42","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.713Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f39cb889-fcde-453f-835
1-d2b850965e42","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-6xn79o@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.931Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f39cb889-fcde-453f-835
1-d2b850965e42","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"0f879baf-f5ed-41c0-8
871-3a6f6f068c93","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"0f879baf-f5ed-41
c0-8871-3a6f6f068c93"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.940Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f39cb889-fcde-453f-83
51-d2b850965e42","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"0f879baf-f5
ed-41c0-8871-3a6f6f068
c93","duration":228,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.956Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3c37e08c-5879-4935-b29
4-98e846b7f023","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"32946c
f0-7c1c-43a1-be7f-e7bf
7aeca767","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.961Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3c37e08c-5879-4935-b29
4-98e846b7f023","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
32946cf0-7c1c-43a1-be7
f-e7bf7aeca767","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.981Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3c37e08c-5879-4935-b29
4-98e846b7f023","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"32946c
f0-7c1c-43a1-be7f-e7bf
7aeca767","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
create shipment 
(Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
update shipment to 
DELIVERED (Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Buyer to rate 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Seller to rate 
Buyer

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
prevent duplicate 
rating

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
list ratings for 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/orders.e
2e-spec.ts (14.561 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.280Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.305Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.389Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.401Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d293ee34-c0a4-4322-a18
4-82f98205d9f1","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-vgpgt@test.com"
,"username":"uservgpgt
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.435Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
vgpgt@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.440Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"uservgpgt","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.720Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-vgpgt@test.com","user
name":"uservgpgt"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.726Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d293ee34-c0a4-4322-a18
4-82f98205d9f1","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"33ad8f89-51a8-455a-
9f99-cbe76f51b786"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.726Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-v
gpgt@test.com","userId
":"33ad8f89-51a8-455a-
9f99-cbe76f51b786"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:45.782Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.784Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d293ee34-c0a4-4322-a1
84-82f98205d9f1","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":396,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.839Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2fa6ffe8-2f15-4ee7-aa
9f-4b1adafc1b82","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.841Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2fa6ffe8-2f15-4ee7-aa9
f-4b1adafc1b82","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-vgpgt@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.090Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2fa6ffe8-2f15-4ee7-aa9
f-4b1adafc1b82","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"33ad8f89-51a8-455a-9
f99-cbe76f51b786","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"33ad8f89-51a8-45
5a-9f99-cbe76f51b786"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.104Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2fa6ffe8-2f15-4ee7-aa
9f-4b1adafc1b82","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"33ad8f89-51
a8-455a-9f99-cbe76f51b
786","duration":265,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.114Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.116Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bd6e7ce2-7a54-467a-830
5-c214ac809630","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-ni2ke@test.com"
,"username":"userni2ke
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.120Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
ni2ke@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.122Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userni2ke","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.342Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-ni2ke@test.com","user
name":"userni2ke"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.349Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bd6e7ce2-7a54-467a-830
5-c214ac809630","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"2b60ce0b-21f9-453d-
9b34-3ca55de9c65f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.349Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-n
i2ke@test.com","userId
":"2b60ce0b-21f9-453d-
9b34-3ca55de9c65f"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.361Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.362Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bd6e7ce2-7a54-467a-83
05-c214ac809630","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":248,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.375Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f769e4a0-b6dd-43cf-bb
36-db090c520aa8","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.376Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f769e4a0-b6dd-43cf-bb3
6-db090c520aa8","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-ni2ke@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.594Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f769e4a0-b6dd-43cf-bb3
6-db090c520aa8","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"2b60ce0b-21f9-453d-9
b34-3ca55de9c65f","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"2b60ce0b-21f9-45
3d-9b34-3ca55de9c65f"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.602Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f769e4a0-b6dd-43cf-bb
36-db090c520aa8","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"2b60ce0b-21
f9-453d-9b34-3ca55de9c
65f","duration":227,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.608Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.609Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f6dd5798-321d-459f-abc
b-5053d31a8236","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-t07us@test.com"
,"username":"usert07us
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.610Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
t07us@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.611Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usert07us","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.824Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-t07us@test.com","user
name":"usert07us"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.828Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f6dd5798-321d-459f-abc
b-5053d31a8236","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"7ae70d22-a7ba-4bec-
b17d-1cbea077c9a5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.828Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-t
07us@test.com","userId
":"7ae70d22-a7ba-4bec-
b17d-1cbea077c9a5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.838Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.838Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f6dd5798-321d-459f-ab
cb-5053d31a8236","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":230,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.849Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d6672301-a0fd-46b8-88
3a-199f5710d726","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.850Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d6672301-a0fd-46b8-883
a-199f5710d726","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-t07us@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.066Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d6672301-a0fd-46b8-883
a-199f5710d726","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"7ae70d22-a7ba-4bec-b
17d-1cbea077c9a5","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"7ae70d22-a7ba-4b
ec-b17d-1cbea077c9a5"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.073Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d6672301-a0fd-46b8-88
3a-199f5710d726","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"7ae70d22-a7
ba-4bec-b17d-1cbea077c
9a5","duration":224,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.090Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d21e469c-06bb-40e4-9ba
5-e233c17a9061","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"33ad8f
89-51a8-455a-9f99-cbe7
6f51b786","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.093Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d21e469c-06bb-40e4-9ba
5-e233c17a9061","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
33ad8f89-51a8-455a-9f9
9-cbe76f51b786","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.107Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d21e469c-06bb-40e4-9ba
5-e233c17a9061","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"33ad8f
89-51a8-455a-9f99-cbe7
6f51b786","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.118Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bd6124df-62d0-4916-ae8
b-956b3b5be482","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.125Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
49a22690-bb07-47e6-ae0
4-cf92cc0e9a55","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.130Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
16f14d67-3bbf-47d3-9a2
e-14e8d61019e7","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.138Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c938745a-7f62-4372-b5
45-f7bcf1eedae6","mess
age":"OrdersController
.findAll() called","co
ntext":"OrdersControll
er","userId":"2b60ce0b
-21f9-453d-9b34-3ca55d
e9c65f","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.141Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c938745a-7f62-4372-b5
45-f7bcf1eedae6","mess
age":"OrdersController
.findAll() completed",
"context":"OrdersContr
oller","userId":"2b60c
e0b-21f9-453d-9b34-3ca
55de9c65f","duration":
3,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ should 
prepare a closed 
auction with a winner

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:5
0:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
prevent non-winner 
from creating order

    expected 403 
"Forbidden", got 404 
"Not Found"

    [0m [90m 75 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${loser.token}`[39m)
     [90m 76 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 77 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
allow winner to 
create order'[39m[33
m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:7
7:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
allow winner to 
create order

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 83 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 84 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 85 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 86 |[39m
     [90m 87 |[39m  
     expect(res[33m.
[39mbody[33m.[39msta
tus)[33m.[39mtoBe([
32m'PENDING_PAYMENT'[
39m)[33m;[39m
     [90m 88 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:8
5:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
return existing order 
if called again 
(idempotency)

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 95 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m [90m// Or 200, 
depending on 
implementation 
choice. Service 
returns order.[39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:9
6:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Get Orders 
ÔÇ║ should list user 
orders

    expect(received).t
oBeGreaterThanOrEqual(
expected)

    Expected: >= 1
    Received:    0

    [0m [90m 107 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 108 |[39m
    [31m[1m>[22m[3
9m[90m 109 |[39m    
   expect(res[33m.[3
9mbody[33m.[39mlengt
h)[33m.[39mtoBeGreat
erThanOrEqual([35m1[
39m)[33m;[39m
     [90m     |[39m 
                      
        
[31m[1m^[22m[39m
     [90m 110 |[39m 
      expect(res[33m.
[39mbody[[35m0[39m]
[33m.[39mauction)[3
3m.[39mtoBeDefined()
[33m;[39m
     [90m 111 |[39m 
    })[33m;[39m
     [90m 112 |[39m 
  })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:1
09:31)

PASS test/e2e/auth.e2e
-spec.ts (14.63 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.768Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.792Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.879Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.891Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97064b54-9c49-4926-aed
1-eb707b49eba0","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.907Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.911Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.173Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.178Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97064b54-9c49-4926-aed
1-eb707b49eba0","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"c5382276-54b0-45f2-
9126-f81d86f70e88"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.178Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"c5382276-54b0-45f2-91
26-f81d86f70e88"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.217Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.218Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97064b54-9c49-4926-ae
d1-eb707b49eba0","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":339,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.260Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.262Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f8ebed9e-5e2b-47de-9d7
c-d6bf653512b3","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.264Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.267Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.488Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.493Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f8ebed9e-5e2b-47de-9d7
c-d6bf653512b3","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"55b10bdb-0b21-4707-
aa82-299e5293cb68"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.494Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"55b10bdb-0b21-4707-aa
82-299e5293cb68"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.503Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.503Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f8ebed9e-5e2b-47de-9d
7c-d6bf653512b3","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":243,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.509Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"92000b15-3abb-4354-98
02-7627d966bd06","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.510Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92000b15-3abb-4354-980
2-7627d966bd06","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.511Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"92000b15-3abb-4354-98
02-7627d966bd06","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
true,"existingId":"55b
10bdb-0b21-4707-aa82-2
99e5293cb68"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.511Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92000b15-3abb-4354-980
2-7627d966bd06","messa
ge":"Registration 
failed: email already 
exists","context":"Aut
hService","http":{"met
hod":"POST","path":"/"
},"data":{"email":"tes
t@test-e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:101:16)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.521Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92000b15-3abb-4354-980
2-7627d966bd06","messa
ge":"Email already reg
istered","context":"Ex
ceptionFilter","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":409,"isBusinessE
rror":true},"error":{"
code":"EMAIL_ALREADY_E
XISTS","message":"Emai
l already registered",
"stack":"EmailAlreadyE
xistsException: Email 
already registered\n  
  at 
AuthService.register (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\auth\\auth.s
ervice.ts:103:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.539Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3bd1a5c5-37bc-457f-ab
d9-119e6db65dc4","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.541Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3bd1a5c5-37bc-457f-abd
9-119e6db65dc4","messa
ge":"[\"Invalid email 
format\"]","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":400,"isBusines
sError":true},"error":
{"code":"VALIDATION_ER
ROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.547Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"bdc61ae1-2e26-4e71-b6
4e-510bb15d2e55","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:46.549Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
bdc61ae1-2e26-4e71-b64
e-510bb15d2e55","messa
ge":"[\"Password must 
include uppercase, 
lowercase and 
number\",\"Password 
must be at least 8 cha
racters\"]","context":
"ExceptionFilter","htt
p":{"method":"POST","p
ath":"/"},"data":{"htt
pStatus":400,"isBusine
ssError":true},"error"
:{"code":"VALIDATION_E
RROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.556Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.558Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d8778d25-34aa-4d1f-9e2
0-5e62ba3e1d67","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.559Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.560Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.767Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.771Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d8778d25-34aa-4d1f-9e2
0-5e62ba3e1d67","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"5bdaccd5-bb6c-4504-
88cb-d29ef45743c3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.771Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"5bdaccd5-bb6c-4504-88
cb-d29ef45743c3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.781Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.781Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d8778d25-34aa-4d1f-9e
20-5e62ba3e1d67","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":225,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.788Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"331d02a4-0d91-4724-9a
8b-3300f036690e","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.789Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
331d02a4-0d91-4724-9a8
b-3300f036690e","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.008Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
331d02a4-0d91-4724-9a8
b-3300f036690e","messa
ge":"Email 
verification required"
,"context":"ExceptionF
ilter","http":{"method
":"POST","path":"/"},"
data":{"httpStatus":40
3,"isBusinessError":tr
ue,"entityType":"User"
,"entityId":"5bdaccd5-
bb6c-4504-88cb-d29ef45
743c3"},"error":{"code
":"USER_NOT_VERIFIED",
"message":"Email 
verification required"
,"stack":"UserNotVerif
iedException: Email 
verification 
required\n    at AuthS
ervice.validateUserSta
te (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
src\\modules\\auth\\au
th.service.ts:733:15)\
n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:275:10)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.013Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f0dc6a3e-5a55-4aca-8f
e0-bc0ca2e7649a","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.014Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f0dc6a3e-5a55-4aca-8fe
0-bc0ca2e7649a","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.220Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f0dc6a3e-5a55-4aca-8fe
0-bc0ca2e7649a","messa
ge":"Login failed: 
invalid password","con
text":"AuthService","h
ttp":{"method":"POST",
"path":"/"},"data":{"u
serId":"5bdaccd5-bb6c-
4504-88cb-d29ef45743c3
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:243:16)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.224Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f0dc6a3e-5a55-4aca-8fe
0-bc0ca2e7649a","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:255:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.230Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"92faf0db-8190-432f-88
ff-36d8538a5f2a","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.231Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92faf0db-8190-432f-88f
f-36d8538a5f2a","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"nonexistent@t
est-e2e.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.232Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92faf0db-8190-432f-88f
f-36d8538a5f2a","messa
ge":"Login failed: 
user not found","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"ema
il":"nonexistent@test-
e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:234:16)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.233Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
92faf0db-8190-432f-88f
f-36d8538a5f2a","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:236:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

FAIL test/e2e/bids.e2e
-spec.ts (15.546 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:13:45.589Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.614Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.711Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:45.724Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2529cf75-c6af-415f-a58
b-c198f90322af","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-hnz69i@test.com
","username":"userhnz6
9i"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.742Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
hnz69i@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:45.747Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userhnz69i","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.013Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-hnz69i@test.com","use
rname":"userhnz69i"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.018Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2529cf75-c6af-415f-a58
b-c198f90322af","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"46f617e2-be2d-4f30-
af34-c56f37784a47"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.019Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
nz69i@test.com","userI
d":"46f617e2-be2d-4f30
-af34-c56f37784a47"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.069Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.070Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2529cf75-c6af-415f-a5
8b-c198f90322af","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":359,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.105Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6ffd276c-dbb7-4f26-93
d8-bab0c8cb32bb","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.107Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ffd276c-dbb7-4f26-93d
8-bab0c8cb32bb","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-hnz69i@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.325Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ffd276c-dbb7-4f26-93d
8-bab0c8cb32bb","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"46f617e2-be2d-4f30-a
f34-c56f37784a47","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"46f617e2-be2d-4f
30-af34-c56f37784a47"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.341Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6ffd276c-dbb7-4f26-93
d8-bab0c8cb32bb","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"46f617e2-be
2d-4f30-af34-c56f37784
a47","duration":236,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.348Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.349Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9e66587c-fa20-429c-bfb
a-5f610f05172a","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-c937q@test.com"
,"username":"userc937q
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.351Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
c937q@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.353Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userc937q","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.571Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-c937q@test.com","user
name":"userc937q"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.580Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9e66587c-fa20-429c-bfb
a-5f610f05172a","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"1cb667ab-a835-418f-
9546-c52b0a7c2bd2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.580Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-c
937q@test.com","userId
":"1cb667ab-a835-418f-
9546-c52b0a7c2bd2"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:46.588Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.588Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9e66587c-fa20-429c-bf
ba-5f610f05172a","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":240,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.610Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12493302-cbf2-439e-96
c8-479940ce2e51","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.611Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
12493302-cbf2-439e-96c
8-479940ce2e51","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-c937q@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.825Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
12493302-cbf2-439e-96c
8-479940ce2e51","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"1cb667ab-a835-418f-9
546-c52b0a7c2bd2","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"1cb667ab-a835-41
8f-9546-c52b0a7c2bd2"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.836Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12493302-cbf2-439e-96
c8-479940ce2e51","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"1cb667ab-a8
35-418f-9546-c52b0a7c2
bd2","duration":226,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.842Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:46.843Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f2cd474a-11ce-4bd2-81e
4-f00400d720a1","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-h5qnro@test.com
","username":"userh5qn
ro"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.845Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
h5qnro@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:46.847Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userh5qnro","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.063Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-h5qnro@test.com","use
rname":"userh5qnro"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.067Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f2cd474a-11ce-4bd2-81e
4-f00400d720a1","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"376a13b6-59e4-457b-
88ca-5ef7b84d1b16"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.067Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-h
5qnro@test.com","userI
d":"376a13b6-59e4-457b
-88ca-5ef7b84d1b16"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:13:47.075Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.075Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f2cd474a-11ce-4bd2-81
e4-f00400d720a1","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":233,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.085Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3d8f49af-983b-4464-be
b7-a4aaf23be587","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.086Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3d8f49af-983b-4464-beb
7-a4aaf23be587","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-h5qnro@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.286Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3d8f49af-983b-4464-beb
7-a4aaf23be587","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"376a13b6-59e4-457b-8
8ca-5ef7b84d1b16","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"376a13b6-59e4-45
7b-88ca-5ef7b84d1b16"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.293Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3d8f49af-983b-4464-be
b7-a4aaf23be587","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"376a13b6-59
e4-457b-88ca-5ef7b84d1
b16","duration":208,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.310Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
058d97dd-f21f-4715-9e0
a-07289112ffc4","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"46f617
e2-be2d-4f30-af34-c56f
37784a47","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.314Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
058d97dd-f21f-4715-9e0
a-07289112ffc4","messa
ge":"[\"Date must be 
in the future\"]","con
text":"ExceptionFilter
","userId":"46f617e2-b
e2d-4f30-af34-c56f3778
4a47","http":{"method"
:"POST","path":"/"},"d
ata":{"httpStatus":400
,"isBusinessError":tru
e},"error":{"code":"VA
LIDATION_ERROR","messa
ge":"Bad Request Excep
tion","stack":"BadRequ
estException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.328Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
058d97dd-f21f-4715-9e0
a-07289112ffc4","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"46f617
e2-be2d-4f30-af34-c56f
37784a47","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:13:47.337Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97965e96-b5ef-4fe4-984
0-568b45652819","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"1cb667ab-a83
5-418f-9546-c52b0a7c2b
d2","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.545Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97965e96-b5ef-4fe4-984
0-568b45652819","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"1cb667
ab-a835-418f-9546-c52b
0a7c2bd2","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:160)\n    
at zp (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:951)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:826)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.547Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97965e96-b5ef-4fe4-984
0-568b45652819","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"1
cb667ab-a835-418f-9546
-c52b0a7c2bd2","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:47.552Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c103df8f-98e3-4ce7-80
fe-b14736f5284f","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.553Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c103df8f-98e3-4ce7-80f
e-b14736f5284f","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:47.562Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e7bbd23-df44-4b91-bba
1-5914a2aa1efb","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"376a13b6-59e
4-457b-88ca-5ef7b84d1b
16","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.726Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e7bbd23-df44-4b91-bba
1-5914a2aa1efb","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"376a13
b6-59e4-457b-88ca-5ef7
b84d1b16","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:160)\n    
at zp (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:951)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:826)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.727Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e7bbd23-df44-4b91-bba
1-5914a2aa1efb","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"3
76a13b6-59e4-457b-88ca
-5ef7b84d1b16","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:47.739Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e61f45a-d1bf-4e4d-9e8
1-2ababde52f61","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"46f617e2-be2
d-4f30-af34-c56f37784a
47","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.940Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e61f45a-d1bf-4e4d-9e8
1-2ababde52f61","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"46f617
e2-be2d-4f30-af34-c56f
37784a47","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:13:47.941Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e61f45a-d1bf-4e4d-9e8
1-2ababde52f61","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"4
6f617e2-be2d-4f30-af34
-c56f37784a47","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:13:47.949Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c3f1229f-bf52-4222-a90
2-7ea14b008e20","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"376a13b6-59e
4-457b-88ca-5ef7b84d1b
16","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:48.117Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c3f1229f-bf52-4222-a90
2-7ea14b008e20","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"376a13
b6-59e4-457b-88ca-5ef7
b84d1b16","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:13:48.118Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c3f1229f-bf52-4222-a90
2-7ea14b008e20","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"3
76a13b6-59e4-457b-88ca
-5ef7b84d1b16","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:13:48.122Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"57aec882-9adb-4e60-a7
a6-302da89d03e6","mess
age":"BidsController.g
etBids() called","cont
ext":"BidsController",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:13:48.123Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
57aec882-9adb-4e60-a7a
6-302da89d03e6","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

  ÔùÅ Bids Module 
(e2e) ÔÇ║ should 
prepare an active 
auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:50:
8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
valid bid

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 73 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder1
.token}`[39m)
     [90m 74 |[39m  
       
[33m.[39msend({ 
amount[33m:[39m 
bidAmount })
    [31m[1m>[22m[3
9m[90m 75 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 76 |[39m
     [90m 77 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mamount))
[33m.[39mtoBe(bidAmo
unt)[33m;[39m
     [90m 78 |[39m  
     expect(res[33m.
[39mbody[33m.[39mbid
derId)[33m.[39mtoBe(
bidder1[33m.[39mid)
[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:75:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should update 
auction current price

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 82 
|[39m       
[36mconst[39m res 
[33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 83 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 84 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 85 |[39m
     [90m 86 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mcurrentP
rice))[33m.[39mtoBe(
[35m105[39m)[33m;[
39m
     [90m 87 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:84:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
higher bid from 
another user

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 110 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder2
.token}`[39m)
     [90m 111 |[39m 
        
[33m.[39msend({ 
amount[33m:[39m 
[35m110[39m })
    [31m[1m>[22m[3
9m[90m 112 |[39m    
     [33m.[39mexpect
([35m201[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 113 |[39m 
    })[33m;[39m
     [90m 114 |[39m 
  })[33m;[39m
     [90m 115 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:112
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Get Bids 
ÔÇ║ should list bids 
history

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 119 
|[39m         [33m.
[39m[36mget[39m([32
m`/api/v1/auctions/${a
uctionId}/bids`[39m)
     [90m 120 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer ${bid
der1.token}`[39m)
    [31m[1m>[22m[3
9m[90m 121 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 122 |[39m
     [90m 123 |[39m 
      expect([33mArra
y[39m[33m.[39misArr
ay(res[33m.[39mbody)
)[33m.[39mtoBe([36m
true[39m)[33m;[39m
     [90m 124 |[39m 
      expect(res[33m.
[39mbody[33m.[39mle
ngth)[33m.[39mtoBe(
[35m2[39m)[33m;[39m
[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:121
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

Test Suites: 10 
failed, 5 passed, 15 
total
Tests:       37 
failed, 40 passed, 77 
total
Snapshots:   0 total
Time:        16.637 
s, estimated 23 s
Ran all test suites.
