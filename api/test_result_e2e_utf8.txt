
> iron-loot-api@0.2.3 test:e2e
> jest --config ./test/jest-e2e.json

node.exe : FAIL test/e
2e/orders-flow.e2e-spe
c.ts (13.476 s)
En línea: 1 Carácter: 
1
+ & "C:\Program Files\
nodejs/node.exe" 
"C:\Program 
Files\nodejs/node_mo 
...
+ ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo    
          : NotSpeci  
  fied: (FAIL test/   
 e2e/o...c.ts (13.    
476 s):String) []    
, RemoteException
    + FullyQualifiedE 
   rrorId : NativeCo  
  mmandError
 
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.835Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.861Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

  ÔùÅ Orders Flow 
(E2E) ÔÇ║ should 
execute the full 
financial flow on 
auction close

    Nest could not 
find AuctionSchedulerS
ervice element (this 
provider does not 
exist in the current 
context)

    [0m [90m 33 
|[39m   
it([32m'should 
execute the full 
financial flow on 
auction close'[39m[3
3m,[39m 
[36masync[39m () 
[33m=>[39m {
     [90m 34 |[39m  
   [90m// const 
walletService = app.ge
t('WalletService'); 
// Unused[39m
    [31m[1m>[22m[3
9m[90m 35 |[39m     
[36mconst[39m 
scheduler [33m=[39m 
app[33m.[39m[36mget
[39m([32m'AuctionSch
edulerService'[39m)[
33m;[39m
     [90m    |[39m  
                      
   
[31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m  
   [90m// 1. Create 
Seller & Buyer[39m
     [90m 38 |[39m  
   [36mconst[39m 
buyer [33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({[0m

      at 
InstanceLinksHost.get 
(../node_modules/@nest
js/core/injector/insta
nce-links-host.js:15:1
9)
      at Proxy.find (.
./node_modules/@nestjs
/core/injector/abstrac
t-instance-resolver.js
:8:60)
      at Proxy.get (..
/node_modules/@nestjs/
core/nest-application-
context.js:70:20)
      at 
Object.<anonymous> (e2
e/orders-flow.e2e-spec
.ts:35:27)

PASS test/e2e/profile-
persistence.e2e-spec.t
s (14.041 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.679Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.703Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.806Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.820Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33bad6eb-4b2d-4cf6-935
b-d824aa882cec","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test_persist_1768245
080793@example.com","u
sername":"user_1768245
080793"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.847Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test_
persist_1768245080793@
example.com","found":f
alse}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.851Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user_176824508
0793","found":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.114Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
_persist_1768245080793
@example.com","usernam
e":"user_1768245080793
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.119Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33bad6eb-4b2d-4cf6-935
b-d824aa882cec","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"a1833221-40e2-452d-
99f6-e6b28102eb5a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.119Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test_p
ersist_1768245080793@e
xample.com","userId":"
a1833221-40e2-452d-99f
6-e6b28102eb5a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.162Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.163Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33bad6eb-4b2d-4cf6-93
5b-d824aa882cec","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":357,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.195Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"58b56295-83ca-4e1b-ae
e5-8676d7eca280","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.197Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58b56295-83ca-4e1b-aee
5-8676d7eca280","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test_persist_
1768245080793@example.
com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.424Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
58b56295-83ca-4e1b-aee
5-8676d7eca280","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"a1833221-40e2-452d-9
9f6-e6b28102eb5a","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"a1833221-40e2-45
2d-99f6-e6b28102eb5a"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.442Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"58b56295-83ca-4e1b-ae
e5-8676d7eca280","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"a1833221-40
e2-452d-99f6-e6b28102e
b5a","duration":247,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.458Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e91fc1c1-a5e0-4807-ab3
b-68090804b654","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"a1833
221-40e2-452d-99f6-e6b
28102eb5a","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.460Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e91fc1c1-a5e0-4807-ab
3b-68090804b654","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"a183322
1-40e2-452d-99f6-e6b28
102eb5a","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"a1
833221-40e2-452d-99f6-
e6b28102eb5a","dto":{"
displayName":"Persiste
d Name"}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.476Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e91fc1c1-a5e0-4807-ab3
b-68090804b654","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"a1833221-40e2-452d
-99f6-e6b28102eb5a","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"a1833221-40e2
-452d-99f6-e6b28102eb5
a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.479Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e91fc1c1-a5e0-4807-ab3
b-68090804b654","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"a1
833221-40e2-452d-99f6-
e6b28102eb5a","duratio
n":21,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create({
                 
data: {
                   
eventType: "USER_PROFI
LE_UPDATED",
                   
traceId: "e91fc1c1-a5e
0-4807-ab3b-68090804b6
54",
                   
env: "test",
                   
service: 
"ironloot-api",
                   
actorType: "user",
                   
actorUserId: "a1833221
-40e2-452d-99f6-e6b281
02eb5a",
                   
entityType: "User",
                   
result: "SUCCESS",
                   
reasonCode: undefined,
                   
payload: {},
                   
payloadVersion: 1,
               +   
entityId: String
                 }
               })
      
      Argument 
`entityId` is missing.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.508Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e91fc1c1-a5e0-4807-ab3
b-68090804b654","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"a18332
21-40e2-452d-99f6-e6b2
8102eb5a","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"USER_PROFILE_UPDATED
","entityType":"User"}
,"error":{"message":"\
nInvalid `this.prisma.
auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"USE
R_PROFILE_UPDATED\",\n
             traceId: 
\"e91fc1c1-a5e0-4807-a
b3b-68090804b654\",\n 
            env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"a1833
221-40e2-452d-99f6-e6b
28102eb5a\",\n        
     entityType: 
\"User\",\n           
  result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is missing.
","stack":"PrismaClien
tValidationError: 
\nInvalid `this.prisma
.auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"USE
R_PROFILE_UPDATED\",\n
             traceId: 
\"e91fc1c1-a5e0-4807-a
b3b-68090804b654\",\n 
            env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"a1833
221-40e2-452d-99f6-e6b
28102eb5a\",\n        
     entityType: 
\"User\",\n           
  result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is 
missing.\n    at wn (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:1363)\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:6958)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.521Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"68d33bdb-ee6d-46e9-88
a8-e84e7526fc52","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"a183
3221-40e2-452d-99f6-e6
b28102eb5a","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.522Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"68d33bdb-ee6d-46e9-88
a8-e84e7526fc52","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"a18
33221-40e2-452d-99f6-e
6b28102eb5a","http":{"
method":"GET","path":"
/"},"data":{"userId":"
a1833221-40e2-452d-99f
6-e6b28102eb5a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.524Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"68d33bdb-ee6d-46e9-88
a8-e84e7526fc52","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"a
1833221-40e2-452d-99f6
-e6b28102eb5a","durati
on":3,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.533Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7f3fbb33-c971-479e-b8
30-6c0e6246732e","mess
age":"Refreshing token
","context":"AuthServi
ce","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.545Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7f3fbb33-c971-479e-b8
30-6c0e6246732e","mess
age":"Token refreshed 
successfully","context
":"AuthService","http"
:{"method":"POST","pat
h":"/"},"data":{"userI
d":"a1833221-40e2-452d
-99f6-e6b28102eb5a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.558Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8e313033-16c9-48b5-98
a8-1dc72a4f2ceb","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"a183
3221-40e2-452d-99f6-e6
b28102eb5a","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.559Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8e313033-16c9-48b5-98
a8-1dc72a4f2ceb","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"a18
33221-40e2-452d-99f6-e
6b28102eb5a","http":{"
method":"GET","path":"
/"},"data":{"userId":"
a1833221-40e2-452d-99f
6-e6b28102eb5a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.561Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8e313033-16c9-48b5-98
a8-1dc72a4f2ceb","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"a
1833221-40e2-452d-99f6
-e6b28102eb5a","durati
on":3,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

PASS test/e2e/user-pro
file-sync.e2e-spec.ts 
(14.144 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:22.081Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.101Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.187Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.197Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c2f71a9e-a813-4962-a50
2-66f29f80854a","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"sync-test@example.co
m","username":"syncuse
r"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.206Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"sync-
test@example.com","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.207Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"syncuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.434Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"sync
-test@example.com","us
ername":"syncuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.444Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c2f71a9e-a813-4962-a50
2-66f29f80854a","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"90f9029f-0ed1-42eb-
af4f-778e33118493"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.445Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"sync-t
est@example.com","user
Id":"90f9029f-0ed1-42e
b-af4f-778e33118493"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.483Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.484Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c2f71a9e-a813-4962-a5
02-66f29f80854a","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":297,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.532Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"846b2e08-1cbc-44fd-85
1e-4706ba07dfbd","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"90f9
029f-0ed1-42eb-af4f-77
8e33118493","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.533Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"846b2e08-1cbc-44fd-85
1e-4706ba07dfbd","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"90f
9029f-0ed1-42eb-af4f-7
78e33118493","http":{"
method":"GET","path":"
/"},"data":{"userId":"
90f9029f-0ed1-42eb-af4
f-778e33118493"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.541Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"846b2e08-1cbc-44fd-85
1e-4706ba07dfbd","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"9
0f9029f-0ed1-42eb-af4f
-778e33118493","durati
on":9,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.607Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2bb02fbe-41ad-4f71-9c
37-52807b967a3a","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"90f9
029f-0ed1-42eb-af4f-77
8e33118493","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.609Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2bb02fbe-41ad-4f71-9c
37-52807b967a3a","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"90f
9029f-0ed1-42eb-af4f-7
78e33118493","http":{"
method":"GET","path":"
/"},"data":{"userId":"
90f9029f-0ed1-42eb-af4
f-778e33118493"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.612Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2bb02fbe-41ad-4f71-9c
37-52807b967a3a","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"9
0f9029f-0ed1-42eb-af4f
-778e33118493","durati
on":5,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.635Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9715ee34-a039-4f22-8fe
f-5525976fda34","messa
ge":"UsersController.u
pdateProfile() called"
,"context":"UsersContr
oller","userId":"90f90
29f-0ed1-42eb-af4f-778
e33118493","http":{"me
thod":"PATCH","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.637Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9715ee34-a039-4f22-8f
ef-5525976fda34","mess
age":"Updating profile
","context":"UsersServ
ice","userId":"90f9029
f-0ed1-42eb-af4f-778e3
3118493","http":{"meth
od":"PATCH","path":"/"
},"data":{"userId":"90
f9029f-0ed1-42eb-af4f-
778e33118493","dto":{"
profile":{"country":"U
S","legalName":"Legal 
Sync Entity"}}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.649Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9715ee34-a039-4f22-8fe
f-5525976fda34","messa
ge":"Profile updated s
uccessfully","context"
:"UsersService","userI
d":"90f9029f-0ed1-42eb
-af4f-778e33118493","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
userId":"90f9029f-0ed1
-42eb-af4f-778e3311849
3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.655Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9715ee34-a039-4f22-8fe
f-5525976fda34","messa
ge":"UsersController.u
pdateProfile() complet
ed","context":"UsersCo
ntroller","userId":"90
f9029f-0ed1-42eb-af4f-
778e33118493","duratio
n":19,"http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create({
                 
data: {
                   
eventType: "USER_PROFI
LE_UPDATED",
                   
traceId: "9715ee34-a03
9-4f22-8fef-5525976fda
34",
                   
env: "test",
                   
service: 
"ironloot-api",
                   
actorType: "user",
                   
actorUserId: "90f9029f
-0ed1-42eb-af4f-778e33
118493",
                   
entityType: "User",
                   
result: "SUCCESS",
                   
reasonCode: undefined,
                   
payload: {},
                   
payloadVersion: 1,
               +   
entityId: String
                 }
               })
      
      Argument 
`entityId` is missing.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.693Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9715ee34-a039-4f22-8fe
f-5525976fda34","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"90f902
9f-0ed1-42eb-af4f-778e
33118493","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"USER_PROFILE_UPDATED
","entityType":"User"}
,"error":{"message":"\
nInvalid `this.prisma.
auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"USE
R_PROFILE_UPDATED\",\n
             traceId: 
\"9715ee34-a039-4f22-8
fef-5525976fda34\",\n 
            env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"90f90
29f-0ed1-42eb-af4f-778
e33118493\",\n        
     entityType: 
\"User\",\n           
  result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is missing.
","stack":"PrismaClien
tValidationError: 
\nInvalid `this.prisma
.auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"USE
R_PROFILE_UPDATED\",\n
             traceId: 
\"9715ee34-a039-4f22-8
fef-5525976fda34\",\n 
            env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"90f90
29f-0ed1-42eb-af4f-778
e33118493\",\n        
     entityType: 
\"User\",\n           
  result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is 
missing.\n    at wn (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:1363)\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:6958)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.715Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e554f526-1c66-4c90-8c
bc-1b4438649e1f","mess
age":"UsersController.
getOwnProfile() called
","context":"UsersCont
roller","userId":"90f9
029f-0ed1-42eb-af4f-77
8e33118493","http":{"m
ethod":"GET","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.715Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e554f526-1c66-4c90-8c
bc-1b4438649e1f","mess
age":"Fetching own pro
file","context":"Users
Service","userId":"90f
9029f-0ed1-42eb-af4f-7
78e33118493","http":{"
method":"GET","path":"
/"},"data":{"userId":"
90f9029f-0ed1-42eb-af4
f-778e33118493"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.720Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e554f526-1c66-4c90-8c
bc-1b4438649e1f","mess
age":"UsersController.
getOwnProfile() comple
ted","context":"UsersC
ontroller","userId":"9
0f9029f-0ed1-42eb-af4f
-778e33118493","durati
on":5,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

PASS test/e2e/notifica
tions.e2e-spec.ts 
(14.295 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.866Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.891Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.997Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.009Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b022eb5f-f376-4812-a96
d-d1bb64644242","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-t8qa5@test.com"
,"username":"usert8qa5
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.026Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
t8qa5@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.029Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usert8qa5","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.264Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-t8qa5@test.com","user
name":"usert8qa5"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.270Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b022eb5f-f376-4812-a96
d-d1bb64644242","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"1dce497b-1c36-4e9b-
8c5e-df6d6cfa214e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.270Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-t
8qa5@test.com","userId
":"1dce497b-1c36-4e9b-
8c5e-df6d6cfa214e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.316Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.317Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b022eb5f-f376-4812-a9
6d-d1bb64644242","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":320,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.340Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6cfecf0f-402e-4bf8-9d
bc-76ff6d007056","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.343Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6cfecf0f-402e-4bf8-9db
c-76ff6d007056","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-t8qa5@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.577Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6cfecf0f-402e-4bf8-9db
c-76ff6d007056","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"1dce497b-1c36-4e9b-8
c5e-df6d6cfa214e","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"1dce497b-1c36-4e
9b-8c5e-df6d6cfa214e"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.592Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6cfecf0f-402e-4bf8-9d
bc-76ff6d007056","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"1dce497b-1c
36-4e9b-8c5e-df6d6cfa2
14e","duration":252,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.625Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e12dc7ea-5d87-4b0a-8a
ae-288f4616b85d","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"1dce497b-1c36-4e
9b-8c5e-df6d6cfa214e",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.631Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e12dc7ea-5d87-4b0a-8a
ae-288f4616b85d","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"1dce497b-1c36
-4e9b-8c5e-df6d6cfa214
e","duration":6,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.655Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"b88efd0f-18
32-4e30-954e-5d0909df8
76b","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.671Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482bdf39-8d31-4d4d-9c
ac-ac32756334ad","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"1dce497b-1c36-4e
9b-8c5e-df6d6cfa214e",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.679Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482bdf39-8d31-4d4d-9c
ac-ac32756334ad","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"1dce497b-1c36
-4e9b-8c5e-df6d6cfa214
e","duration":8,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.699Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a40f67d1-c639-4295-b6
fc-9ac97d2e8a9a","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"1dce497b-
1c36-4e9b-8c5e-df6d6cf
a214e","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.704Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a40f67d1-c639-4295-b6
fc-9ac97d2e8a9a","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"1dce49
7b-1c36-4e9b-8c5e-df6d
6cfa214e","duration":5
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.717Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"57fbd6b2-cbc0-454f-85
d4-7f9a8855a7dd","mess
age":"NotificationsCon
troller.findAll() call
ed","context":"Notific
ationsController","use
rId":"1dce497b-1c36-4e
9b-8c5e-df6d6cfa214e",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.720Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"57fbd6b2-cbc0-454f-85
d4-7f9a8855a7dd","mess
age":"NotificationsCon
troller.findAll() comp
leted","context":"Noti
ficationsController","
userId":"1dce497b-1c36
-4e9b-8c5e-df6d6cfa214
e","duration":3,"http"
:{"method":"GET","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.730Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0840b96f-8146-493d-bf
7c-20e6185648ae","mess
age":"NotificationsCon
troller.markAsRead() c
alled","context":"Noti
ficationsController","
userId":"1dce497b-1c36
-4e9b-8c5e-df6d6cfa214
e","http":{"method":"P
ATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.736Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0840b96f-8146-493d-bf
7c-20e6185648ae","mess
age":"NotificationsCon
troller.markAsRead() c
ompleted","context":"N
otificationsController
","userId":"1dce497b-1
c36-4e9b-8c5e-df6d6cfa
214e","duration":6,"ht
tp":{"method":"PATCH",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.745Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3a25f383-f7a4-4581-ad
a3-fbf6e3122f2d","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"1dce497b-
1c36-4e9b-8c5e-df6d6cf
a214e","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.747Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3a25f383-f7a4-4581-ad
a3-fbf6e3122f2d","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"1dce49
7b-1c36-4e9b-8c5e-df6d
6cfa214e","duration":2
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.755Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Notification created 
for User [TOKEN]","con
text":"NotificationsSe
rvice","data":{"notifi
cationId":"cf1e063f-d1
99-4611-aed6-1cd61bb5c
6e5","type":"SYSTEM"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.765Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1b9355fe-f023-46b3-a0
18-940b807a20a9","mess
age":"NotificationsCon
troller.markAllAsRead(
) called","context":"N
otificationsController
","userId":"1dce497b-1
c36-4e9b-8c5e-df6d6cfa
214e","http":{"method"
:"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.770Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1b9355fe-f023-46b3-a0
18-940b807a20a9","mess
age":"NotificationsCon
troller.markAllAsRead(
) completed","context"
:"NotificationsControl
ler","userId":"1dce497
b-1c36-4e9b-8c5e-df6d6
cfa214e","duration":5,
"http":{"method":"PATC
H","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.781Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"000cbb99-2eb1-4914-b2
b9-f9d6237b348a","mess
age":"NotificationsCon
troller.getUnreadCount
() called","context":"
NotificationsControlle
r","userId":"1dce497b-
1c36-4e9b-8c5e-df6d6cf
a214e","http":{"method
":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.784Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"000cbb99-2eb1-4914-b2
b9-f9d6237b348a","mess
age":"NotificationsCon
troller.getUnreadCount
() completed","context
":"NotificationsContro
ller","userId":"1dce49
7b-1c36-4e9b-8c5e-df6d
6cfa214e","duration":3
,"http":{"method":"GET
","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
notifications_user_id_
fkey (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\no
tifications.e2e-spec.t
s:24:17) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: {
          modelName: 
'User',
          field_name: 
'notifications_user_id
_fkey (index)'
        }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/notifications.e2e-sp
ec.ts:24:17)

FAIL test/e2e/wallet.e
2e-spec.ts (14.32 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.938Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.969Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.log
      Creating test 
user with email: walle
t-test-1768245082015@e
xample.com

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:2
9:15)

    console.log
      Test user 
created: e14232f1-96d4
-4b50-a66e-6d03052afad
5

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:4
0:15)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.083Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3b4d67f9-9196-4176-bc
0f-6c18258f36b5","mess
age":"Get wallet balan
ce","context":"WalletC
ontroller","userId":"e
14232f1-96d4-4b50-a66e
-6d03052afad5","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.102Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3b4d67f9-9196-4176-bc
0f-6c18258f36b5","mess
age":"WalletController
.getBalance() complete
d","context":"WalletCo
ntroller","userId":"e1
4232f1-96d4-4b50-a66e-
6d03052afad5","duratio
n":19,"http":{"method"
:"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.142Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8711a111-3324-4fbc-852
f-f5783406c93b","messa
ge":"WalletController.
deposit() called","con
text":"WalletControlle
r","userId":"e14232f1-
96d4-4b50-a66e-6d03052
afad5","http":{"method
":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.661Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8711a111-3324-4fbc-852
f-f5783406c93b","messa
ge":"Deposit 
successful for user [T
OKEN]","context":"Wall
etService","userId":"e
14232f1-96d4-4b50-a66e
-6d03052afad5","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"e14232f1-96
d4-4b50-a66e-6d03052af
ad5","amount":100,"ref
erenceId":"PAY-100","n
ewBalance":100}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.671Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8711a111-3324-4fbc-852
f-f5783406c93b","messa
ge":"WalletController.
deposit() completed","
context":"WalletContro
ller","userId":"e14232
f1-96d4-4b50-a66e-6d03
052afad5","duration":5
30,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.714Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8711a111-3324-4fbc-852
f-f5783406c93b","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"e14232
f1-96d4-4b50-a66e-6d03
052afad5","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"PAYMENT_CONFIRMED","e
ntityType":"Payment"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.726Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b09a0091-b80b-4946-9ef
0-4aeb016db790","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"e14232f1
-96d4-4b50-a66e-6d0305
2afad5","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.737Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b09a0091-b80b-4946-9ef
0-4aeb016db790","messa
ge":"Withdrawal 
successful for user [T
OKEN]","context":"Wall
etService","userId":"e
14232f1-96d4-4b50-a66e
-6d03052afad5","http":
{"method":"POST","path
":"/"},"data":{"data":
{"userId":"e14232f1-96
d4-4b50-a66e-6d03052af
ad5","amount":40,"refe
renceId":"e2e-with-1",
"newBalance":60}}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.741Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b09a0091-b80b-4946-9ef
0-4aeb016db790","messa
ge":"WalletController.
withdraw() completed",
"context":"WalletContr
oller","userId":"e1423
2f1-96d4-4b50-a66e-6d0
3052afad5","duration":
15,"http":{"method":"P
OST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.757Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f33d2c06-d789-4e19-8c5
b-65be6deacae5","messa
ge":"WalletController.
withdraw() called","co
ntext":"WalletControll
er","userId":"e14232f1
-96d4-4b50-a66e-6d0305
2afad5","http":{"metho
d":"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.768Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f33d2c06-d789-4e19-8c5
b-65be6deacae5","messa
ge":"Insufficient 
balance for transactio
n","context":"Exceptio
nFilter","userId":"e14
232f1-96d4-4b50-a66e-6
d03052afad5","http":{"
method":"POST","path":
"/"},"data":{"httpStat
us":400,"isBusinessErr
or":true,"entityType":
"User","entityId":"e14
232f1-96d4-4b50-a66e-6
d03052afad5"},"error":
{"code":"INSUFFICIENT_
BALANCE","message":"In
sufficient balance 
for transaction","stac
k":"InsufficientBalanc
eException: 
Insufficient balance 
for transaction\n    
at C:\\DevOps\\Desarro
llos\\IronLoot\\api\\s
rc\\modules\\wallet\\w
allet.service.ts:128:1
5\n    at Proxy._trans
actionWithCallback (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:8000)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.783Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d2f75e64-879e-4fb6-ab
36-de3ab8f0eeea","mess
age":"Get wallet histo
ry","context":"WalletC
ontroller","userId":"e
14232f1-96d4-4b50-a66e
-6d03052afad5","http":
{"method":"GET","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.788Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d2f75e64-879e-4fb6-ab
36-de3ab8f0eeea","mess
age":"WalletController
.getHistory() complete
d","context":"WalletCo
ntroller","userId":"e1
4232f1-96d4-4b50-a66e-
6d03052afad5","duratio
n":5,"http":{"method":
"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Wallet (e2e) 
ÔÇ║ /wallet/history 
(GET) - Transaction 
History

    expect(received).t
oBeInstanceOf(expected
)

    Expected 
constructor: Array

    Received value 
has no prototype
    Received value: 
undefined

    [0m [90m 112 
|[39m       [33m.[3
9mexpect([35m200[39m
)[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[3
9m[90m 114 |[39m    
 expect(res[33m.[39m
body[33m.[39mhistory
)[33m.[39mtoBeInstan
ceOf([33mArray[39m)
[33m;[39m
     [90m     |[39m 
                      
       
[31m[1m^[22m[39m
     [90m 115 |[39m 
    expect(res[33m.[
39mbody[33m.[39mhist
ory[33m.[39mlength)
[33m.[39mtoBeGreaterT
hanOrEqual([35m2[39m
)[33m;[39m [90m// 
Deposit + 
Withdraw[39m
     [90m 116 |[39m 
  })[33m;[39m
     [90m 117 |[39m 
})[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/wallet.e2e-spec.ts:1
14:30)

FAIL test/e2e/settings
.e2e-spec.ts (14.332 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.968Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.993Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.074Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.088Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e39088e9-7e82-429c-acd
f-0ee922c11966","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-oehln@test.com"
,"username":"useroehln
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.103Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
oehln@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.105Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"useroehln","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.330Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-oehln@test.com","user
name":"useroehln"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.338Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e39088e9-7e82-429c-acd
f-0ee922c11966","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"8091081a-2dae-488f-
b07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.338Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-o
ehln@test.com","userId
":"8091081a-2dae-488f-
b07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.381Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.382Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e39088e9-7e82-429c-ac
df-0ee922c11966","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":308,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.407Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea283698-ea19-4505-a1
33-a305a37673e0","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.409Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ea283698-ea19-4505-a13
3-a305a37673e0","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-oehln@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.646Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ea283698-ea19-4505-a13
3-a305a37673e0","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"8091081a-2dae-488f-b
07d-3ec19618fb3b","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"8091081a-2dae-48
8f-b07d-3ec19618fb3b"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.656Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea283698-ea19-4505-a1
33-a305a37673e0","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"8091081a-2d
ae-488f-b07d-3ec19618f
b3b","duration":249,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.685Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"039f7ef5-0ef5-45e6-aa
4e-43d943e2b37f","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"809108
1a-2dae-488f-b07d-3ec1
9618fb3b","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.690Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"039f7ef5-0ef5-45e6-aa
4e-43d943e2b37f","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"809
1081a-2dae-488f-b07d-3
ec19618fb3b","duration
":5,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.707Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
981cb64b-6b06-467e-aa5
b-2b84eba57cdf","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:22.722Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f34f93b-3a4f-42b6-87a
4-519c5ef0b8b0","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"8091
081a-2dae-488f-b07d-3e
c19618fb3b","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.724Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2f34f93b-3a4f-42b6-87
a4-519c5ef0b8b0","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"8
091081a-2dae-488f-b07d
-3ec19618fb3b","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"8091081a-2dae-488f
-b07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.732Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f34f93b-3a4f-42b6-87a
4-519c5ef0b8b0","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"809
1081a-2dae-488f-b07d-3
ec19618fb3b","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"8091081a-2dae-488f-b
07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.735Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f34f93b-3a4f-42b6-87a
4-519c5ef0b8b0","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"8
091081a-2dae-488f-b07d
-3ec19618fb3b","durati
on":13,"http":{"method
":"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.748Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e9cb397-9681-498b-9e6
c-f352bd89c8ea","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"8091
081a-2dae-488f-b07d-3e
c19618fb3b","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.750Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"2e9cb397-9681-498b-9e
6c-f352bd89c8ea","mess
age":"Updating user se
ttings","context":"Use
rsService","userId":"8
091081a-2dae-488f-b07d
-3ec19618fb3b","http":
{"method":"PATCH","pat
h":"/"},"data":{"userI
d":"8091081a-2dae-488f
-b07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.756Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e9cb397-9681-498b-9e6
c-f352bd89c8ea","messa
ge":"User settings upd
ated","context":"Users
Service","userId":"809
1081a-2dae-488f-b07d-3
ec19618fb3b","http":{"
method":"PATCH","path"
:"/"},"data":{"userId"
:"8091081a-2dae-488f-b
07d-3ec19618fb3b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.759Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2e9cb397-9681-498b-9e6
c-f352bd89c8ea","messa
ge":"UsersController.u
pdateSettings() comple
ted","context":"UsersC
ontroller","userId":"8
091081a-2dae-488f-b07d
-3ec19618fb3b","durati
on":11,"http":{"method
":"PATCH","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.776Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
930e25e7-5e5c-466f-9cb
3-31060f3d408e","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"8091
081a-2dae-488f-b07d-3e
c19618fb3b","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.780Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
930e25e7-5e5c-466f-9cb
3-31060f3d408e","messa
ge":"[\"property 
invalidKey should not 
exist\"]","context":"E
xceptionFilter","userI
d":"8091081a-2dae-488f
-b07d-3ec19618fb3b","h
ttp":{"method":"PATCH"
,"path":"/"},"data":{"
httpStatus":400,"isBus
inessError":true},"err
or":{"code":"VALIDATIO
N_ERROR","message":"Ba
d Request Exception","
stack":"BadRequestExce
ption: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:22.791Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0c71771c-beb6-44b2-bb5
b-1b855c84fbef","messa
ge":"UsersController.u
pdateSettings() called
","context":"UsersCont
roller","userId":"8091
081a-2dae-488f-b07d-3e
c19618fb3b","http":{"m
ethod":"PATCH","path":
"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.793Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0c71771c-beb6-44b2-bb5
b-1b855c84fbef","messa
ge":"[\"notifications.
email must be a 
boolean value\"]","con
text":"ExceptionFilter
","userId":"8091081a-2
dae-488f-b07d-3ec19618
fb3b","http":{"method"
:"PATCH","path":"/"},"
data":{"httpStatus":40
0,"isBusinessError":tr
ue},"error":{"code":"V
ALIDATION_ERROR","mess
age":"Bad Request Exce
ption","stack":"BadReq
uestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.807Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7254c0a3-6682-476f-a5
47-3f9424bafe3c","mess
age":"UsersController.
getSettings() called",
"context":"UsersContro
ller","userId":"809108
1a-2dae-488f-b07d-3ec1
9618fb3b","http":{"met
hod":"GET","path":"/"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.809Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7254c0a3-6682-476f-a5
47-3f9424bafe3c","mess
age":"UsersController.
getSettings() complete
d","context":"UsersCon
troller","userId":"809
1081a-2dae-488f-b07d-3
ec19618fb3b","duration
":2,"http":{"method":"
GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update top-level 
settings

    TypeError: Cannot 
read properties of 
undefined (reading 
'email')

    [0m [90m 52 
|[39m       expect(re
sponse[33m.[39mbody
[33m.[39mlanguage)[3
3m.[39mtoBe([32m'en'
[39m)[33m;[39m
     [90m 53 |[39m  
     [90m// Should 
preserve other 
settings[39m
    [31m[1m>[22m[3
9m[90m 54 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
memail)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m
     [90m    |[39m  
                      
                  
[31m[1m^[22m[39m
     [90m 55 |[39m  
   })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m  
   it([32m'should 
update nested 
settings (deep merge)'
[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:54:42)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
update nested 
settings (deep merge)

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: 
undefined

    [0m [90m 64 
|[39m
     [90m 65 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
    [31m[1m>[22m[3
9m[90m 66 |[39m     
  expect(response[33m
.[39mbody[33m.[39mn
otifications[33m.[39
minApp)[33m.[39mtoBe
([36mtrue[39m)[33m;
[39m [90m// Should 
preserve sibling[39m
     [90m    |[39m  
                      
                      
   
[31m[1m^[22m[39m
     [90m 67 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mlanguage)[33m.[39m
toBe([32m'en'[39m)[
33m;[39m [90m// 
Should preserve 
parent sibling[39m
     [90m 68 |[39m  
   })[33m;[39m
     [90m 69 
|[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:66:49)

  ÔùÅ User Settings 
Module (e2e) ÔÇ║ /api/
v1/users/me/settings 
(PATCH) ÔÇ║ should 
persist changes

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: "en"
    Received: 
undefined

    [0m [90m 92 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[3
9m[90m 94 |[39m     
  expect(response[33m
.[39mbody[33m.[39ml
anguage)[33m.[39mtoB
e([32m'en'[39m)[33m
;[39m
     [90m    |[39m  
                      
              
[31m[1m^[22m[39m
     [90m 95 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mnotifications[33m.
[39memail)[33m.[39mt
oBe([36mfalse[39m)[
33m;[39m
     [90m 96 |[39m  
   })[33m;[39m
     [90m 97 |[39m  
 })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/settings.e2e-spec.ts
:94:38)

FAIL test/e2e/disputes
.e2e-spec.ts (14.711 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.890Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.911Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.014Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.033Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
19277fd3-d57f-4c2e-9f5
b-3d207e8bb939","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-rymkoa@test.com
","username":"userrymk
oa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.049Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
rymkoa@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.052Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userrymkoa","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.290Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-rymkoa@test.com","use
rname":"userrymkoa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.294Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
19277fd3-d57f-4c2e-9f5
b-3d207e8bb939","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"eee3c6d6-fe29-4549-
8c9b-d730da29c5be"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.295Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-r
ymkoa@test.com","userI
d":"eee3c6d6-fe29-4549
-8c9b-d730da29c5be"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.332Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.334Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"19277fd3-d57f-4c2e-9f
5b-3d207e8bb939","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":321,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.367Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"373d1d43-d1fc-457c-98
c3-7f23f0d89750","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.370Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
373d1d43-d1fc-457c-98c
3-7f23f0d89750","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-rymkoa@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.614Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
373d1d43-d1fc-457c-98c
3-7f23f0d89750","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"eee3c6d6-fe29-4549-8
c9b-d730da29c5be","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"eee3c6d6-fe29-45
49-8c9b-d730da29c5be"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.631Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"373d1d43-d1fc-457c-98
c3-7f23f0d89750","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"eee3c6d6-fe
29-4549-8c9b-d730da29c
5be","duration":264,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.640Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.642Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7d21511c-7351-4c42-9e0
5-4bcc9d495ee3","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-xu9pse@test.com
","username":"userxu9p
se"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.644Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
xu9pse@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.645Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userxu9pse","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.882Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-xu9pse@test.com","use
rname":"userxu9pse"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.885Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7d21511c-7351-4c42-9e0
5-4bcc9d495ee3","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"91ef994d-c364-44bf-
b3d1-8331803f2209"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.885Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-x
u9pse@test.com","userI
d":"91ef994d-c364-44bf
-b3d1-8331803f2209"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.893Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.894Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"7d21511c-7351-4c42-9e
05-4bcc9d495ee3","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":254,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.914Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"81ba540e-fc40-4ff5-86
50-bfed8c99c830","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.916Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
81ba540e-fc40-4ff5-865
0-bfed8c99c830","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-xu9pse@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.127Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
81ba540e-fc40-4ff5-865
0-bfed8c99c830","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"91ef994d-c364-44bf-b
3d1-8331803f2209","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"91ef994d-c364-44
bf-b3d1-8331803f2209"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.138Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"81ba540e-fc40-4ff5-86
50-bfed8c99c830","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"91ef994d-c3
64-44bf-b3d1-8331803f2
209","duration":224,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.151Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
525ddbad-8470-4355-8f5
3-de9dd2886e95","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"eee3c6
d6-fe29-4549-8c9b-d730
da29c5be","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.155Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
525ddbad-8470-4355-8f5
3-de9dd2886e95","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
eee3c6d6-fe29-4549-8c9
b-d730da29c5be","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.176Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
525ddbad-8470-4355-8f5
3-de9dd2886e95","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"eee3c6
d6-fe29-4549-8c9b-d730
da29c5be","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to create 
a dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
prevent duplicate 
disputes for same 
order

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Seller to view 
the dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Disputes Module 
(e2e) ÔÇ║ should 
allow Buyer to view 
specific dispute

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 35 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 36 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 37 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 38 |[39m
     [90m 39 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 40 
|[39m[0m

      at 
Object.<anonymous> (e2
e/disputes.e2e-spec.ts
:37:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/shipment
s.e2e-spec.ts (14.751 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.882Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.912Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.992Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.006Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
12dd32fe-d3fe-4374-bbc
e-9ba2196da6f5","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-7h109k@test.com
","username":"user7h10
9k"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.025Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
7h109k@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.028Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user7h109k","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.264Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-7h109k@test.com","use
rname":"user7h109k"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.268Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
12dd32fe-d3fe-4374-bbc
e-9ba2196da6f5","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"68c0136d-4fb9-47a0-
aff0-3ca33d3aec83"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.269Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-7
h109k@test.com","userI
d":"68c0136d-4fb9-47a0
-aff0-3ca33d3aec83"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.315Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.317Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"12dd32fe-d3fe-4374-bb
ce-9ba2196da6f5","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":325,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.352Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"83efce89-9ec2-4520-b1
77-dbc9e57c1f8a","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.353Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
83efce89-9ec2-4520-b17
7-dbc9e57c1f8a","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-7h109k@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.590Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
83efce89-9ec2-4520-b17
7-dbc9e57c1f8a","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"68c0136d-4fb9-47a0-a
ff0-3ca33d3aec83","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"68c0136d-4fb9-47
a0-aff0-3ca33d3aec83"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.611Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"83efce89-9ec2-4520-b1
77-dbc9e57c1f8a","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"68c0136d-4f
b9-47a0-aff0-3ca33d3ae
c83","duration":259,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.619Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.620Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
11bb9768-f545-4889-a81
b-cb4a5a484b46","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-unpp7p@test.com
","username":"userunpp
7p"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.624Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
unpp7p@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.630Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userunpp7p","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.869Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-unpp7p@test.com","use
rname":"userunpp7p"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.872Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
11bb9768-f545-4889-a81
b-cb4a5a484b46","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"f7f055e9-37e7-498d-
80b1-d46fe14621d3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.872Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-u
npp7p@test.com","userI
d":"f7f055e9-37e7-498d
-80b1-d46fe14621d3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.884Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.884Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"11bb9768-f545-4889-a8
1b-cb4a5a484b46","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":265,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.905Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e7a00a09-229d-40c1-b8
db-f1360dd7a433","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.906Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e7a00a09-229d-40c1-b8d
b-f1360dd7a433","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-unpp7p@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.120Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e7a00a09-229d-40c1-b8d
b-f1360dd7a433","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"f7f055e9-37e7-498d-8
0b1-d46fe14621d3","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"f7f055e9-37e7-49
8d-80b1-d46fe14621d3"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.136Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e7a00a09-229d-40c1-b8
db-f1360dd7a433","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"f7f055e9-37
e7-498d-80b1-d46fe1462
1d3","duration":231,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.150Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a1b24b55-f23c-4b44-b57
8-43b20d5ddf61","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"68c013
6d-4fb9-47a0-aff0-3ca3
3d3aec83","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.154Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a1b24b55-f23c-4b44-b57
8-43b20d5ddf61","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
68c0136d-4fb9-47a0-aff
0-3ca33d3aec83","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.176Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a1b24b55-f23c-4b44-b57
8-43b20d5ddf61","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"68c013
6d-4fb9-47a0-aff0-3ca3
3d3aec83","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.log
      prisma:error 
      Invalid `any).sh
ipment.findUnique()` 
invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\e2e\shipments.e2e-sp
ec.ts:117:68
      
        114 
        115 
beforeAll(async () => 
{
        116   // eslin
t-disable-next-line @t
ypescript-eslint/no-ex
plicit-any
      ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
                
where: {
                  
orderId: undefined,
              ?   
id?: String,
              ?   
AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
OR?: 
ShipmentWhereInput[],
              ?   
NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
              ?   
createdAt?: 
DateTimeFilter | 
DateTime,
              ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
              ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
              ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
              ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
              ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
              ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
              ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
              ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
                }
              })
      
      Argument 
`where` of type Shipme
ntWhereUniqueInput 
needs at least one of 
`id` or `orderId` 
arguments. Available 
options are marked 
with ?.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
create a shipment 
when authenticated as 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ POST 
/shipments ÔÇ║ should 
fail if user is not 
seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow buyer to 
view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Shipments 
Module (e2e) ÔÇ║ GET 
/shipments/:id ÔÇ║ 
should allow seller 
to view shipment

    PrismaClientValida
tionError: 
    Invalid `any).ship
ment.findUnique()` 
invocation in
    C:\DevOps\Desarrol
los\IronLoot\api\test\
e2e\shipments.e2e-spec
.ts:117:68

      114 
      115 
beforeAll(async () => 
{
      116   // eslint-
disable-next-line @typ
escript-eslint/no-expl
icit-any
    ÔåÆ 117   const 
shipment = await 
(testApp.getPrisma() 
as any).shipment.findU
nique({
              where: {
                
orderId: undefined,
            ?   id?: 
String,
            ?   AND?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   OR?: 
ShipmentWhereInput[],
            ?   NOT?: 
ShipmentWhereInput | 
ShipmentWhereInput[],
            ?   
createdAt?: 
DateTimeFilter | 
DateTime,
            ?   
updatedAt?: 
DateTimeFilter | 
DateTime,
            ?   
provider?: EnumShipmen
tProviderFilter | 
ShipmentProvider,
            ?   
trackingNumber?: 
StringNullableFilter 
| String | Null,
            ?   
status?: EnumShipmentS
tatusFilter | 
ShipmentStatus,
            ?   
estimatedDelivery?: Da
teTimeNullableFilter 
| DateTime | Null,
            ?   
shippedAt?: DateTimeNu
llableFilter | 
DateTime | Null,
            ?   
deliveredAt?: DateTime
NullableFilter | 
DateTime | Null,
            ?   
order?: 
OrderRelationFilter | 
OrderWhereInput
              }
            })

    Argument `where` 
of type ShipmentWhereU
niqueInput needs at 
least one of `id` or 
`orderId` arguments. 
Available options are 
marked with ?.

    [0m [90m 115 
|[39m     beforeAll(
[36masync[39m () 
[33m=>[39m {
     [90m 116 |[39m 
      [90m// eslint-d
isable-next-line @type
script-eslint/no-expli
cit-any[39m
    [31m[1m>[22m[3
9m[90m 117 |[39m    
   [36mconst[39m 
shipment [33m=[39m 
[36mawait[39m (testA
pp[33m.[39mgetPrisma
() [36mas[39m any)[
33m.[39mshipment[33m
.[39mfindUnique({
     [90m     |[39m 
                      
 [31m[1m^[22m[39m
     [90m 118 |[39m 
        
where[33m:[39m { 
orderId }[33m,[39m
     [90m 119 |[39m 
      })[33m;[39m
     [90m 120 |[39m 
      shipmentId 
[33m=[39m shipment[
33m.[39mid[33m;[39m
[0m

      at wn (../node_m
odules/@prisma/client/
runtime/library.js:29:
1363)
      at 
$n.handleRequestError 
(../node_modules/@pris
ma/client/runtime/libr
ary.js:121:6958)
      at $n.handleAndL
ogRequestError (../nod
e_modules/@prisma/clie
nt/runtime/library.js:
121:6623)
      at $n.request (.
./node_modules/@prisma
/client/runtime/librar
y.js:121:6307)
      at l (../node_mo
dules/@prisma/client/r
untime/library.js:130:
9633)
      at 
Object.<anonymous> (e2
e/shipments.e2e-spec.t
s:117:24)

FAIL test/e2e/ratings.
e2e-spec.ts (14.784 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.893Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.922Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.054Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.066Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
383dec24-f8f4-42cc-8ed
3-8db9e3bc5f99","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-3n9zkw@test.com
","username":"user3n9z
kw"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.088Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
3n9zkw@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.093Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user3n9zkw","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.323Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-3n9zkw@test.com","use
rname":"user3n9zkw"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.329Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
383dec24-f8f4-42cc-8ed
3-8db9e3bc5f99","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"88ef3bfb-5955-4123-
b1b8-6f5221cc912e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.330Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-3
n9zkw@test.com","userI
d":"88ef3bfb-5955-4123
-b1b8-6f5221cc912e"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.374Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.375Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"383dec24-f8f4-42cc-8e
d3-8db9e3bc5f99","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":322,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.408Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0e57cda-a9b4-48a4-8e
b6-9a875ee3a7b1","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.410Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a0e57cda-a9b4-48a4-8eb
6-9a875ee3a7b1","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-3n9zkw@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.655Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a0e57cda-a9b4-48a4-8eb
6-9a875ee3a7b1","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"88ef3bfb-5955-4123-b
1b8-6f5221cc912e","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"88ef3bfb-5955-41
23-b1b8-6f5221cc912e"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.666Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"a0e57cda-a9b4-48a4-8e
b6-9a875ee3a7b1","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"88ef3bfb-59
55-4123-b1b8-6f5221cc9
12e","duration":258,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.675Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.677Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ea079cc9-2904-41a7-8c1
2-54c8ce252800","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-oave14@test.com
","username":"useroave
14"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.680Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
oave14@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.683Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"useroave14","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.909Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-oave14@test.com","use
rname":"useroave14"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.912Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ea079cc9-2904-41a7-8c1
2-54c8ce252800","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"a6edfd95-824c-4d69-
8f18-3ba13f16ad3a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.912Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-o
ave14@test.com","userI
d":"a6edfd95-824c-4d69
-8f18-3ba13f16ad3a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.925Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.925Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ea079cc9-2904-41a7-8c
12-54c8ce252800","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":250,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.947Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9aefdcc6-7adb-4e02-ad
bc-ab52b711cf79","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.948Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9aefdcc6-7adb-4e02-adb
c-ab52b711cf79","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-oave14@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.162Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
9aefdcc6-7adb-4e02-adb
c-ab52b711cf79","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"a6edfd95-824c-4d69-8
f18-3ba13f16ad3a","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"a6edfd95-824c-4d
69-8f18-3ba13f16ad3a"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.172Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"9aefdcc6-7adb-4e02-ad
bc-ab52b711cf79","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"a6edfd95-82
4c-4d69-8f18-3ba13f16a
d3a","duration":225,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.189Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ab31b575-b958-47ce-874
d-aaebd4d78342","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"88ef3b
fb-5955-4123-b1b8-6f52
21cc912e","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.192Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ab31b575-b958-47ce-874
d-aaebd4d78342","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
88ef3bfb-5955-4123-b1b
8-6f5221cc912e","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.213Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ab31b575-b958-47ce-874
d-aaebd4d78342","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"88ef3b
fb-5955-4123-b1b8-6f52
21cc912e","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
create shipment 
(Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
update shipment to 
DELIVERED (Seller)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Buyer to rate 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
allow Seller to rate 
Buyer

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
prevent duplicate 
rating

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Ratings Module 
(e2e) ÔÇ║ Flow: 
Shipment -> Delivery 
-> Rating ÔÇ║ should 
list ratings for 
Seller

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 36 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 37 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 38 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 41 
|[39m[0m

      at 
Object.<anonymous> (e2
e/ratings.e2e-spec.ts:
38:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/auctions
.e2e-spec.ts (14.798 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.878Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.903Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.998Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.012Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0311fd74-c678-4921-804
b-1946b08fbcd6","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-rubxao@test.com
","username":"userrubx
ao"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.033Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
rubxao@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.037Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userrubxao","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.280Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-rubxao@test.com","use
rname":"userrubxao"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.288Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0311fd74-c678-4921-804
b-1946b08fbcd6","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"f06f8ed8-8363-41e6-
939e-daf3f569441b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.288Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-r
ubxao@test.com","userI
d":"f06f8ed8-8363-41e6
-939e-daf3f569441b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.330Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.331Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0311fd74-c678-4921-80
4b-1946b08fbcd6","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":333,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.369Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5cf2b9a6-6895-4bb1-8d
13-84462b9eb03c","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.371Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5cf2b9a6-6895-4bb1-8d1
3-84462b9eb03c","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-rubxao@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.608Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5cf2b9a6-6895-4bb1-8d1
3-84462b9eb03c","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"f06f8ed8-8363-41e6-9
39e-daf3f569441b","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"f06f8ed8-8363-41
e6-939e-daf3f569441b"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.625Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5cf2b9a6-6895-4bb1-8d
13-84462b9eb03c","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"f06f8ed8-83
63-41e6-939e-daf3f5694
41b","duration":256,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.636Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.639Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fa9b6f36-109e-4142-bac
5-4be8edcdb4ca","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-88zhq@test.com"
,"username":"user88zhq
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.641Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
88zhq@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.643Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user88zhq","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.877Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-88zhq@test.com","user
name":"user88zhq"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.883Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
fa9b6f36-109e-4142-bac
5-4be8edcdb4ca","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"e79e3a49-ee09-4ca5-
a5ad-a4c4ce053f04"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.883Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-8
8zhq@test.com","userId
":"e79e3a49-ee09-4ca5-
a5ad-a4c4ce053f04"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.891Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.891Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"fa9b6f36-109e-4142-ba
c5-4be8edcdb4ca","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":255,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.912Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d58795c0-8d39-4b85-8d
b3-47952dd121d0","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.913Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d58795c0-8d39-4b85-8db
3-47952dd121d0","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-88zhq@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.129Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d58795c0-8d39-4b85-8db
3-47952dd121d0","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"e79e3a49-ee09-4ca5-a
5ad-a4c4ce053f04","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"e79e3a49-ee09-4c
a5-a5ad-a4c4ce053f04"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.139Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d58795c0-8d39-4b85-8d
b3-47952dd121d0","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"e79e3a49-ee
09-4ca5-a5ad-a4c4ce053
f04","duration":227,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.159Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d34c07a3-3705-4e97-82e
9-514192f1a765","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"f06f8e
d8-8363-41e6-939e-daf3
f569441b","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.165Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d34c07a3-3705-4e97-82e
9-514192f1a765","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"f06f8ed
8-8363-41e6-939e-daf3f
569441b","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.187Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
d34c07a3-3705-4e97-82e
9-514192f1a765","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"f06f8e
d8-8363-41e6-939e-daf3
f569441b","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.199Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b1a739df-3fd1-4404-8ad
d-638aa5d674a7","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"e79e3a
49-ee09-4ca5-a5ad-a4c4
ce053f04","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.201Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b1a739df-3fd1-4404-8ad
d-638aa5d674a7","messa
ge":"[\"End date must 
be at least 1 hour 
after start date\"]","
context":"ExceptionFil
ter","userId":"e79e3a4
9-ee09-4ca5-a5ad-a4c4c
e053f04","http":{"meth
od":"POST","path":"/"}
,"data":{"httpStatus":
400,"isBusinessError":
true},"error":{"code":
"VALIDATION_ERROR","me
ssage":"Bad Request Ex
ception","stack":"BadR
equestException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.204Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b1a739df-3fd1-4404-8ad
d-638aa5d674a7","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"e79e3a
49-ee09-4ca5-a5ad-a4c4
ce053f04","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.210Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5917b06a-6e95-4e1a-90
af-5e4ba5dca30b","mess
age":"AuctionsControll
er.findAll() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.216Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5917b06a-6e95-4e1a-90
af-5e4ba5dca30b","mess
age":"AuctionsControll
er.findAll() completed
","context":"AuctionsC
ontroller","duration":
6,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.224Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6ad219f5-ce85-47a0-a5
1c-6c8ced162620","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.227Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ad219f5-ce85-47a0-a51
c-6c8ced162620","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:23.238Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5ca57616-cff5-4b71-9d9
8-184efec5430b","messa
ge":"AuctionsControlle
r.update() called","co
ntext":"AuctionsContro
ller","userId":"f06f8e
d8-8363-41e6-939e-daf3
f569441b","http":{"met
hod":"PATCH","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.240Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5ca57616-cff5-4b71-9d9
8-184efec5430b","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"f
06f8ed8-8363-41e6-939e
-daf3f569441b","http":
{"method":"PATCH","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Validat
ion failed (uuid is ex
pected)","stack":"BadR
equestException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
1)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create({
                 
data: {
                   
eventType: 
"AUCTION_UPDATED",
                   
traceId: "5ca57616-cff
5-4b71-9d98-184efec543
0b",
                   
env: "test",
                   
service: 
"ironloot-api",
                   
actorType: "user",
                   
actorUserId: "f06f8ed8
-8363-41e6-939e-daf3f5
69441b",
                   
entityType: "Auction",
                   
result: "FAIL",
                   
reasonCode: 
"Validation failed 
(uuid is expected)",
                   
payload: {},
                   
payloadVersion: 1,
               +   
entityId: String
                 }
               })
      
      Argument 
`entityId` is missing.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.245Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5ca57616-cff5-4b71-9d9
8-184efec5430b","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"f06f8e
d8-8363-41e6-939e-daf3
f569441b","http":{"met
hod":"PATCH","path":"/
"},"data":{"eventType"
:"AUCTION_UPDATED","en
tityType":"Auction"},"
error":{"message":"\nI
nvalid `this.prisma.au
ditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_UPDATED\",\n     
        traceId: \"5ca
57616-cff5-4b71-9d98-1
84efec5430b\",\n      
       env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"f06f8
ed8-8363-41e6-939e-daf
3f569441b\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"FAIL\",\n           
  reasonCode: 
\"Validation failed 
(uuid is 
expected)\",\n        
     payload: {},\n   
          
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is missing.
","stack":"PrismaClien
tValidationError: 
\nInvalid `this.prisma
.auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_UPDATED\",\n     
        traceId: \"5ca
57616-cff5-4b71-9d98-1
84efec5430b\",\n      
       env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"f06f8
ed8-8363-41e6-939e-daf
3f569441b\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"FAIL\",\n           
  reasonCode: 
\"Validation failed 
(uuid is 
expected)\",\n        
     payload: {},\n   
          
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is 
missing.\n    at wn (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:1363)\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:6958)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.256Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3032eb91-4ebb-4c33-837
8-09d044f0574d","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"f06f8
ed8-8363-41e6-939e-daf
3f569441b","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.258Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3032eb91-4ebb-4c33-837
8-09d044f0574d","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"f
06f8ed8-8363-41e6-939e
-daf3f569441b","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create({
                 
data: {
                   
eventType: 
"AUCTION_PUBLISHED",
                   
traceId: "3032eb91-4eb
b-4c33-8378-09d044f057
4d",
                   
env: "test",
                   
service: 
"ironloot-api",
                   
actorType: "user",
                   
actorUserId: "f06f8ed8
-8363-41e6-939e-daf3f5
69441b",
                   
entityType: "Auction",
                   
result: "FAIL",
                   
reasonCode: 
"Validation failed 
(uuid is expected)",
                   
payload: {},
                   
payloadVersion: 1,
               +   
entityId: String
                 }
               })
      
      Argument 
`entityId` is missing.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.261Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3032eb91-4ebb-4c33-837
8-09d044f0574d","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"f06f8e
d8-8363-41e6-939e-daf3
f569441b","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_PUBLISHED","e
ntityType":"Auction"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_PUBLISHED\",\n   
          traceId: \"3
032eb91-4ebb-4c33-8378
-09d044f0574d\",\n    
         env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"f06f8
ed8-8363-41e6-939e-daf
3f569441b\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"FAIL\",\n           
  reasonCode: 
\"Validation failed 
(uuid is 
expected)\",\n        
     payload: {},\n   
          
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is missing.
","stack":"PrismaClien
tValidationError: 
\nInvalid `this.prisma
.auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_PUBLISHED\",\n   
          traceId: \"3
032eb91-4ebb-4c33-8378
-09d044f0574d\",\n    
         env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"f06f8
ed8-8363-41e6-939e-daf
3f569441b\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"FAIL\",\n           
  reasonCode: 
\"Validation failed 
(uuid is 
expected)\",\n        
     payload: {},\n   
          
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is 
missing.\n    at wn (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:1363)\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:6958)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
allow seller to 
create an auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 47 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 48 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 49 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 50 |[39m
     [90m 51 |[39m  
     expect(response[
33m.[39mbody)[33m.[
39mtoHaveProperty([32
m'id'[39m)[33m;[39m
     [90m 52 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(auctionDto[33m.[39
mtitle)[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:49:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(POST) ÔÇ║ should 
deny non-seller

    expected 403 
"Forbidden", got 400 
"Bad Request"

    [0m [90m 61 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${buyer.token}`[39m)
     [90m 62 |[39m  
       [33m.[39msend
(auctionDto)
    [31m[1m>[22m[3
9m[90m 63 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 64 |[39m  
   })[33m;[39m
     [90m 65 |[39m  
 })[33m;[39m
     [90m 66 
|[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:63:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should list 
auctions

    expect(received).t
oBe(expected) // 
Object.is equality

    Expected: true
    Received: false

    [0m [90m 75 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[3
9m[90m 77 |[39m     
  expect([33mArray[3
9m[33m.[39misArray(r
esponse[33m.[39mbody
))[33m.[39mtoBe([36
mtrue[39m)[33m;[39m
     [90m    |[39m  
                      
                    
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
retrieve auction detai
ls'[39m[33m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:77:44)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions 
(GET) ÔÇ║ should 
retrieve auction 
details

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 81 
|[39m       
[36mconst[39m 
response [33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 82 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 83 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 84 |[39m
     [90m 85 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mid)[33m.[39mtoBe(a
uctionId)[33m;[39m
     [90m 86 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:83:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ 
/api/v1/auctions/:id 
(PATCH) ÔÇ║ should 
update auction (Draft)

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${seller.token}`[39m)
     [90m 95 |[39m  
       [33m.[39msend
(updateData)
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect(response[
33m.[39mbody[33m.[3
9mtitle)[33m.[39mtoB
e(updateData[33m.[39
mtitle)[33m;[39m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:96:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Auctions Module 
(e2e) ÔÇ║ /api/v1/auct
ions/:id/publish 
(POST) ÔÇ║ should 
publish auction

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 105 
|[39m         [33m.
[39mpost([32m`/api/v1
/auctions/${auctionId}
/publish`[39m)
     [90m 106 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer 
${seller.token}`[39m)
    [31m[1m>[22m[3
9m[90m 107 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 108 |[39m
     [90m 109 |[39m 
      expect(response
[33m.[39mbody[33m.[
39mstatus)[33m.[39mt
oBe([32m'PUBLISHED'[
39m)[33m;[39m
     [90m 110 |[39m 
    })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/auctions.e2e-spec.ts
:107:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

FAIL test/e2e/payments
.e2e-spec.ts (14.822 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:22.069Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.091Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.159Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.170Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ee92e602-c884-4619-868
0-813f102339f4","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-ozmq9m@test.com
","username":"userozmq
9m"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.183Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
ozmq9m@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.185Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userozmq9m","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.411Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-ozmq9m@test.com","use
rname":"userozmq9m"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.416Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ee92e602-c884-4619-868
0-813f102339f4","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"639704ef-826f-4328-
a9cd-02ed3c705efb"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.417Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-o
zmq9m@test.com","userI
d":"639704ef-826f-4328
-a9cd-02ed3c705efb"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.460Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.462Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ee92e602-c884-4619-86
80-813f102339f4","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":302,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.509Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"72004daa-5e0d-4932-8e
42-fdf1b83c743e","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.511Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
72004daa-5e0d-4932-8e4
2-fdf1b83c743e","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-ozmq9m@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.765Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
72004daa-5e0d-4932-8e4
2-fdf1b83c743e","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"639704ef-826f-4328-a
9cd-02ed3c705efb","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"639704ef-826f-43
28-a9cd-02ed3c705efb"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.776Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"72004daa-5e0d-4932-8e
42-fdf1b83c743e","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"639704ef-82
6f-4328-a9cd-02ed3c705
efb","duration":267,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.784Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.786Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
482f2e50-5151-4793-b3f
c-c895dfbe7c25","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-p8gqpc@test.com
","username":"userp8gq
pc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.788Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
p8gqpc@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.790Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userp8gqpc","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.005Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-p8gqpc@test.com","use
rname":"userp8gqpc"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.009Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
482f2e50-5151-4793-b3f
c-c895dfbe7c25","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"c7993375-7a5f-4a87-
b775-29495da6e628"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.009Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-p
8gqpc@test.com","userI
d":"c7993375-7a5f-4a87
-b775-29495da6e628"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:23.018Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.018Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"482f2e50-5151-4793-b3
fc-c895dfbe7c25","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":234,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.027Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c4c90dc5-89b1-49bc-96
da-7159c548bbb7","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.028Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c4c90dc5-89b1-49bc-96d
a-7159c548bbb7","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-p8gqpc@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.242Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c4c90dc5-89b1-49bc-96d
a-7159c548bbb7","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"c7993375-7a5f-4a87-b
775-29495da6e628","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"c7993375-7a5f-4a
87-b775-29495da6e628"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.252Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"c4c90dc5-89b1-49bc-96
da-7159c548bbb7","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"c7993375-7a
5f-4a87-b775-29495da6e
628","duration":225,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.268Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f6bb4d9-6567-43fc-9b3
5-933caa6afe83","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"639704
ef-826f-4328-a9cd-02ed
3c705efb","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.273Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f6bb4d9-6567-43fc-9b3
5-933caa6afe83","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
639704ef-826f-4328-a9c
d-02ed3c705efb","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.298Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
2f6bb4d9-6567-43fc-9b3
5-933caa6afe83","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"639704
ef-826f-4328-a9cd-02ed
3c705efb","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should initiate a 
checkout session 
(MOCK)

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Payments Module 
(e2e) ÔÇ║ POST 
/payments/checkout 
ÔÇ║ should fail if 
order does not exist

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 37 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 38 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 39 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 40 |[39m
     [90m 41 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 42 
|[39m[0m

      at 
Object.<anonymous> (e2
e/payments.e2e-spec.ts
:39:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

PASS test/e2e/auth.e2e
-spec.ts (14.914 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.829Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.853Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.943Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.968Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
823801c7-9e75-48cb-871
4-8cc6d1bb41fc","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.988Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:21.995Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.240Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.245Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
823801c7-9e75-48cb-871
4-8cc6d1bb41fc","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"51385ea2-318f-4eb6-
9041-1cae499fca28"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.245Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"51385ea2-318f-4eb6-90
41-1cae499fca28"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.293Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.294Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"823801c7-9e75-48cb-87
14-8cc6d1bb41fc","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":351,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.325Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.327Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
aea2d527-4d4b-462a-a32
6-e5db9868e044","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.331Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.333Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.574Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.581Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
aea2d527-4d4b-462a-a32
6-e5db9868e044","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"31cb0159-db98-4b55-
8811-dab62d0a0dd3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.582Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"31cb0159-db98-4b55-88
11-dab62d0a0dd3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.597Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.597Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"aea2d527-4d4b-462a-a3
26-e5db9868e044","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":272,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.612Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f4ae54f8-b067-4585-8f
63-70265a738330","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.613Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f4ae54f8-b067-4585-8f6
3-70265a738330","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.616Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f4ae54f8-b067-4585-8f
63-70265a738330","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
true,"existingId":"31c
b0159-db98-4b55-8811-d
ab62d0a0dd3"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.617Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f4ae54f8-b067-4585-8f6
3-70265a738330","messa
ge":"Registration 
failed: email already 
exists","context":"Aut
hService","http":{"met
hod":"POST","path":"/"
},"data":{"email":"tes
t@test-e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:101:16)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.634Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f4ae54f8-b067-4585-8f6
3-70265a738330","messa
ge":"Email already reg
istered","context":"Ex
ceptionFilter","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":409,"isBusinessE
rror":true},"error":{"
code":"EMAIL_ALREADY_E
XISTS","message":"Emai
l already registered",
"stack":"EmailAlreadyE
xistsException: Email 
already registered\n  
  at 
AuthService.register (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\auth\\auth.s
ervice.ts:103:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.673Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"21db696f-046b-4db9-98
3b-40c8f0cb2b43","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.679Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
21db696f-046b-4db9-983
b-40c8f0cb2b43","messa
ge":"[\"Invalid email 
format\"]","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":400,"isBusines
sError":true},"error":
{"code":"VALIDATION_ER
ROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.692Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"4b9c3dae-dd0e-4f3e-ba
2b-92d1a05e639a","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:22.693Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
4b9c3dae-dd0e-4f3e-ba2
b-92d1a05e639a","messa
ge":"[\"Password must 
include uppercase, 
lowercase and 
number\",\"Password 
must be at least 8 cha
racters\"]","context":
"ExceptionFilter","htt
p":{"method":"POST","p
ath":"/"},"data":{"htt
pStatus":400,"isBusine
ssError":true},"error"
:{"code":"VALIDATION_E
RROR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at proces
sTicksAndRejections (n
ode:internal/process/t
ask_queues:105:5)\n   
 at resolveParamValue 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\co
re\\router\\router-exe
cution-context.js:148:
23)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.703Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.705Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0ab46334-c405-4008-806
b-a63f502c848c","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test@test-e2e.com","
username":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.707Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test@
test-e2e.com","found":
false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.709Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"testuser","fou
nd":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.934Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
@test-e2e.com","userna
me":"testuser"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.938Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
0ab46334-c405-4008-806
b-a63f502c848c","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"ad6bbfb1-5455-4e27-
afbe-71909d502d8c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.938Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test@t
est-e2e.com","userId":
"ad6bbfb1-5455-4e27-af
be-71909d502d8c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.948Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.948Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"0ab46334-c405-4008-80
6b-a63f502c848c","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":245,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.953Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"14a74522-f5f5-4b25-ae
61-3f3549357083","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.955Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
14a74522-f5f5-4b25-ae6
1-3f3549357083","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.171Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
14a74522-f5f5-4b25-ae6
1-3f3549357083","messa
ge":"Email 
verification required"
,"context":"ExceptionF
ilter","http":{"method
":"POST","path":"/"},"
data":{"httpStatus":40
3,"isBusinessError":tr
ue,"entityType":"User"
,"entityId":"ad6bbfb1-
5455-4e27-afbe-71909d5
02d8c"},"error":{"code
":"USER_NOT_VERIFIED",
"message":"Email 
verification required"
,"stack":"UserNotVerif
iedException: Email 
verification 
required\n    at AuthS
ervice.validateUserSta
te (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
src\\modules\\auth\\au
th.service.ts:733:15)\
n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:275:10)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.177Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"6c93577e-7559-4eb8-bb
64-bef0e84ef47e","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.179Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6c93577e-7559-4eb8-bb6
4-bef0e84ef47e","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test@test-e2e
.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.392Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6c93577e-7559-4eb8-bb6
4-bef0e84ef47e","messa
ge":"Login failed: 
invalid password","con
text":"AuthService","h
ttp":{"method":"POST",
"path":"/"},"data":{"u
serId":"ad6bbfb1-5455-
4e27-afbe-71909d502d8c
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:243:16)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.396Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6c93577e-7559-4eb8-bb6
4-bef0e84ef47e","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:255:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.402Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b8ac1e0b-2bf3-4db3-8e
df-1bd8181b626c","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.404Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b8ac1e0b-2bf3-4db3-8ed
f-1bd8181b626c","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"nonexistent@t
est-e2e.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.406Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b8ac1e0b-2bf3-4db3-8ed
f-1bd8181b626c","messa
ge":"Login failed: 
user not found","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"ema
il":"nonexistent@test-
e2e.com"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at 
ChildLogger.warn (../s
rc/common/observabilit
y/logger.service.ts:24
3:17)
      at 
AuthService.login (../
src/modules/auth/auth.
service.ts:234:16)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.406Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b8ac1e0b-2bf3-4db3-8ed
f-1bd8181b626c","messa
ge":"Invalid email or 
password","context":"E
xceptionFilter","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":401,"isBusiness
Error":true},"error":{
"code":"INVALID_CREDEN
TIALS","message":"Inva
lid email or password"
,"stack":"InvalidCrede
ntialsException: 
Invalid email or 
password\n    at 
AuthService.login (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\src\\mo
dules\\auth\\auth.serv
ice.ts:236:13)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

PASS test/e2e/watchlis
t.e2e-spec.ts (14.895 
s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.946Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.977Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.063Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.075Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97f1e408-ea4e-4122-abf
a-6cef0529af01","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-g7ny9a@test.com
","username":"userg7ny
9a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.095Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
g7ny9a@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.100Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userg7ny9a","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.322Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-g7ny9a@test.com","use
rname":"userg7ny9a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.328Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
97f1e408-ea4e-4122-abf
a-6cef0529af01","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"2748435f-2574-4ab2-
8fd9-3fd4966022d0"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.328Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-g
7ny9a@test.com","userI
d":"2748435f-2574-4ab2
-8fd9-3fd4966022d0"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.374Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.375Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"97f1e408-ea4e-4122-ab
fa-6cef0529af01","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":312,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.411Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b06c8eba-2ee5-46ca-86
92-541826e9775e","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.413Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b06c8eba-2ee5-46ca-869
2-541826e9775e","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-g7ny9a@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.649Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b06c8eba-2ee5-46ca-869
2-541826e9775e","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"2748435f-2574-4ab2-8
fd9-3fd4966022d0","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"2748435f-2574-4a
b2-8fd9-3fd4966022d0"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.658Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"b06c8eba-2ee5-46ca-86
92-541826e9775e","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"2748435f-25
74-4ab2-8fd9-3fd496602
2d0","duration":247,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.668Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.670Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1de06697-62c6-47ee-ab0
2-f416be119a4f","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-g3q1n@test.com"
,"username":"userg3q1n
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.675Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
g3q1n@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.682Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userg3q1n","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.908Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-g3q1n@test.com","user
name":"userg3q1n"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.912Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
1de06697-62c6-47ee-ab0
2-f416be119a4f","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"084a1c9f-efb3-4cfb-
9a35-67ffbba65a34"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.913Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-g
3q1n@test.com","userId
":"084a1c9f-efb3-4cfb-
9a35-67ffbba65a34"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.927Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.927Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"1de06697-62c6-47ee-ab
02-f416be119a4f","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":259,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.949Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33c43dbf-d99c-48e3-88
70-1c57c6dceaaf","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.950Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33c43dbf-d99c-48e3-887
0-1c57c6dceaaf","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-g3q1n@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.162Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33c43dbf-d99c-48e3-887
0-1c57c6dceaaf","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"084a1c9f-efb3-4cfb-9
a35-67ffbba65a34","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"084a1c9f-efb3-4c
fb-9a35-67ffbba65a34"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.172Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33c43dbf-d99c-48e3-88
70-1c57c6dceaaf","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"084a1c9f-ef
b3-4cfb-9a35-67ffbba65
a34","duration":223,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.189Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33a2843c-4f76-421d-8e8
f-5a6eb3d322df","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"274843
5f-2574-4ab2-8fd9-3fd4
966022d0","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.190Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"33a2843c-4f76-421d-8e
8f-5a6eb3d322df","mess
age":"Creating auction
","context":"AuctionsS
ervice","userId":"2748
435f-2574-4ab2-8fd9-3f
d4966022d0","http":{"m
ethod":"POST","path":"
/"},"data":{"userId":"
2748435f-2574-4ab2-8fd
9-3fd4966022d0","title
":"Watchlist Test 
Auction"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.198Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33a2843c-4f76-421d-8e8
f-5a6eb3d322df","messa
ge":"Auction created s
uccessfully","context"
:"AuctionsService","us
erId":"2748435f-2574-4
ab2-8fd9-3fd4966022d0"
,"http":{"method":"POS
T","path":"/"},"data":
{"auctionId":"3991a608
-50cb-4879-b9d4-f68941
b691aa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.199Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
33a2843c-4f76-421d-8e8
f-5a6eb3d322df","messa
ge":"AuctionsControlle
r.create() completed",
"context":"AuctionsCon
troller","userId":"274
8435f-2574-4ab2-8fd9-3
fd4966022d0","duration
":11,"http":{"method":
"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.223Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e5e92be0-d1b5-4488-81a
c-56e24b6d2c68","messa
ge":"AuctionsControlle
r.publish() called","c
ontext":"AuctionsContr
oller","userId":"27484
35f-2574-4ab2-8fd9-3fd
4966022d0","http":{"me
thod":"POST","path":"/
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.233Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e5e92be0-d1b5-4488-81a
c-56e24b6d2c68","messa
ge":"Auction published
","context":"AuctionsS
ervice","userId":"2748
435f-2574-4ab2-8fd9-3f
d4966022d0","http":{"m
ethod":"POST","path":"
/"},"data":{"auctionId
":"3991a608-50cb-4879-
b9d4-f68941b691aa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.233Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e5e92be0-d1b5-4488-81a
c-56e24b6d2c68","messa
ge":"AuctionsControlle
r.publish() completed"
,"context":"AuctionsCo
ntroller","userId":"27
48435f-2574-4ab2-8fd9-
3fd4966022d0","duratio
n":10,"http":{"method"
:"POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create({
                 
data: {
                   
eventType: 
"AUCTION_PUBLISHED",
                   
traceId: "e5e92be0-d1b
5-4488-81ac-56e24b6d2c
68",
                   
env: "test",
                   
service: 
"ironloot-api",
                   
actorType: "user",
                   
actorUserId: "2748435f
-2574-4ab2-8fd9-3fd496
6022d0",
                   
entityType: "Auction",
                   
result: "SUCCESS",
                   
reasonCode: undefined,
                   
payload: {},
                   
payloadVersion: 1,
               +   
entityId: String
                 }
               })
      
      Argument 
`entityId` is missing.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.267Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e5e92be0-d1b5-4488-81a
c-56e24b6d2c68","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"274843
5f-2574-4ab2-8fd9-3fd4
966022d0","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_PUBLISHED","e
ntityType":"Auction"},
"error":{"message":"\n
Invalid `this.prisma.a
uditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_PUBLISHED\",\n   
          traceId: \"e
5e92be0-d1b5-4488-81ac
-56e24b6d2c68\",\n    
         env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"27484
35f-2574-4ab2-8fd9-3fd
4966022d0\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is missing.
","stack":"PrismaClien
tValidationError: 
\nInvalid `this.prisma
.auditEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create({\n     
      data: {\n       
      eventType: \"AUC
TION_PUBLISHED\",\n   
          traceId: \"e
5e92be0-d1b5-4488-81ac
-56e24b6d2c68\",\n    
         env: 
\"test\",\n           
  service: 
\"ironloot-api\",\n   
          actorType: 
\"user\",\n           
  actorUserId: \"27484
35f-2574-4ab2-8fd9-3fd
4966022d0\",\n        
     entityType: 
\"Auction\",\n        
     result: 
\"SUCCESS\",\n        
     reasonCode: 
undefined,\n          
   payload: {},\n     
        
payloadVersion: 1,\n  
       +   entityId: 
String\n           
}\n         
})\n\nArgument 
`entityId` is 
missing.\n    at wn (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:1363)\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:6958)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.278Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"634fc5a4-1b16-4a60-8d
d9-12074c291612","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"084a1c9f-efb3-4cfb-
9a35-67ffbba65a34","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.281Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"634fc5a4-1b16-4a60-8d
d9-12074c291612","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"084a1c9f-efb3-4c
fb-9a35-67ffbba65a34",
"duration":4,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.292Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
95cc5d94-30af-46dc-98b
c-734259e7693f","messa
ge":"Authentication re
quired","context":"Exc
eptionFilter","http":{
"method":"GET","path":
"/"},"data":{"httpStat
us":401,"isBusinessErr
or":true},"error":{"co
de":"UNAUTHORIZED","me
ssage":"Authentication
 required","stack":"Un
authorizedException: 
Authentication 
required\n    at JwtAu
thGuard.handleRequest 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\modules\\auth\\guard
s\\jwt-auth.guard.ts:4
1:20)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\passport\\d
ist\\auth.guard.js:44:
124\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@nestjs\\passport\\dis
t\\auth.guard.js:83:24
\n    at allFailed (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:110:18)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:1
83:28)\n    at JwtStra
tegy.strategy.fail (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\passport\\lib\
\middleware\\authentic
ate.js:314:9)\n    at 
JwtStrategy.Object.<an
onymous>.JwtStrategy.a
uthenticate (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\passport-jwt\\lib\\st
rategy.js:96:21)\n    
at attempt (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
passport\\lib\\middlew
are\\authenticate.js:3
78:16)\n    at 
authenticate (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\passport\\lib\\middl
eware\\authenticate.js
:379:7)\n    at C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@nestjs\\passport\
\dist\\auth.guard.js:8
8:3\n    at new 
Promise 
(<anonymous>)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\pas
sport\\dist\\auth.guar
d.js:80:83\n    at Jwt
AuthGuard.canActivate 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@nestjs\\pa
ssport\\dist\\auth.gua
rd.js:44:32)\n    at p
rocessTicksAndRejectio
ns (node:internal/proc
ess/task_queues:105:5)
"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:23.307Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ad1c834-4e0b-4071-856
f-3e9070cbd236","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"084a1c9f-efb3-4cfb
-9a35-67ffbba65a34","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.315Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ad1c834-4e0b-4071-856
f-3e9070cbd236","messa
ge":"Added to watchlis
t","context":"Watchlis
tService","userId":"08
4a1c9f-efb3-4cfb-9a35-
67ffbba65a34","http":{
"method":"POST","path"
:"/"},"data":{"userId"
:"084a1c9f-efb3-4cfb-9
a35-67ffbba65a34","auc
tionId":"3991a608-50cb
-4879-b9d4-f68941b691a
a"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.317Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
6ad1c834-4e0b-4071-856
f-3e9070cbd236","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"084a1c9f-efb3-4
cfb-9a35-67ffbba65a34"
,"duration":10,"http":
{"method":"POST","path
":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.328Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8f06a68b-c268-4781-a08
d-cc779626e7c8","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"084a1c9f-efb3-4cfb
-9a35-67ffbba65a34","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.333Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"8f06a68b-c268-4781-a0
8d-cc779626e7c8","mess
age":"Watchlist item 
already exists","conte
xt":"WatchlistService"
,"userId":"084a1c9f-ef
b3-4cfb-9a35-67ffbba65
a34","http":{"method":
"POST","path":"/"},"da
ta":{"userId":"084a1c9
f-efb3-4cfb-9a35-67ffb
ba65a34","auctionId":"
3991a608-50cb-4879-b9d
4-f68941b691aa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.333Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
8f06a68b-c268-4781-a08
d-cc779626e7c8","messa
ge":"WatchlistControll
er.addToWatchlist() co
mpleted","context":"Wa
tchlistController","us
erId":"084a1c9f-efb3-4
cfb-9a35-67ffbba65a34"
,"duration":5,"http":{
"method":"POST","path"
:"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.344Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
96a7fd1a-5f84-4911-9ab
8-f2fd4f89bdf1","messa
ge":"WatchlistControll
er.addToWatchlist() ca
lled","context":"Watch
listController","userI
d":"084a1c9f-efb3-4cfb
-9a35-67ffbba65a34","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.348Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
96a7fd1a-5f84-4911-9ab
8-f2fd4f89bdf1","messa
ge":"Auction not found
","context":"Exception
Filter","userId":"084a
1c9f-efb3-4cfb-9a35-67
ffbba65a34","http":{"m
ethod":"POST","path":"
/"},"data":{"httpStatu
s":404,"isBusinessErro
r":true,"entityType":"
Auction","entityId":"0
0000000-0000-0000-0000
-000000000000"},"error
":{"code":"AUCTION_NOT
_FOUND","message":"Auc
tion not found","stack
":"AuctionNotFoundExce
ption: Auction not 
found\n    at 
WatchlistService.add (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\src\
\modules\\watchlist\\w
atchlist.service.ts:36
:13)\n    at Watchlist
Controller.addToWatchl
ist (C:\\DevOps\\Desar
rollos\\IronLoot\\api\
\src\\modules\\watchli
st\\watchlist.controll
er.ts:53:5)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.357Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f9fba8ad-6f4b-4962-90
64-533fa11796c6","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"084a1c9f-efb3-4cfb-
9a35-67ffbba65a34","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.360Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"f9fba8ad-6f4b-4962-90
64-533fa11796c6","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"084a1c9f-efb3-4c
fb-9a35-67ffbba65a34",
"duration":3,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.369Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7276580-2727-4b7d-85b
6-592d92f445d8","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"084a1c9f-efb3
-4cfb-9a35-67ffbba65a3
4","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.372Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7276580-2727-4b7d-85b
6-592d92f445d8","messa
ge":"Removed from watc
hlist","context":"Watc
hlistService","userId"
:"084a1c9f-efb3-4cfb-9
a35-67ffbba65a34","htt
p":{"method":"DELETE",
"path":"/"},"data":{"u
serId":"084a1c9f-efb3-
4cfb-9a35-67ffbba65a34
","auctionId":"3991a60
8-50cb-4879-b9d4-f6894
1b691aa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.372Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
b7276580-2727-4b7d-85b
6-592d92f445d8","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"084a1c9f-e
fb3-4cfb-9a35-67ffbba6
5a34","duration":3,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.379Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
41ef1a59-37c5-49de-90b
2-54e09399c3c2","messa
ge":"WatchlistControll
er.removeFromWatchlist
() called","context":"
WatchlistController","
userId":"084a1c9f-efb3
-4cfb-9a35-67ffbba65a3
4","http":{"method":"D
ELETE","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.watchlist.delete(
)` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\watchlist\wat
chlist.service.ts:70:4
1
      
        67 async 
remove(userId: 
string, auctionId: 
string): 
Promise<void> {
        68   // 
Idempotent delete
        69   try {
      ÔåÆ 70     
await this.prisma.watc
hlist.delete(
      An operation 
failed because it 
depends on one or 
more records that 
were required but not 
found. Record to 
delete does not exist.

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.386Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"41ef1a59-37c5-49de-90
b2-54e09399c3c2","mess
age":"Watchlist item 
did not exist, ignorin
g","context":"Watchlis
tService","userId":"08
4a1c9f-efb3-4cfb-9a35-
67ffbba65a34","http":{
"method":"DELETE","pat
h":"/"},"data":{"userI
d":"084a1c9f-efb3-4cfb
-9a35-67ffbba65a34","a
uctionId":"3991a608-50
cb-4879-b9d4-f68941b69
1aa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.386Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
41ef1a59-37c5-49de-90b
2-54e09399c3c2","messa
ge":"WatchlistControll
er.removeFromWatchlist
() completed","context
":"WatchlistController
","userId":"084a1c9f-e
fb3-4cfb-9a35-67ffbba6
5a34","duration":7,"ht
tp":{"method":"DELETE"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.395Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d90f9be3-d499-4611-9e
ad-cf4ecaa8d2fa","mess
age":"WatchlistControl
ler.getWatchlist() cal
led","context":"Watchl
istController","userId
":"084a1c9f-efb3-4cfb-
9a35-67ffbba65a34","ht
tp":{"method":"GET","p
ath":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.397Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"d90f9be3-d499-4611-9e
ad-cf4ecaa8d2fa","mess
age":"WatchlistControl
ler.getWatchlist() com
pleted","context":"Wat
chlistController","use
rId":"084a1c9f-efb3-4c
fb-9a35-67ffbba65a34",
"duration":2,"http":{"
method":"GET","path":"
/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.log
      prisma:error 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.error
      Cleanup failed P
rismaClientKnownReques
tError: 
      Invalid `this.pr
isma.user.deleteMany()
` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\tes
t\core\auth-helper.ts:
77:30
      
        74 // Be 
careful not to delete 
real users if running 
on dev db
        75 // Ideally 
we run on test db
        76 try {
      ÔåÆ 77   await t
his.prisma.user.delete
Many(
      Foreign key 
constraint violated: `
auctions_seller_id_fke
y (index)`
          at 
$n.handleRequestError 
(C:\DevOps\Desarrollos
\IronLoot\api\node_mod
ules\@prisma\client\ru
ntime\library.js:121:7
315)
          at $n.handle
AndLogRequestError (C:
\DevOps\Desarrollos\Ir
onLoot\api\node_module
s\@prisma\client\runti
me\library.js:121:6623
)
          at 
$n.request (C:\DevOps\
Desarrollos\IronLoot\a
pi\node_modules\@prism
a\client\runtime\libra
ry.js:121:6307)
          at l (C:\Dev
Ops\Desarrollos\IronLo
ot\api\node_modules\@p
risma\client\runtime\l
ibrary.js:130:9633)
          at 
AuthHelper.cleanup (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\core\a
uth-helper.ts:77:7)
          at 
Object.<anonymous> (C:
\DevOps\Desarrollos\Ir
onLoot\api\test\e2e\wa
tchlist.e2e-spec.ts:49
:19) {
        code: 'P2003',
        
clientVersion: 
'5.22.0',
        meta: { 
modelName: 'User', 
field_name: 'auctions_
seller_id_fkey 
(index)' }
      }

    [0m [90m 79 
|[39m       
})[33m;[39m
     [90m 80 |[39m  
   } [36mcatch[39m 
(e) {
    [31m[1m>[22m[3
9m[90m 81 |[39m     
  console[33m.[39mer
ror([32m'Cleanup fail
ed'[39m[33m,[39m 
e)[33m;[39m
     [90m    |[39m  
             
[31m[1m^[22m[39m
     [90m 82 |[39m  
   }
     [90m 83 |[39m  
 }
     [90m 84 |[39m 
}[0m

      at 
AuthHelper.cleanup (co
re/auth-helper.ts:81:1
5)
      at 
Object.<anonymous> (e2
e/watchlist.e2e-spec.t
s:49:19)

FAIL test/e2e/orders.e
2e-spec.ts (15.239 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.881Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.910Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.004Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.026Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cf5333c5-ba5f-49b9-add
3-e6574265c0bf","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-legdt@test.com"
,"username":"userlegdt
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.043Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
legdt@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.050Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userlegdt","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.291Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-legdt@test.com","user
name":"userlegdt"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.295Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cf5333c5-ba5f-49b9-add
3-e6574265c0bf","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"1a8c915c-8d75-432b-
b56b-64537019f6e7"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.296Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-l
egdt@test.com","userId
":"1a8c915c-8d75-432b-
b56b-64537019f6e7"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.341Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.342Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cf5333c5-ba5f-49b9-ad
d3-e6574265c0bf","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":339,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.390Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5c89d199-0f58-403a-ad
c9-d2a084dfcd74","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.392Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5c89d199-0f58-403a-adc
9-d2a084dfcd74","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-legdt@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.637Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5c89d199-0f58-403a-adc
9-d2a084dfcd74","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"1a8c915c-8d75-432b-b
56b-64537019f6e7","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"1a8c915c-8d75-43
2b-b56b-64537019f6e7"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.648Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5c89d199-0f58-403a-ad
c9-d2a084dfcd74","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"1a8c915c-8d
75-432b-b56b-64537019f
6e7","duration":258,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.655Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.656Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2a08b32-3cf5-48cb-98f
6-33c90d46235c","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-fw25g@test.com"
,"username":"userfw25g
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.659Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
fw25g@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.661Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userfw25g","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.894Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-fw25g@test.com","user
name":"userfw25g"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.899Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2a08b32-3cf5-48cb-98f
6-33c90d46235c","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"b2803dd6-05f0-492e-
89e3-6525a78fd10b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.899Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-f
w25g@test.com","userId
":"b2803dd6-05f0-492e-
89e3-6525a78fd10b"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.908Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.908Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e2a08b32-3cf5-48cb-98
f6-33c90d46235c","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":253,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.921Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b0eb136-25f1-4e78-a5
c2-101dd7b1e2f2","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.922Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5b0eb136-25f1-4e78-a5c
2-101dd7b1e2f2","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-fw25g@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.134Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5b0eb136-25f1-4e78-a5c
2-101dd7b1e2f2","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"b2803dd6-05f0-492e-8
9e3-6525a78fd10b","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"b2803dd6-05f0-49
2e-89e3-6525a78fd10b"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.144Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b0eb136-25f1-4e78-a5
c2-101dd7b1e2f2","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"b2803dd6-05
f0-492e-89e3-6525a78fd
10b","duration":223,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.150Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.151Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
05811080-fc6f-4095-b60
e-eefe9289ce5f","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-0u5ana@test.com
","username":"user0u5a
na"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.152Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
0u5ana@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.154Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user0u5ana","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.367Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-0u5ana@test.com","use
rname":"user0u5ana"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.370Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
05811080-fc6f-4095-b60
e-eefe9289ce5f","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"0ced9d2b-d7af-4b4f-
9617-e980f458bbf1"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.370Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-0
u5ana@test.com","userI
d":"0ced9d2b-d7af-4b4f
-9617-e980f458bbf1"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:23.378Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.379Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"05811080-fc6f-4095-b6
0e-eefe9289ce5f","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":229,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.389Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"adca72fe-7a16-4528-ae
80-16a6f5cf4f7c","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.390Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
adca72fe-7a16-4528-ae8
0-16a6f5cf4f7c","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-0u5ana@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.598Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
adca72fe-7a16-4528-ae8
0-16a6f5cf4f7c","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"0ced9d2b-d7af-4b4f-9
617-e980f458bbf1","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"0ced9d2b-d7af-4b
4f-9617-e980f458bbf1"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.604Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"adca72fe-7a16-4528-ae
80-16a6f5cf4f7c","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"0ced9d2b-d7
af-4b4f-9617-e980f458b
bf1","duration":215,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.620Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
47e5bbdd-c676-4b11-983
7-122b13d30191","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"1a8c91
5c-8d75-432b-b56b-6453
7019f6e7","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.624Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
47e5bbdd-c676-4b11-983
7-122b13d30191","messa
ge":"[\"Date must be 
in the future\",\"End 
date must be at least 
1 hour after start dat
e\"]","context":"Excep
tionFilter","userId":"
1a8c915c-8d75-432b-b56
b-64537019f6e7","http"
:{"method":"POST","pat
h":"/"},"data":{"httpS
tatus":400,"isBusiness
Error":true},"error":{
"code":"VALIDATION_ERR
OR","message":"Bad 
Request Exception","st
ack":"BadRequestExcept
ion: Bad Request 
Exception\n    at Vali
dationPipe.exceptionFa
ctory (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@nest
js\\common\\pipes\\val
idation.pipe.js:101:20
)\n    at ValidationPi
pe.transform (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\common\\pip
es\\validation.pipe.js
:74:30)\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.644Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
47e5bbdd-c676-4b11-983
7-122b13d30191","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"1a8c91
5c-8d75-432b-b56b-6453
7019f6e7","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.658Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cb6deaf0-9ac8-4c54-9df
5-ff03cbb26a7d","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.668Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
f94e329c-6e4b-42a0-874
2-1d089444bdb0","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.676Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
7644d09a-930c-42b4-acd
0-39f8e63e332f","messa
ge":"Cannot POST /api/
v1/orders","context":"
ExceptionFilter","http
":{"method":"POST","pa
th":"/"},"data":{"http
Status":404,"isBusines
sError":true},"error":
{"code":"NOT_FOUND","m
essage":"Cannot POST /
api/v1/orders","stack"
:"NotFoundException: 
Cannot POST 
/api/v1/orders\n    
at callback (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@nestjs\\core\\router
\\routes-resolver.js:7
7:19)\n    at C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@nestjs\\core\\route
r\\router-proxy.js:9:2
3\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\src\\common\\o
bservability\\context.
middleware.ts:60:7\n  
  at 
AsyncLocalStorage.run 
(node:internal/async_l
ocal_storage/async_hoo
ks:91:14)\n    at Requ
estContextService.run 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\request-context.ser
vice.ts:27:42)\n    
at 
ContextMiddleware.use 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\src
\\common\\observabilit
y\\context.middleware.
ts:59:25)\n    at C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@nestjs\\core\\r
outer\\router-proxy.js
:9:23\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:365:14)\n    at 
param (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\expre
ss\\lib\\router\\index
.js:376:14)\n    at Fu
nction.process_params 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\express\\li
b\\router\\index.js:42
1:3)\n    at next (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:280:10
)\n    at 
urlencodedParser (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\body-parser\\lib
\\types\\urlencoded.js
:85:7)\n    at 
Layer.handle [as 
handle_request] (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\express\\lib\\rou
ter\\layer.js:95:5)\n 
   at trim_prefix (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\express\\lib\\r
outer\\index.js:328:13
)\n    at C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\ex
press\\lib\\router\\in
dex.js:286:9\n    at F
unction.process_params
 (C:\\DevOps\\Desarrol
los\\IronLoot\\api\\no
de_modules\\express\\l
ib\\router\\index.js:3
46:12)\n    at next (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\express\\lib\
\router\\index.js:280:
10)\n    at C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
body-parser\\lib\\read
.js:137:5\n    at Asyn
cResource.runInAsyncSc
ope (node:async_hooks:
214:14)\n    at 
invokeCallback (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\raw-body\\index.js
:238:16)\n    at done 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:227:7)\n    
at 
IncomingMessage.onEnd 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\raw-body\\i
ndex.js:287:7)\n    
at 
IncomingMessage.emit (
node:events:519:28)\n 
   at endReadableNT (n
ode:internal/streams/r
eadable:1698:12)\n    
at processTicksAndReje
ctions (node:internal/
process/task_queues:90
:21)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../src/common
/observability/context
.middleware.ts:60:7
      at RequestContex
tService.run (../src/c
ommon/observability/re
quest-context.service.
ts:27:42)
      at 
ContextMiddleware.use 
(../src/common/observa
bility/context.middlew
are.ts:59:25)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:9:23
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at param (../nod
e_modules/express/lib/
router/index.js:365:14
)
      at param (../nod
e_modules/express/lib/
router/index.js:376:14
)
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:421:3)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at 
urlencodedParser (../n
ode_modules/body-parse
r/lib/types/urlencoded
.js:85:7)
      at Layer.handle 
[as handle_request] (.
./node_modules/express
/lib/router/layer.js:9
5:5)
      at trim_prefix (
../node_modules/expres
s/lib/router/index.js:
328:13)
      at ../node_modul
es/express/lib/router/
index.js:286:9
      at Function.proc
ess_params (../node_mo
dules/express/lib/rout
er/index.js:346:12)
      at next (../node
_modules/express/lib/r
outer/index.js:280:10)
      at ../node_modul
es/body-parser/lib/rea
d.js:137:5
      at 
invokeCallback (../nod
e_modules/raw-body/ind
ex.js:238:16)
      at done (../node
_modules/raw-body/inde
x.js:227:7)
      at 
IncomingMessage.onEnd 
(../node_modules/raw-b
ody/index.js:287:7)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.689Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"faac463e-0b00-4575-9c
71-a3bfac1532cf","mess
age":"OrdersController
.findAll() called","co
ntext":"OrdersControll
er","userId":"b2803dd6
-05f0-492e-89e3-6525a7
8fd10b","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.693Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"faac463e-0b00-4575-9c
71-a3bfac1532cf","mess
age":"OrdersController
.findAll() completed",
"context":"OrdersContr
oller","userId":"b2803
dd6-05f0-492e-89e3-652
5a78fd10b","duration":
4,"http":{"method":"GE
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ should 
prepare a closed 
auction with a winner

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:5
0:8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
prevent non-winner 
from creating order

    expected 403 
"Forbidden", got 404 
"Not Found"

    [0m [90m 75 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${loser.token}`[39m)
     [90m 76 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 77 |[39m     
    [33m.[39mexpect(
[35m403[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 78 |[39m  
   })[33m;[39m
     [90m 79 |[39m
     [90m 80 |[39m  
   it([32m'should 
allow winner to 
create order'[39m[33
m,[39m 
[36masync[39m () 
[33m=>[39m {[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:7
7:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
allow winner to 
create order

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 83 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 84 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 85 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 86 |[39m
     [90m 87 |[39m  
     expect(res[33m.
[39mbody[33m.[39msta
tus)[33m.[39mtoBe([
32m'PENDING_PAYMENT'[
39m)[33m;[39m
     [90m 88 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:8
5:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Create 
Order ÔÇ║ should 
return existing order 
if called again 
(idempotency)

    expected 201 
"Created", got 404 
"Not Found"

    [0m [90m 94 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer 
${winner.token}`[39m)
     [90m 95 |[39m  
       
[33m.[39msend({ 
auctionId })
    [31m[1m>[22m[3
9m[90m 96 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m [90m// Or 200, 
depending on 
implementation 
choice. Service 
returns order.[39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 97 |[39m
     [90m 98 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mtotalAmo
unt))[33m.[39mtoBe(
[35m60[39m)[33m;[39
m
     [90m 99 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:9
6:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Orders Module 
(e2e) ÔÇ║ Get Orders 
ÔÇ║ should list user 
orders

    expect(received).t
oBeGreaterThanOrEqual(
expected)

    Expected: >= 1
    Received:    0

    [0m [90m 107 
|[39m         [33m.
[39mexpect([35m200[3
9m)[33m;[39m
     [90m 108 |[39m
    [31m[1m>[22m[3
9m[90m 109 |[39m    
   expect(res[33m.[3
9mbody[33m.[39mlengt
h)[33m.[39mtoBeGreat
erThanOrEqual([35m1[
39m)[33m;[39m
     [90m     |[39m 
                      
        
[31m[1m^[22m[39m
     [90m 110 |[39m 
      expect(res[33m.
[39mbody[[35m0[39m]
[33m.[39mauction)[3
3m.[39mtoBeDefined()
[33m;[39m
     [90m 111 |[39m 
    })[33m;[39m
     [90m 112 |[39m 
  })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/orders.e2e-spec.ts:1
09:31)

FAIL test/e2e/bids.e2e
-spec.ts (16.187 s)
  ÔùÅ Console

    console.info
      {"timestamp":"20
26-01-12T19:11:21.953Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Error persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.info
      {"timestamp":"20
26-01-12T19:11:21.976Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
no-context","message":
"Audit persistence con
nected","context":"Aud
itPersistence"}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)
          at 
Function.from 
(<anonymous>)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.072Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.087Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e6db0a63-b5cc-4301-9a0
c-b937c076ef23","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-e3kcv@test.com"
,"username":"usere3kcv
"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.104Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
e3kcv@test.com","found
":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.107Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"usere3kcv","fo
und":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.330Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-e3kcv@test.com","user
name":"usere3kcv"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.337Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e6db0a63-b5cc-4301-9a0
c-b937c076ef23","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"d0297cda-5a06-4b2a-
8775-00fccc5272ea"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.337Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-e
3kcv@test.com","userId
":"d0297cda-5a06-4b2a-
8775-00fccc5272ea"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.384Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.385Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"e6db0a63-b5cc-4301-9a
0c-b937c076ef23","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":313,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.417Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"dfe475a9-61ea-4a28-8c
42-afdcc5d5bcb1","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.419Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
dfe475a9-61ea-4a28-8c4
2-afdcc5d5bcb1","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-e3kcv@te
st.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.661Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
dfe475a9-61ea-4a28-8c4
2-afdcc5d5bcb1","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"d0297cda-5a06-4b2a-8
775-00fccc5272ea","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"d0297cda-5a06-4b
2a-8775-00fccc5272ea"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.677Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"dfe475a9-61ea-4a28-8c
42-afdcc5d5bcb1","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"d0297cda-5a
06-4b2a-8775-00fccc527
2ea","duration":260,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.685Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.687Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ccf47fb9-0b8f-4207-a40
6-7d30dd1ff6a4","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-1jgn0i@test.com
","username":"user1jgn
0i"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.689Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
1jgn0i@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.691Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"user1jgn0i","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.915Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-1jgn0i@test.com","use
rname":"user1jgn0i"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.923Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ccf47fb9-0b8f-4207-a40
6-7d30dd1ff6a4","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"ce133882-7b1a-425d-
8b13-29e6d4991969"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.923Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-1
jgn0i@test.com","userI
d":"ce133882-7b1a-425d
-8b13-29e6d4991969"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:22.932Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.932Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"ccf47fb9-0b8f-4207-a4
06-7d30dd1ff6a4","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":247,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:22.952Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cdcf84d2-2f71-4f3b-8c
bd-fd53792a49b5","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:22.953Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cdcf84d2-2f71-4f3b-8cb
d-fd53792a49b5","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-1jgn0i@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.166Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
cdcf84d2-2f71-4f3b-8cb
d-fd53792a49b5","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"ce133882-7b1a-425d-8
b13-29e6d4991969","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"ce133882-7b1a-42
5d-8b13-29e6d4991969"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.175Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"cdcf84d2-2f71-4f3b-8c
bd-fd53792a49b5","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"ce133882-7b
1a-425d-8b13-29e6d4991
969","duration":223,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.183Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"AuthController.r
egister() called","con
text":"AuthController"
,"http":{"method":"POS
T","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.184Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5b608b57-7909-49b0-8fb
6-b615787c15e5","messa
ge":"Attempting user r
egistration","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"email"
:"test-b5sgqa@test.com
","username":"userb5sg
qa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.186Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"Existing email c
heck","context":"AuthS
ervice","http":{"metho
d":"POST","path":"/"},
"data":{"email":"test-
b5sgqa@test.com","foun
d":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.188Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"Existing 
username check","conte
xt":"AuthService","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rname":"userb5sgqa","f
ound":false}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.401Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"Creating user 
in DB","context":"Auth
Service","http":{"meth
od":"POST","path":"/"}
,"data":{"email":"test
-b5sgqa@test.com","use
rname":"userb5sgqa"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.405Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
5b608b57-7909-49b0-8fb
6-b615787c15e5","messa
ge":"User registered s
uccessfully","context"
:"AuthService","http":
{"method":"POST","path
":"/"},"data":{"userId
":"8bf568e8-63ea-4906-
a133-30de57e6208c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.405Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"Created user rec
ord","context":"AuthSe
rvice","http":{"method
":"POST","path":"/"},"
data":{"email":"test-b
5sgqa@test.com","userI
d":"8bf568e8-63ea-4906
-a133-30de57e6208c"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.error
      {"timestamp":"20
26-01-12T19:11:23.413Z
","level":"error","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"Failed to send 
verification email","c
ontext":"EmailService"
,"http":{"method":"POS
T","path":"/"},"error"
:{}}

    [0m [90m 162 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
    [31m[1m>[22m[3
9m[90m 164 |[39m    
     console[33m.[39
merror(json)[33m;[39
m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 165 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 166 |[39m 
    }
     [90m 167 |[39m 
  }[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:164:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.error (../src/comm
on/observability/logge
r.service.ts:65:10)
      at 
ChildLogger.error (../
src/common/observabili
ty/logger.service.ts:2
47:17)
      at EmailService.
sendVerificationEmail 
(../src/modules/notifi
cations/email.service.
ts:35:16)
      at 
AuthService.register (
../src/modules/auth/au
th.service.ts:212:5)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.414Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"5b608b57-7909-49b0-8f
b6-b615787c15e5","mess
age":"AuthController.r
egister() completed","
context":"AuthControll
er","duration":232,"ht
tp":{"method":"POST","
path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.423Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"88981f6a-917d-47ff-91
0b-6b1285db489b","mess
age":"AuthController.l
ogin() called","contex
t":"AuthController","h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.424Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
88981f6a-917d-47ff-910
b-6b1285db489b","messa
ge":"Login attempt","c
ontext":"AuthService",
"http":{"method":"POST
","path":"/"},"data":{
"email":"test-b5sgqa@t
est.com"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.633Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
88981f6a-917d-47ff-910
b-6b1285db489b","messa
ge":"User logged in su
ccessfully","context":
"AuthService","userId"
:"8bf568e8-63ea-4906-a
133-30de57e6208c","htt
p":{"method":"POST","p
ath":"/"},"data":{"use
rId":"8bf568e8-63ea-49
06-a133-30de57e6208c"}
}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.640Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"88981f6a-917d-47ff-91
0b-6b1285db489b","mess
age":"AuthController.l
ogin() completed","con
text":"AuthController"
,"userId":"8bf568e8-63
ea-4906-a133-30de57e62
08c","duration":217,"h
ttp":{"method":"POST",
"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.660Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ed1b72c2-71a9-4ee1-a75
4-f56980a20740","messa
ge":"AuctionsControlle
r.create() called","co
ntext":"AuctionsContro
ller","userId":"d0297c
da-5a06-4b2a-8775-00fc
cc5272ea","http":{"met
hod":"POST","path":"/"
}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.664Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ed1b72c2-71a9-4ee1-a75
4-f56980a20740","messa
ge":"[\"Date must be 
in the future\"]","con
text":"ExceptionFilter
","userId":"d0297cda-5
a06-4b2a-8775-00fccc52
72ea","http":{"method"
:"POST","path":"/"},"d
ata":{"httpStatus":400
,"isBusinessError":tru
e},"error":{"code":"VA
LIDATION_ERROR","messa
ge":"Bad Request Excep
tion","stack":"BadRequ
estException: Bad 
Request Exception\n   
 at ValidationPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\validation.pipe.j
s:101:20)\n    at Vali
dationPipe.transform (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\com
mon\\pipes\\validation
.pipe.js:74:30)\n    
at resolveParamValue (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\router\\router-exec
ution-context.js:148:2
3)\n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.log
      prisma:error 
      Invalid `this.pr
isma.auditEvent.create
()` invocation in
      C:\DevOps\Desarr
ollos\IronLoot\api\src
\modules\audit\audit-p
ersistence.service.ts:
81:36
      
        78   
payload?: 
Record<string, 
unknown>;
        79 }): 
Promise<void> {
        80   try {
      ÔåÆ 81     
await this.prisma.audi
tEvent.create(
      Inconsistent 
column data: Error 
creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1

      at Object.mc (..
/node_modules/@prisma/
client/runtime/library
.js:21:432)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.683Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
ed1b72c2-71a9-4ee1-a75
4-f56980a20740","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"d0297c
da-5a06-4b2a-8775-00fc
cc5272ea","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"AUCTION_CREATED","ent
ityType":"Auction"},"e
rror":{"message":"\nIn
valid `this.prisma.aud
itEvent.create()` 
invocation in\nC:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\src\\module
s\\audit\\audit-persis
tence.service.ts:81:36
\n\n  78   payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1","stack":"Pri
smaClientKnownRequestE
rror: \nInvalid `this.
prisma.auditEvent.crea
te()` invocation in\nC
:\\DevOps\\Desarrollos
\\IronLoot\\api\\src\\
modules\\audit\\audit-
persistence.service.ts
:81:36\n\n  78   
payload?: 
Record<string, 
unknown>;\n  79 }): 
Promise<void> {\n  80 
  try {\nÔåÆ 81     
await this.prisma.audi
tEvent.create(\nIncons
istent column data: 
Error creating UUID, 
invalid character: 
expected an optional 
prefix of `urn:uuid:` 
followed by 
[0-9a-fA-F-], found 
`u` at 1\n    at 
$n.handleRequestError 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:121:7315)\n    at 
$n.handleAndLogRequest
Error (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:121:6623)\n 
   at $n.request (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:1
21:6307)\n    at l (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:130:9633)\n    at Aud
itPersistenceService.p
ersistAuditEvent (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\src\\mod
ules\\audit\\audit-per
sistence.service.ts:81
:7)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.info
      {"timestamp":"20
26-01-12T19:11:23.698Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c51e3135-0df3-451d-902
a-886bd4af2d4f","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"ce133882-7b1
a-425d-8b13-29e6d49919
69","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.966Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c51e3135-0df3-451d-902
a-886bd4af2d4f","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"ce1338
82-7b1a-425d-8b13-29e6
d4991969","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:160)\n    
at zp (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:951)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:826)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.968Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
c51e3135-0df3-451d-902
a-886bd4af2d4f","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"c
e133882-7b1a-425d-8b13
-29e6d4991969","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:23.974Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"3d0863d9-7df3-4c48-b3
ce-071591dbb419","mess
age":"AuctionsControll
er.findOne() called","
context":"AuctionsCont
roller","http":{"metho
d":"GET","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:23.974Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
3d0863d9-7df3-4c48-b3c
e-071591dbb419","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:23.984Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a2bb4319-5af5-4008-95d
d-b5224ea2f127","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"8bf568e8-63e
a-4906-a133-30de57e620
8c","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.179Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a2bb4319-5af5-4008-95d
d-b5224ea2f127","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"8bf568
e8-63ea-4906-a133-30de
57e6208c","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:160)\n    
at zp (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:951)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:826)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)\n    at Xs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
851)\n    at Zs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:119)\n    at Xs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:851)\n    at Zs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:119)\n    at Xs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:851)\n    at Zs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:119)\n    at Xs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:851)\n    at Zs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:119)\n    at 
Xs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:851)\n    
at Zs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:119)\n   
 at Xs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:851)\n  
  at Zs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:119)\n 
   at Xs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:851)\n
    at Zs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:119)\
n    at Xs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:851)
\n    at Zs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:119
)\n    at Xs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:85
1)\n    at Zs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:1
19)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.181Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
a2bb4319-5af5-4008-95d
d-b5224ea2f127","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"8
bf568e8-63ea-4906-a133
-30de57e6208c","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:24.190Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2338958-0975-4b6d-b3c
c-831146d254dc","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"d0297cda-5a0
6-4b2a-8775-00fccc5272
ea","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.398Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2338958-0975-4b6d-b3c
c-831146d254dc","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"d0297c
da-5a06-4b2a-8775-00fc
cc5272ea","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.400Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
e2338958-0975-4b6d-b3c
c-831146d254dc","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"d
0297cda-5a06-4b2a-8775
-00fccc5272ea","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.info
      {"timestamp":"20
26-01-12T19:11:24.412Z
","level":"info","serv
ice":"ironloot-api","e
nv":"test","traceId":"
703b57c0-c6b2-428d-958
9-3304659d15b9","messa
ge":"BidsController.pl
aceBid() called","cont
ext":"BidsController",
"userId":"8bf568e8-63e
a-4906-a133-30de57e620
8c","http":{"method":"
POST","path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:158:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.659Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
703b57c0-c6b2-428d-958
9-3304659d15b9","messa
ge":"Failed to 
persist audit event","
context":"AuditPersist
ence","userId":"8bf568
e8-63ea-4906-a133-30de
57e6208c","http":{"met
hod":"POST","path":"/"
},"data":{"eventType":
"BID_PLACED","entityTy
pe":"Auction"},"error"
:{"message":"Maximum 
call stack size exceed
ed","stack":"RangeErro
r: Maximum call stack 
size exceeded\n    at 
zp (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:909)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:826)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)\n    at Zs (C:\\De
vOps\\Desarrollos\\Iro
nLoot\\api\\node_modul
es\\@prisma\\client\\r
untime\\library.js:29:
119)\n    at Xs (C:\\D
evOps\\Desarrollos\\Ir
onLoot\\api\\node_modu
les\\@prisma\\client\\
runtime\\library.js:29
:851)\n    at Zs (C:\\
DevOps\\Desarrollos\\I
ronLoot\\api\\node_mod
ules\\@prisma\\client\
\runtime\\library.js:2
9:119)\n    at Xs (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@prisma\\client
\\runtime\\library.js:
29:851)\n    at Zs (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@prisma\\clien
t\\runtime\\library.js
:29:119)\n    at Xs (C
:\\DevOps\\Desarrollos
\\IronLoot\\api\\node_
modules\\@prisma\\clie
nt\\runtime\\library.j
s:29:851)\n    at Zs (
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@prisma\\cli
ent\\runtime\\library.
js:29:119)\n    at Xs 
(C:\\DevOps\\Desarroll
os\\IronLoot\\api\\nod
e_modules\\@prisma\\cl
ient\\runtime\\library
.js:29:851)\n    at 
Zs (C:\\DevOps\\Desarr
ollos\\IronLoot\\api\\
node_modules\\@prisma\
\client\\runtime\\libr
ary.js:29:119)\n    
at Xs (C:\\DevOps\\Des
arrollos\\IronLoot\\ap
i\\node_modules\\@pris
ma\\client\\runtime\\l
ibrary.js:29:851)\n   
 at Zs (C:\\DevOps\\De
sarrollos\\IronLoot\\a
pi\\node_modules\\@pri
sma\\client\\runtime\\
library.js:29:119)\n  
  at Xs (C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@pr
isma\\client\\runtime\
\library.js:29:851)\n 
   at Zs (C:\\DevOps\\
Desarrollos\\IronLoot\
\api\\node_modules\\@p
risma\\client\\runtime
\\library.js:29:119)\n
    at Xs (C:\\DevOps\
\Desarrollos\\IronLoot
\\api\\node_modules\\@
prisma\\client\\runtim
e\\library.js:29:851)\
n    at Zs (C:\\DevOps
\\Desarrollos\\IronLoo
t\\api\\node_modules\\
@prisma\\client\\runti
me\\library.js:29:119)
\n    at Xs (C:\\DevOp
s\\Desarrollos\\IronLo
ot\\api\\node_modules\
\@prisma\\client\\runt
ime\\library.js:29:851
)\n    at Zs (C:\\DevO
ps\\Desarrollos\\IronL
oot\\api\\node_modules
\\@prisma\\client\\run
time\\library.js:29:11
9)\n    at Xs (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@prisma\\client\\ru
ntime\\library.js:29:8
51)"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at 
StructuredLogger.warn 
(../src/common/observa
bility/logger.service.
ts:61:10)
      at AuditPersiste
nceService.persistAudi
tEvent (../src/modules
/audit/audit-persisten
ce.service.ts:98:19)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.660Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
703b57c0-c6b2-428d-958
9-3304659d15b9","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","userId":"8
bf568e8-63ea-4906-a133
-30de57e6208c","http":
{"method":"POST","path
":"/"},"data":{"httpSt
atus":400,"isBusinessE
rror":true},"error":{"
code":"VALIDATION_ERRO
R","message":"Validati
on failed (uuid is exp
ected)","stack":"BadRe
questException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
2)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

    console.debug
      {"timestamp":"20
26-01-12T19:11:24.665Z
","level":"debug","ser
vice":"ironloot-api","
env":"test","traceId":
"08b754fa-9a23-4bbb-8e
8a-518a2d09acac","mess
age":"BidsController.g
etBids() called","cont
ext":"BidsController",
"http":{"method":"GET"
,"path":"/"}}

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:155:17)

    console.warn
      {"timestamp":"20
26-01-12T19:11:24.666Z
","level":"warn","serv
ice":"ironloot-api","e
nv":"test","traceId":"
08b754fa-9a23-4bbb-8e8
a-518a2d09acac","messa
ge":"Validation 
failed (uuid is expect
ed)","context":"Except
ionFilter","http":{"me
thod":"GET","path":"/"
},"data":{"httpStatus"
:400,"isBusinessError"
:true},"error":{"code"
:"VALIDATION_ERROR","m
essage":"Validation 
failed (uuid is expect
ed)","stack":"BadReque
stException: 
Validation failed 
(uuid is expected)\n  
  at ParseUUIDPipe.exc
eptionFactory (C:\\Dev
Ops\\Desarrollos\\Iron
Loot\\api\\node_module
s\\@nestjs\\common\\pi
pes\\parse-uuid.pipe.j
s:26:27)\n    at Parse
UUIDPipe.transform (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\commo
n\\pipes\\parse-uuid.p
ipe.js:33:24)\n    at 
C:\\DevOps\\Desarrollo
s\\IronLoot\\api\\node
_modules\\@nestjs\\cor
e\\pipes\\pipes-consum
er.js:16:33\n    at pr
ocessTicksAndRejection
s (node:internal/proce
ss/task_queues:105:5)\
n    at 
resolveParamValue (C:\
\DevOps\\Desarrollos\\
IronLoot\\api\\node_mo
dules\\@nestjs\\core\\
router\\router-executi
on-context.js:148:23)\
n    at async 
Promise.all (index 
0)\n    at pipesFn (C:
\\DevOps\\Desarrollos\
\IronLoot\\api\\node_m
odules\\@nestjs\\core\
\router\\router-execut
ion-context.js:151:13)
\n    at C:\\DevOps\\D
esarrollos\\IronLoot\\
api\\node_modules\\@ne
stjs\\core\\router\\ro
uter-execution-context
.js:37:30"}}

    [0m [90m 159 
|[39m         [36mbr
eak[39m[33m;[39m
     [90m 160 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mWARN[39m[
33m:[39m
    [31m[1m>[22m[3
9m[90m 161 |[39m    
     console[33m.[39
mwarn(json)[33m;[39m
     [90m     |[39m 
                
[31m[1m^[22m[39m
     [90m 162 |[39m 
        [36mbreak[39
m[33m;[39m
     [90m 163 |[39m 
      [36mcase[39m 
[33mLogLevel[39m[33m
.[39m[33mERROR[39m
[33m:[39m
     [90m 164 |[39m 
        console[33m.
[39merror(json)[33m;
[39m[0m

      at StructuredLog
ger.output (../src/com
mon/observability/logg
er.service.ts:161:17)
      at StructuredLog
ger.write (../src/comm
on/observability/logge
r.service.ts:109:10)
      at StructuredLog
ger.logWithLevel (../s
rc/common/observabilit
y/logger.service.ts:72
:10)
      at GlobalExcepti
onFilter.catch (../src
/common/observability/
exception.filter.ts:10
7:17)
      at ExceptionsHan
dler.invokeCustomFilte
rs (../node_modules/@n
estjs/core/exceptions/
exceptions-handler.js:
30:26)
      at ExceptionsHan
dler.next (../node_mod
ules/@nestjs/core/exce
ptions/exceptions-hand
ler.js:14:18)
      at ../node_modul
es/@nestjs/core/router
/router-proxy.js:13:35

  ÔùÅ Bids Module 
(e2e) ÔÇ║ should 
prepare an active 
auction

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 48 
|[39m       [33m.[3
9m[36mset[39m([32m'
Authorization'[39m[3
3m,[39m [32m`Bearer 
${seller.token}`[39m)
     [90m 49 |[39m  
     [33m.[39msend(a
uctionDto)
    [31m[1m>[22m[3
9m[90m 50 |[39m     
  [33m.[39mexpect([
35m201[39m)[33m;[39
m
     [90m    |[39m  
      
[31m[1m^[22m[39m
     [90m 51 |[39m
     [90m 52 |[39m  
   auctionId 
[33m=[39m createRes
[33m.[39mbody[33m.[
39mid[33m;[39m
     [90m 53 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:50:
8)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
valid bid

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 73 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder1
.token}`[39m)
     [90m 74 |[39m  
       
[33m.[39msend({ 
amount[33m:[39m 
bidAmount })
    [31m[1m>[22m[3
9m[90m 75 |[39m     
    [33m.[39mexpect(
[35m201[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 76 |[39m
     [90m 77 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mamount))
[33m.[39mtoBe(bidAmo
unt)[33m;[39m
     [90m 78 |[39m  
     expect(res[33m.
[39mbody[33m.[39mbid
derId)[33m.[39mtoBe(
bidder1[33m.[39mid)
[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:75:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should update 
auction current price

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 82 
|[39m       
[36mconst[39m res 
[33m=[39m 
[36mawait[39m reques
t(testApp[33m.[39mge
tApp()[33m.[39mgetHt
tpServer())
     [90m 83 |[39m  
       [33m.[39m[36
mget[39m([32m`/api/v
1/auctions/${auctionId
}`[39m)
    [31m[1m>[22m[3
9m[90m 84 |[39m     
    [33m.[39mexpect(
[35m200[39m)[33m;[
39m
     [90m    |[39m  
        
[31m[1m^[22m[39m
     [90m 85 |[39m
     [90m 86 |[39m  
     expect([33mNumbe
r[39m(res[33m.[39mb
ody[33m.[39mcurrentP
rice))[33m.[39mtoBe(
[35m105[39m)[33m;[
39m
     [90m 87 |[39m  
   })[33m;[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:84:
10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Place Bid 
ÔÇ║ should allow a 
higher bid from 
another user

    expected 201 
"Created", got 400 
"Bad Request"

    [0m [90m 110 
|[39m         [33m.
[39m[36mset[39m([32
m'Authorization'[39m
[33m,[39m 
[32m`Bearer ${bidder2
.token}`[39m)
     [90m 111 |[39m 
        
[33m.[39msend({ 
amount[33m:[39m 
[35m110[39m })
    [31m[1m>[22m[3
9m[90m 112 |[39m    
     [33m.[39mexpect
([35m201[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 113 |[39m 
    })[33m;[39m
     [90m 114 |[39m 
  })[33m;[39m
     [90m 115 
|[39m[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:112
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

  ÔùÅ Bids Module 
(e2e) ÔÇ║ Get Bids 
ÔÇ║ should list bids 
history

    expected 200 
"OK", got 400 "Bad 
Request"

    [0m [90m 119 
|[39m         [33m.
[39m[36mget[39m([32
m`/api/v1/auctions/${a
uctionId}/bids`[39m)
     [90m 120 |[39m 
        [33m.[39m[3
6mset[39m([32m'Autho
rization'[39m[33m,[
39m [32m`Bearer ${bid
der1.token}`[39m)
    [31m[1m>[22m[3
9m[90m 121 |[39m    
     [33m.[39mexpect
([35m200[39m)[33m;
[39m
     [90m     |[39m 
         
[31m[1m^[22m[39m
     [90m 122 |[39m
     [90m 123 |[39m 
      expect([33mArra
y[39m[33m.[39misArr
ay(res[33m.[39mbody)
)[33m.[39mtoBe([36m
true[39m)[33m;[39m
     [90m 124 |[39m 
      expect(res[33m.
[39mbody[33m.[39mle
ngth)[33m.[39mtoBe(
[35m2[39m)[33m;[39m
[0m

      at 
Object.<anonymous> (e2
e/bids.e2e-spec.ts:121
:10)
      ----
      at 
Test._assertStatus (..
/node_modules/supertes
t/lib/test.js:252:14)
      at ../node_modul
es/supertest/lib/test.
js:308:13
      at 
Test._assertFunction (
../node_modules/supert
est/lib/test.js:285:13
)
      at Test.assert (
../node_modules/supert
est/lib/test.js:164:23
)
      at 
Server.localAssert (..
/node_modules/supertes
t/lib/test.js:120:14)

Test Suites: 10 
failed, 5 passed, 15 
total
Tests:       37 
failed, 40 passed, 77 
total
Snapshots:   0 total
Time:        17.153 
s, estimated 26 s
Ran all test suites.
